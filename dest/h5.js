"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=49)}([function(e,t,n){var i=n(1),o=n(3),a=i.baseUrl,s=function(e,t){var n=new $.Deferred,i={url:"",dataType:"json",type:"POST",data:{},async:!0,cache:!0},o=$.extend({},i,e);return t||(t=function(e){return e}),$.ajax(o).done(function(e){n.resolve(t(e,"done"))}).fail(function(e){n.reject(t(e,"fail"))}).always(function(e){n.reject(t(e,"always"))}),n.promise()};t.ajax=s,t.getLangAndMessageSettings=function(){return s({url:a+"/echatManager.do",data:{method:"getLangAndMessageSettings",companyPk:i.companyPk}},function(e,t){return"done"==t?(i.defaultLangPk=e.lang.langPk,i.messageDisplay=e.messageSettings.messageDisply,i.messageContent=e.messageSettings.messageLang?e.messageSettings.messageLang.content:"",i.messageTypeList=e.messageSettings.messageTypeList,i.langMap=e.langMap):"fail"==t&&(i.defaultLangPk="",i.messageDisplay="",i.messageContent="",i.messageTypeList="",i.langMap={}),e})},t.getSettingsAndService=function(){return s({url:a+"/echatManager.do",data:{method:"getSettingsAndService",companyPk:i.companyPk,codeKey:i.codeKey,type:i.type}},function(e,t){return"done"==t?(i.ecselfList=e.selfService,i.BasicSetting=e.basiceSetting.BasicSetting,i.ExtraSetting=e.basiceSetting.ExtraSetting,i.OperatorBasicSettings=e.operatorSetting,i.vocabulary=e.vocabulary,i.period=30,i.isWs=e.isWs):"fail"==t&&(i.ecselfList="",i.BasicSetting="",i.ExtraSetting="",i.OperatorBasicSettings="",i.vocabulary="",i.period=30,i.isWs=!1),e})},t.getDepartment=function(){return s({url:a+"/echatManager.do",data:{method:"getDepartment",companyPk:i.companyPk,codeKey:i.codeKey,type:i.type}},function(e,t){return"done"==t?i.businessList=e:"fail"==t&&(i.businessList=[]),e})},t.getVisitosDisplay=function(){return s({url:a+"/echatManager.do",data:{method:"getVisitosDisplay",companyPk:i.companyPk}},function(e,t){return"done"==t?(i.tabList=e.tabLists,i.buttonList=e.buttonListJson,i.advertisement=e.advertisement):"fail"==t&&(i.tabList=[],i.buttonList=[],i.advertisement=""),e})},t.getTmpCode=function(){return s({url:a+"/echatManager.do",data:{method:"getTmpCode",companyPk:i.companyPk,codeKey:i.codeKey}},function(e,t){return"done"==t?i.aDset=e.aDset:"fail"==t&&(i.aDset={}),e})},t.initChatId=function(e){return s({url:a+"/echatManager.do",data:{method:"initChatId",companyPk:i.companyPk,vid:e,hjUserData:o.hjUserData,visitorInfo:o.visitorInfo},async:!1,cache:!1},function(e,t){return e})},t.getIp=function(){return s({url:a+"/echatManager.do",data:{method:"getIp"},dataType:"jsonp",async:!1},function(e,t){return"object"==("undefined"==typeof returnCitySN?"undefined":_typeof(returnCitySN))?returnCitySN:{cip:"0.0.0.0",cid:"0",cname:"未知地区"}})},t.generationVisitorsID=function(){return s({url:a+"/echatManager.do",data:{method:"generationVisitorsID",companyPk:i.companyPk},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getVisitorsName=function(e){return s({url:a+"/echatManager.do",data:{method:"getVisitorsName",visitorId:e},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.closeEchat=function(e,t,n){return s({url:a+"/echat.do",data:{method:"closeEchat",chatID:e,url:t,opname:n},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.inQueue=function(e,t){return s({url:a+"/queue.do",data:{method:"inQueue",chatID:i.chatID,companyPk:i.companyPk,langPk:i.defaultLangPk,message:e,IpStr:t}},function(e,t){return"done"==t?e:"fail"==t?e:void 0})},t.getBusinessQueue=function(e,t,n,o){return s({url:a+"/queue.do",data:{method:"getBusinessQueue",chatID:i.chatID,companyPk:i.companyPk,langPk:i.defaultLangPk,message:que.options.message,IpStr:que.options.IpStr}},function(e,t){return"done"==t?e:"fail"==t?e:void 0})},t.continueBusinessQueue=function(e){return s({url:a+"/queue.do",data:{method:"continueBusinessQueue",chatID:i.chatID,companyPk:i.companyPk,langPk:i.defaultLangPk,businessId:e},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.readMessage=function(e,t){return s({url:a+"/echat.do",data:{method:"readMessage",chatID:e,url:t},async:!1,cache:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getReceivedMID=function(e,t){return s({url:a+"/echat.do",data:{method:"getReceivedMID",messageId:e,workGroupName:t},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.sendMessage=function(e,t,n,i,o){return s({url:a+"/echat.do",data:{method:"sendMessage",chatID:e,message:t,code:n,url:i,visitorId:o},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getLangList=function(){return s({url:a+"/echatManager.do",data:{method:"getLangList",companyPk:i.companyPk,langPk:i.defaultLangPk},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getLangListByPk=function(e,t){return s({url:a+"/echatManager.do",data:{method:"getLangListByPk",companyPk:i.companyPk,langPk:i.defaultLangPk,langType:e,langKey:t},async:!1},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.saveMessageBox=function(e){var t=e.content;try{t=encodeURIComponent(encodeURIComponent(t))}catch(n){}return s({url:a+"/echatManager.do",data:{method:"saveMessageBox",messageTypePk:e.messageTypePk,companyPk:i.companyPk,name:e.name,telephone:e.telephone,email:e.email,title:e.title,content:e.content,company:e.company,brand:e.brand,contentencode:t}},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.setVisitorMonitor=function(e){var t=e;try{t=encodeURIComponent(JSON.stringify(e))}catch(n){}return s({url:a+"/visitorMonitor.do",data:{method:"setVisitorMonitor",monitorInfo:t}},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getHistoryDialogue=function(e,t){return s({url:a+"/historyOperator.do",async:!1,data:{method:"getHistoryDialogue",page:e,visitorId:t,companyPk:i.companyPk}},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getLeaveChat=function(e){return s({url:a+"/historyOperator.do",async:!1,data:{method:"getLeaveChat",visitorId:e}},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getSatisfaction=function(e){return s({url:a+"/echatManager.do",async:!1,data:{method:"getSatisfaction",companyPk:i.companyPk,langPk:i.defaultLangPk,chatID:e}},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.saveSatisfaction=function(e,t){return s({url:a+"/echatManager.do",async:!1,data:{method:"saveSatisfaction",companyPk:i.companyPk,chatID:e,satisfactionPk:t.satisfactionPk,optionPk:t.optionPk,satisfactionMemo:t.satisfactionMemo,nextSatisfactionPk:t.nextSatisfactionPk,rndVar:(new Date).getTime()}},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.getScreenshotSrc=function(e){return s({url:a+"/echatManager.do",async:!1,data:{method:"getScreenshotSrc",sendMsg:e},dataType:"text"},function(e,t){return"done"==t?e:"fail"==t?"":void 0})},t.keepTenQA=function(e){return s({url:a+"/echatManager.do",data:{method:"keepTenQA",chatId:i.chatID}},function(e,t){return"done"==t?"":"fail"==t?"":void 0})}},function(e,t){var n=document.location.protocol+"//"+location.host+"/any800",i={companyPk:"ff808081612620ee016126a0c33f0003",codeKey:1,langPk:"",type:"",baseUrl:n};if(location.hash.slice(1)){var o=location.hash.slice(1).split("/");o[1]&&(i.companyPk=o[1]),o[2]&&(i.codeKey=o[2]),o[3]&&(i.langPk=o[3])}e.exports=i},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFREYwQkZEQTEyNUNFNTExQkZERkY4NDA3M0QyQjI2RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEODA3MEZFNzZFNTYxMUU1QTJFQzgyQzVDRTJDN0I3MSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEODA3MEZFNjZFNTYxMUU1QTJFQzgyQzVDRTJDN0I3MSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjhDRjU0NENDOUQ2REU1MTE4QkVEREY3MTJGNjdFMzk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVERjBCRkRBMTI1Q0U1MTFCRkRGRjg0MDczRDJCMjZGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+exjVFgAAAHdJREFUeNp0kdENwCAIRFlBRmgnqOvrCrqN31RaSAg5SfhQ3p0CJCLPzraTdxLIYvWqhy5/DCAodq/RyYAJBBHUOrtDFlwZVC4+yQFYGcwwmeMKgjvWT80s1DT6wjTHkQUIZGAwfBoNNQME35yrLea0QfYNvgIMAFHxmoH1HK47AAAAAElFTkSuQmCC"},function(e,t){var n=function(){var e=location.href,t=e.indexOf("?")!==-1?e.split("?").pop():"",n={};return t.replace(/(\w+)(?:=([^&]*))?/g,function(e,t,i){n[t]=i}),n};$.getParameter=n},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){},function(e,t){var n=function(e){this.defaults={compantPk:"",codeKey:"",type:""},this.options=$.extend({},this.defaults,e)};n.prototype={width:0,height:0,checkInterval:null,onCheck:!1,init:function(){$("html").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}),this.width=$("html").width(),this.height=$("html").height(),this.scrollTop=document.body.scrollTop},startCheck:function(){var e=this;e.onCheck=!0,navigator.userAgent.indexOf("iPhone")>-1?e.checkIphone():e.checkNotIphone()},checkIphone:function(){var e=this;e.checkInterval&&clearInterval(e.checkInterval),uccH5Event.scrollToBottom(),e.checkInterval=setInterval(function(){e.checkIphoneFun()},300)},checkNotIphone:function(){var e=this;setTimeout(function(){window.scrollY<100&&window.scrollTo(0,99999),uccH5Event.scrollToBottom(),setTimeout(function(){window.scrollY<100&&window.scrollTo(0,99999),e.checkNotIphoneFun()},100)},500)},checkNotIphoneFun:function(){var e=this;e.endScroll||(this.scrollY()<document.body.scrollHeight&&0!=document.documentElement.scrollTop?this.checkIphone():navigator.userAgent.indexOf("iPhone")>-1&&320==$("body").width()||(window.scrollY<100&&window.scrollTo(0,99999),document.activeElement&&document.activeElement.scrollIntoViewIfNeeded&&window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0),e.success()))},checkIphoneFunV2:function(){var e=this;if(e.endScroll)return void(e.checkInterval&&clearInterval(e.checkInterval));document.activeElement&&document.activeElement.scrollIntoViewIfNeeded&&window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0),document.body.scrollTop=0,window.scrollY<100&&window.scrollTo(0,99999);var t=document.body.scrollHeight,n=$("html").height(),i=this.scrollY();console.log("scscrollHeight"+t),console.log("scscrollY"+i),console.log("height"+n),console.log("oldheight"+this.height);var o=Math.abs(t-this.height),a=i-2*this.height,s=n-this.height,r=(i<this.height,t-i),c=(-Math.abs(i),Math.min(r,this.height/2));c=Math.max(c,this.height/2-40),c=parseInt(c),s<-100?(console.log("type1"),e.checkInterval&&clearInterval(e.checkInterval),e.success()):o<10?(console.log("type2"),a>0?(console.log("type3"),$("html").css({top:0,width:"100%",height:c})):(console.log("type4"),$("html").css({top:0,width:"100%",height:this.height-40}),window.scrollTo(0,i)),e.checkInterval&&clearInterval(e.checkInterval),e.success()):(console.log("type5"),$("html").css({top:0,width:"100%",height:this.height-40}),document.body.scrollTop=0,e.checkInterval&&clearInterval(e.checkInterval),e.success())},checkIphoneFunV3:function(){var e=this;return e.endScroll?void(e.checkInterval&&clearInterval(e.checkInterval)):(e.samples=[],void e.getSample())},samples:[],getSample:function(){var e=this;if(e.endScroll)return void(e.checkInterval&&clearInterval(e.checkInterval));document.activeElement&&document.activeElement.scrollIntoViewIfNeeded&&window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0),window.scrollY<100&&window.scrollTo(0,99999),e.checkInterval&&clearInterval(e.checkInterval);var t=document.body.scrollHeight,n=$("html").height(),i=this.scrollY();e.samples.push({scHeight:t,scrollY:i,height:n}),e.changeHeight(),1==e.samples.length&&window.setTimeout(function(){e.getSample()},500)},changeHeight:function(){var e=this;if(console.log(JSON.stringify(e.samples)),1==e.samples.length){var t=Math.abs(e.samples[0].scHeight-this.height),n=e.samples[0].scrollY-2*this.height,i=e.samples[0].height-this.height,o=e.samples[0].scHeight-e.samples[0].scrollY,a=(-Math.abs(e.samples[0].scrollY),Math.min(o,this.height/2));a=Math.max(a,this.height/2-40),a=parseInt(a),i<-100?e.samples[0].type=1:t<10?n>0?(e.samples[0].type=2,$("html").css({top:0,width:"100%",height:a})):(e.samples[0].type=3,$("html").css({top:0,width:"100%",height:this.height-40}),window.scrollTo(0,e.samples[0].scrollY)):(e.samples[0].type=4,$("html").css({top:0,width:"100%",height:this.height-40}),document.body.scrollTop=0)}else if(2==e.samples.length){var o=e.samples[1].scHeight-e.samples[1].scrollY,a=(-Math.abs(e.samples[1].scrollY),Math.min(o,this.height/2));if(a=Math.max(a,this.height/2-40),a=parseInt(a),e.samples[0].scrollY==e.samples[1].scrollY&&e.samples[0].height==e.samples[1].height&&e.samples[0].scHeight==e.samples[1].scHeight);else if(e.samples[0].scrollY!=e.samples[1].scrollY){var n=e.samples[1].scrollY-2*this.height;n>0&&(e.samples[1].type=2,$("html").css({top:0,width:"100%",height:a}),e.samples[0]=e.samples[1],e.samples.pop())}e.success()}},checkIphoneFun:function(){var e=this;return console.log(e.endScroll),e.endScroll?void(e.checkInterval&&clearInterval(e.checkInterval)):void e.checkIphoneFunV3()},success:function(){uccH5Event.scrollToBottom(),this.endScroll=!0,$("#message").animate({scrollTop:document.getElementById("message").scrollHeight},1e3)},end:function(){var e=this;e.onCheck=!1,setTimeout(function(){e.onCheck||(e.checkInterval&&clearInterval(e.checkInterval),e.endScroll=!1,$("html").css({position:"absolute",top:"0px",left:"0px",width:"100%"}),$("html").animate({height:"100%"},"fast"),document.body.scrollTop=e.scrollTop,uccH5Event.scrollToBottom())},100)},scrollY:function(){return document.body.scrollTop+document.documentElement.scrollTop}},$.mobileInput=function(e){var t=new n(e);return t}},function(e,t){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,100)}}(),window.setTimeout=function(e,t){var n,i=Date.now,o=window.requestAnimFrame,a=i(),s=function r(){i()-a<t?n||o(r):e()};return o(s),{clear:function(){n=1}}},window.setInterval=function(e,t){var n,i=Date.now,o=window.requestAnimFrame,a=i(),s=function r(){i()-a<t||(a+=t,e()),n||o(r)};return o(s),{clear:function(){n=1}}},window.clearTimeout=function(e){e&&e.clear&&e.clear()},window.clearInterval=function(e){e&&e.clear&&e.clear()}},function(e,t,n){var i=function(e,t){this.$el=e,this.defaults={},this.options=$.extend({},this.defaults,t)};i.prototype={show:function(e){if(e&&"undefined"!=e&&"null"!=e){var t=this.$el;t.find(".systemInfo").remove(),t.append('<center class="systemInfromBox systemInfo"><span class="systemInfrom">'+e+"</span></center>"),document.getElementById("message").scrollTop=document.getElementById("message").scrollHeight}},hide:function(){var e=this.$el;e.find(".systemInfo").remove()}},$.fn.systemInfo=function(e){var t=new i($(this),e);return t}},function(e,t,n){var i=n(1),o=n(0),a=(i.baseUrl,n(48));!function(e,t,s){var r=function(e){this.defaults={},this.options=t.extend({},this.defaults,e)};r.prototype={DOMCheck:null,binds:function(){this.businessListBind(),this.inputCheck(),this.viewFix(),this.bigImgBind(),this.inputClickBind(),this.faceBind(),this.closeBind(),this.uploadInit(),this.initReconnect(),this.unload(),this.messageChange(),dialogue.islive()||t(".fileup input").attr("disabled",!0)},leaveCover:function(){t(".dialogue-footer-search").append("<div class='leaveMessage'>已断开连接，请刷新重试</div><div class='leaveMessageCover'></div>"),t(".leaveMessage").css({position:"absolute",bottom:"50px",left:"13px"}),setInterval(function(){t(".leaveMessage").fadeIn(500).fadeOut(500)},1e3)},openCover:function(){t(".leaveMessage").remove()},showVisitorInfo:function(){dialogue.showMsg({from:"client",content:"为了提高我们的服务质量,   请点击<span class = 'spans visitor_info' id = 'v_info'>完善客户信息</span><br>",saveIn:1}),t(".visitor_info").click(function(){visitorInformation.show()})},showAudio:function(){t("audio").each(function(e,n){t(n).parent().hasClass("audiojs")||($this=t(this),a.helpers.whenError=function(){var e=t(".dialogue-c").find("a[placeholder]");e.html("下载")},a.create($this))})},scrollToBottom:function(){document.getElementById("message").scrollTop=document.getElementById("message").scrollHeight},scrollToTop:function(){document.getElementById("message").scrollTop=0},businessListBind:function(){t("#message").delegate(".onlineCls","click",function(){if(!dialogue.islive()){t(this).data("num");storage.set("businessId",t(this).data("pk")),storage.set("businessName",t(this).attr("name"));var e=t(this).data("pk"),n=t(this).attr("name");if(bList.hasList(e).length>0){var i=uccH5Logic.showBusinessList(e);return void dialogue.showMsg({from:"client",content:i,saveIn:1})}var o="在线"!=t(this).data("online");o?leaveMessage.show():queue.reqStartQueue(e,n)}})},viewFix:function(){var e=function(e){e.addEventListener("touchstart",function(){var t=e.scrollTop,n=e.scrollHeight,i=t+e.offsetHeight;t<=0?e.scrollTop=1:i>=n&&(e.scrollTop=t-1)}),e.addEventListener("touchmove",function(t){e.offsetHeight<e.scrollHeight&&(t._isScroller=!0)})};e(document.querySelector(".dialogue")),document.querySelector(".dialogue-footer-text").addEventListener("touchmove",function(e){e._isScroller=!0}),document.body.addEventListener("touchmove",function(e){e._isScroller||e.preventDefault()})},inputCheck:function(){var n=this;t(".dialogue-footer-text").css("overflowY","auto"),t("#dialogue-footer-text").on("focus",function(){t(".dialogue-footer-face").hide(),t(".dialogue-footer").css({position:"absolute"}),mobileInput.startCheck(),n.DOMCheck&&(n.DOMCheck=e.clearInterval(n.DOMCheck)),n.DOMCheck=setInterval(function(){t("#dialogue-footer-text").html().length>0&&"<br>"!=t("#dialogue-footer-text").html()?(t("#dialogue-send").show(),t("#dialogue-add").hide(),t("#dialogue-footer-face").hide(),t(".dialogue").removeClass("dialogue-short"),t(".dialogue-footer-select").hide()):(t("#dialogue-send").hide(),t("#dialogue-add").show()),setTimeout(function(){n.checkHeight(4)},300)},700)}).on("blur",function(){t(".dialogue-footer").css({position:"absolute"}),n.DOMCheck=e.clearInterval(n.DOMCheck),setTimeout(function(){n.checkHeight(4)},333),mobileInput.end()})},checkHeight:function(e){var n=24;t(".dialogue-footer-text").css("line-height",n+"px");for(var i=parseInt(t(".dialogue-footer-text").css("marginBottom"))+parseInt(t(".dialogue-footer-text").css("marginTop")),o=1;o<=e;o++)t(".dialogue-footer-text")[0].scrollHeight>=o*n&&(t(".dialogue-footer-search").height(o*n+i),t(".talk-btn").css("top",(o*n+i-t("#dialogue-send").height())/2));t(".dialogue-footer-text")[0].scrollHeight<2*n&&(t(".dialogue-footer-search").height(34+i),t(".dialogue-footer-text").css("line-height","34px"),t(".talk-btn").css("top",0)),t("#message").css("bottom",t(".dialogue-footer").height())},bigImgBind:function(){t("#message").delegate(".dialogue-me .dialogue-c .content img,.dialogue-in .dialogue-c .content img","click",function(){"true"!=t(this).attr("emotions")&&uccH5Event.downloadOrigin(t(this).attr("src")).done(function(e){showBigImgFun.showPic(e)})})},inputClickBind:function(){t("#dialogue-send").unbind().click(function(){var e=t("#dialogue-footer-text").clone(),n=t("#dialogue-footer-text").html();if(n=n.replace(/\r|<br>|<div\s*>|<\/div>|<span\s*>|<\/span>|<p\s*>|<\/p>/g,""),n=n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"")){if(n=changeFaceFun.imgToIco(e.html()),e.html(changeFaceFun.imgToIco(e.html())),n=sensitive.get(n),n.length>1e3)return Alert.show("最大长度为1000个字符"),"";if(detectWeb.msgPush("visitor",n),n=n.replace(/ /gi,"&nbsp;").replace(/\n/gi,"<br>"),dialogue.islive())dialogue.sendMessage(n);else{var a=Number(t("<div>"+n+"</div>").text());if(robot.isUse)robot.check(n.replace(/\&nbsp;/g,"").replace(/\s+/g,"").replace(/\<p><\/p>/g,"").replace(/\<br>/g,""));else if(a){dialogue.showMsg({from:"visitor",content:n,saveIn:1}),0==t(".onlineCls[data-num]").length&&o.getDepartment().done(function(){bList=t.businessList({businessList:i.businessList,aDset:i.aDset});var e=uccH5Logic.showBusinessList(-1);dialogue.showMsg({from:"client",content:e,saveIn:1})});var s=t(".onlineCls[data-num='"+a+"']");s.length>0?t(s).click():dialogue.showMsg({from:"robot",content:"请输入业务类型前的数字或点击业务类型接入对话或留言。",saveIn:1})}else dialogue.showMsg({from:"visitor",content:n,saveIn:1}),dialogue.showMsg({from:"robot",content:"请输入业务类型前的数字或点击业务类型接入对话或留言。",saveIn:1})}}mobileInput.endScroll=!1,t("#dialogue-footer-text").text("").focus(),uccH5Event.scrollToBottom(),setTimeout(function(){t("#dialogue-footer-text").html().length>0&&"<br>"!=t("#dialogue-footer-text").html()?(t("#dialogue-send").show(),t("#dialogue-add").hide(),t("#dialogue-footer-face").hide(),t(".dialogue").removeClass("dialogue-short"),t(".dialogue-footer-select").hide()):(t("#dialogue-send").hide(),t("#dialogue-add").show())},1e3)})},faceBind:function(){t("#dialogue-biaoqing").unbind().click(function(){if(dialogue.islive()){var e=t(".dialogue-footer-face").is(":hidden");e?t(".dialogue-footer-face").show():t(".dialogue-footer-face").hide(),t(".dialogue").css("bottom",t(".dialogue-footer").height())}})},closeBind:function(){t(".close").click(function(){dialogue.islive()?confirmBox.create("您确定要结束对话吗？").done(function(e){e&&(dialogue.end(5),t(".close").hide())}):confirmBox.create("您确定要关闭对话框吗？").done(function(t){t&&(e.close(),("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&WeixinJSBridge.call("closeWindow"))})})},uploadInit:function(){t("#dialogue-add").uploadFile({size:5242880,uploadType:"image",inputImage:!0,other:function(e,t,i){if(dialogue.islive()){dialogue.showMsg({from:"visitor",content:'<img id="'+i+'" src="'+n(43)+'">'});var o=msgdb.last();e.submit(i,o)}},callback:function(e,n,i){var o='<img  src="'+e+'">';t("#"+n).attr("src",e),dialogue.sendMessage(o,"",!0),msgdb.setKey(i,"content",o),changeWindow&&changeWindow.change()},error:function(e){"type"==e?Alert.show("仅支持上传.png.jpeg.bmp.jpg格式的图片"):"size"==e?Alert.show("仅支持上传5M以内的图片"):(Alert.show("上传图片错误"),t("#"+file.id+file.__hash).parents(".dialogue-me.contentMessage").hide())}})},reconnectClick:!1,initReconnect:function(){var e=this;t("#message").delegate(".reconnectID","click",function(){dialogue.islive()||datas.get("hasInQueue")||e.reconnectClick||(e.reconnectClick=!0,o.closeEchat(i.chatID,dialogue.getAttr("remoteUrl"),dialogue.getAttr("operatroName")?dialogue.getAttr("operatroName"):""),o.initChatId(userDatas.getVisitorInfo().visitorId).done(function(t){try{i.chatID=t.chatID,storage.set("oldChatId",t.chatID),i.browserId=(new Date).getTime(),storage.set("oldChatId",t.chatID),datas.set("openSatisfactionAfterCloseChat",!1),datas.set("hasSatisfaction",!1);userDatas.getJsonStr();uccH5Init.initFunc(),uccH5Logic.addmonitorJs(),detectWeb.setIsReconnection(!0),queue.reqStartQueue(storage.get("businessId"),storage.get("businessName"),detectWeb.getIsReconnection()),e.reconnectClick=!1}catch(t){}}).fail(function(t){e.reconnectClick=!1,dialogue.showSysMsg("网络异常，请确保网络正常后再重新连接！")}))})},unload:function(){t(e).unload(function(){storage.get("offChat")==i.browserId&&storage.set("offChat",!0),webSocket.isWork&&webSocket.websocket.close()})},messageChange:function(){t("#message").delegate(".message_news","click",function(){t(this).data("url")&&e.open(t(this).data("url"))})},downloadOrigin:function(e){var n=new t.Deferred,i=e.substring(e.lastIndexOf(".")),o=i.toLowerCase(),a=e.substring(0,e.lastIndexOf("."));if(a.indexOf("origin")>-1)return n.resolve(e);if(".jpg"==o||".jpeg"==o||".png"==o||".bmp"==o){var s=a+"origin"+i,r=new Image;if(r.src=s,r.complete)return n.resolve(s);r.onload=function(){return n.resolve(s)},r.onerror=function(){return n.resolve(e)}}return n.promise()}},t.uccH5Event=function(e){var t=new r(e);return t}}(window,jQuery)},function(e,t,n){var i=n(0),o=n(1),a=o.baseUrl;!function(e,t,n){var s=function(e){this.defaults={},this.options=t.extend({},this.defaults,e)};s.prototype={initBasic:function(){params=t.getParameter(),Alert=t.Alert(),showBigImgFun=t.showBigImg(),showBigImgFun.init(),storage=t.storage({companyPk:o.companyPk}),msgdb=t.msgdb(),datas=t.db({storage:storage}),localHistory=t.localHistory({storage:storage,loadMore:function(e){for(var n=0,i=e.length;n<i;n++)"date"!=e[n].type&&dialogue.showMsg({date:e[n].time,from:e[n].from,content:e[n].content,status:1});t("#getMore").length>0&&t("#getMore").remove(),t("#leaveHistory").prepend('<span id="getMore"><span class="c">点此查看历史记录</span><span class="l"></span></span>'),localHistory.lastChat==-1&&t("#getMore").hide()}}),localHistory.init(),userDatas=t.userDatas({param:params,storage:storage,storageVisitor:"visitor",storageIpStr:"ipStr",storageChatNum:"chatNum",companyPk:o.companyPk,aDset:o.aDset,businessId:"",businessName:""}),visitLimit=t.visitLimit({open:params.vl?params.vl:1,storage:storage}),visitLimit.init(),bList=t.businessList({businessList:o.businessList,aDset:o.aDset}),workTime=t.workTime({BasicSetting:o.BasicSetting,ExtraSetting:o.ExtraSetting,show:function(e){if(e&&(t(".dialogue-footer-cover").show(),0==t(".pop_bg").length)){var n='<div class="dialogue-in"><div class="dialogue-pic"><img src="/any800/style/images/mobileImages/newImages/server.png"></div><div class="dialogue-c"><span class="dialogue-dot1"><img src="/any800/style/images/mobileImages/newImages/dialogue_dot1.png"></span><p class="pop_bg"><p class = "pop_msg">'+e+'</p></p></div></div><div class="clearboth"></div>';t("#message").html(n),t(".fanke-liuyan").on("click",function(e){leaveMessage.show()}),datas.set("iswork",!1),setTimeout(function(){t(".pop_msg").slideDown("slow")},300)}}}),sensitive=t.sensitive({vocabulary:o.vocabulary}),changeFaceFun=t.changeFace({after:function(){for(var e=this.imgIco,n="",i=0,o=e.length;i<o;i++){var a=e[i][0];n+="<span>"+a+"</span>"}t(".dialogue-footer-face .footer-face").html(n)}})},initData:function(){var e=new t.Deferred;return datas.set("iswork",!0),t(".close").hide(),datas.set("hasInQueue",!1),i.initChatId(userDatas.getVisitorInfo().visitorId).done(function(e){o.chatID=e.chatID,o.browserId=(new Date).getTime(),storage.get("oldChatId")!=e.chatID?(storage.get("msgObjCurrentChat")&&i.closeEchat(storage.get("oldChatId"),storage.get("msgObjCurrentChat").url,datas.get("opName")?datas.get("opName"):""),uccH5Logic.addmonitorJs(),localHistory.saveCurrent(),storage.set("oldChatId",e.chatID),datas.set("openSatisfactionAfterCloseChat",!1),datas.set("hasSatisfaction",!1),datas.set("_workGroupName",""),datas.set("remoteUrl",""),datas.set("opShow",""),datas.set("opName",""),datas.set("operatorId","")):"connnected"==e.state&&(storage.set("offChat",o.browserId),storage.set("browserId",o.browserId))}),webSocket=t.webSocket({path:"/any800/UccWebSocket/",isWs:o.isWs,visitorId:userDatas.getVisitorInfo().visitorId,message:function(e,t,n){e==o.chatID&&("object"==("undefined"==typeof t?"undefined":_typeof(t))&&(t=JSON.stringify(t)),dialogue.showMsg({msgid:n,date:(new Date).getTime(),content:t,from:"client"}),detectWeb.msgPush("customer",t),TimeoutList.startALLTimeout())},deal:function(e,n,i){if(n==o.chatID)if("CUTOMER_IS_INVITED"==e){if(dialogue.toolFun(!0),dialogue.showMsg({msgid:"",date:(new Date).getTime(),content:i,from:"client",saveIn:1}),detectWeb.getIsReconnection()){var a="["+detectWeb.getMsgs(5).join(",")+"]";dialogue.sendMessage(a,"offLineMessage")}TimeoutList.startALLTimeout()}else if("CLOSE"==e)detectWeb.getIsInitiate()?dialogue.end(6):dialogue.end(2);else if("CLOSE_CUSTOMER"==e)dialogue.end(3);else if("CLOSE_VISITOR"==e)dialogue.islive()&&(langTip.show(langTip.type.system,langTip.key.no_answer_close),dialogue.end(2));else if("OPERATION_TIPS"==e)"pushsatisfaction"==i.params.opType?satisfaction.hasSat&&satisfaction.show():"getinfo"==i.params.opType?visitorInformation.show():"uploadfile"==i.params.opType&&dialogue.showMsg({msgid:"",date:(new Date).getTime(),content:i.content,from:"client",status:0});else if("CUSTOMER_NETWORK_INTERRUPT"==e)dialogue.end(7);else if("CUTOMER_ISNOT_INVITED"==e)dialogue.showMsg({msgid:"",date:(new Date).getTime(),content:i,from:"client",status:0}),dialogue.end(0);else if("CUTOMER_REVOKE"==e){msgdb.set(i,"isRevoke",!0),changeWindow&&changeWindow.change(),localHistory.setCurrent(msgdb.db);var s=t("div[name="+i+"]");"none"!=s.css("display")&&(s.hide(),s.prev().hasClass("dialogue-date")&&s.prev().hide(),t("#message").append("<div class='msg_back_success'>"+dialogue.getAttr("operatorName")+"已撤回一条消息</div>"))}else"RECEIPT"==e&&setTimeout(function(){msgdb.set(i,"checkSend",1),changeWindow&&changeWindow.change(),localHistory.setCurrent(msgdb.db)},1e3)},connect:function(e){dialogue.islive()&&(e?(detectWeb.getIsInitiate()&&systemInfo.show(dialogue.options.msgList.reconnectSuc),detectWeb.getIsInitiate()&&(dialogue.toolFun(!0),detectWeb.checkedSuccess())):detectWeb.getIsInitiate()||(dialogue.toolFun(!1),systemInfo.show(dialogue.options.msgList.reconnectFail),detectWeb.checkedFail()))},confirmSend:function(e){setTimeout(function(){var t=msgdb.get(e);t&&0==t.checkSend&&msgdb.set(e,"checkSend",2)},3e3)},leaveCover:function(){uccH5Event.leaveCover()},open:function(){uccH5Event.openCover()}}),webSocket.init().done(function(){return e.resolve()}),confirmBox=t.confirm(),e.promise()},initFunc:function(){systemInfo=t("#message").systemInfo(),mobileInput=t.mobileInput(),mobileInput.init(),detectWeb=t.detectWeb({period:30,after:function(){dialogue.end(6)}}),TimeoutList=t.TimeoutList({msgdb:msgdb,ops:o.OperatorBasicSettings,startFun:function(){dialogue.islive()&&(TimeoutList.isVisitorHalfTimeout()&&(langTip.show(langTip.type.system,langTip.key.no_answer_hint),changeWindow&&changeWindow.change()),TimeoutList.isVisitorTimeout()&&(langTip.show(langTip.type.system,langTip.key.no_answer_close),dialogue.end(2)),TimeoutList.isClientBusy()&&(langTip.show(langTip.type.system,langTip.key.cs_busy),changeWindow&&changeWindow.change()))}}),userDatas.options.chatID=o.chatID,userDatas.options.businessId="",userDatas.options.businessName="",queue=t.queueManager({companyPk:o.companyPk,chatID:o.chatID,langPk:o.defaultLangPk,message:JSON.stringify(userDatas.getJsonStr()),IpStr:JSON.stringify(userDatas.getIpStr()),success:function(e){msgdb.clear(),changeWindow.clear(),langTip.show("1","7"),langTip.show("1","9"),datas.set("remoteUrl",e.url),datas.set("opShow",e.opShow),datas.set("opName",e.workgroupName),datas.set("_workGroupName",e.workgroupName);var t=e.workgroupName.split("-");return dialogue.setAttr("operatorName",e.opShow?e.opShow:t[1]),dialogue.setAttr("_workGroupName",e.workgroupName),dialogue.setAttr("remoteUrl",e.url),changeWindow.setMsgObj(e),datas.set("hasInQueue",!1),systemInfo.hide(),1==e.success?(storage.set("chatNum",(storage.get("chatNum")?storage.get("chatNum"):0)+1),dialogue.start(),JSON.stringify(userDatas.getJsonStr())&&1==o.BasicSetting.need&&dialogue.sendMessage(JSON.stringify(userDatas.getJsonStr()),"getinfo"),
!0):(langTip.show(data.langType,data.langKey),!1)},fail:function(e){systemInfo.show(decodeURIComponent(decodeURIComponent(e.msg))),t(".systemInfromBox #liveMessageId").click(function(){leaveMessage.show()}),t(".systemInfromBox #continueId").click(function(){i.continueBusinessQueue(userDatas.getJsonStr().businessId).done(function(e){0==e.success?(systemInfo.show(e.msg),t("#liveMessageId").click(function(){leaveMessage.show()})):(queue.index=-1,queue.isTimeOut=!1,queue.getInfo(userDatas.getJsonStr().businessId,1,!1))}).fail(function(e){dialogue.showSysMsg("网络异常，请确保网络正常后再重新连接！")});var e=t(this);e.unbind("click")})},leave:function(e){systemInfo.show(e.msg),t("#liveMessageId").click(function(){leaveMessage.show()})},continueque:function(e){systemInfo.show(e.msg)},always:function(e){systemInfo.show(e.msg)}}),queue.reqStartQueue=function(e,n){datas.get("hasInQueue")||(datas.set("hasInQueue",!0),i.getDepartment().done(function(){if(bList=t.businessList({businessList:o.businessList,aDset:o.aDset}),bList.getItemOnline(e)){userDatas.options.businessId=e,userDatas.options.businessName=n,userDatas.options.storageOldService=storage.get("oldService");var i=userDatas.getJsonStr();i.isWs=webSocket.isWork,queue.options.message=JSON.stringify(i),queue.options.IpStr=JSON.stringify(userDatas.getIpStr()),queue.start(e,n),storage.set("businessId",e),storage.set("businessName",n)}else datas.set("hasInQueue",!1),t(".onlineCls[data-pk='"+bList.getParentPk(e)+"']").last().click(),t(".onlineCls[data-pk='"+e+"']").last().click()}))},webSocket.connect(),dialogue=t.dialogue({webSocket:webSocket,TimeoutList:TimeoutList,timeStr:'<div class="time">$1</div>',resendStr:'<div class="msg_" ><img src="/any800/style/images/sending.gif"></div>',msgEle:"#message",visitorId:userDatas.getVisitorInfo().visitorId,historyEle:"#leaveHistory",textEle:".dialogue-footer-text",storage:storage,browserId:o.browserId,changeFaceFun:changeFaceFun,limitReceiveTime:60,chatId:o.chatID,detectWeb:detectWeb,userDatas:userDatas,msgList:{reconnectSuc:"重连服务器成功！",reconnectFail:"网络异常，系统正尝试重连服务器！"},closeStrList:[["对话出现异常，对话结束.","對話出現異常，對話結束.","Dialogue is abnormal, the dialogue."],["对话结束，客服离开对话.","對話結束，客服離開對話。","End of the conversation, customer service left the conversation."],["对话超时，对话结束。","對話超時，對話結束。","Dialogue timeout, the end of the conversation.Dialogue timeout, the end of the conversation."],["您好，为了保证服务质量，我们已经结束了对话，期待再次为您服务。","對話關閉，客服結束對話","dialog closes, end customer dialogue."],["响应超时，对话结束。","響應超時，對話結束。","Response timeout, end of the conversation."],["您结束了对话。","您結束了對話。","You end the conversation."],["网络中断，如需继续对话，请<a href='javascript:void(0)' class='reconnectID'>点击此处</a>重新发起对话","網絡斷開，對話結束。","Network disconnection,end of the conversation."],["客服网络中断，当前对话结束，如需继续对话，请<a  href='javascript:void(0)' class='reconnectID'>点击此处</a>重新接入。","客服网络中断，当前对话结束，如需继续对话，请重新接入。","Customer's Network has bean interrupted ,end of the conversation."],["网络异常，当前对话结束，如需继续对话，<a href='javascript:void(0)'  class='reconnectID'>请重新接入</a>。","客服网络中断，当前对话结束，如需继续对话，请重新接入。","Network has bean interrupted ,end of the conversation."]],showSysMsgFun:function(e){var n='<center class="systemInfromBox"><span class="systemInfrom">'+e+"</span></center>";t("#message").append(n),uccH5Event.scrollToBottom(),msgdb.add({type:"system",content:e}),changeWindow&&changeWindow.change()},getReceivedFun:function(e){},msgReplace:function(e){var t='<div class="$1 contentMessage" name="$msgid"><div class="dialogue-pic"><img src="$2"></div>';"visitor"!=e&&(t+='<div class="dialogue-name">$name</div>'),t+='<div class="dialogue-c"><span class="$4"><img src="$3"></span><span class="content">$content</span></div>$msgResend</div><div class="clearboth"></div>';var n={client:{$1:"dialogue-in",$2:a+"/style/images/mobileImages/newImages/server.png",$3:a+"/style/images/mobileImages/newImages/dialogue_dot1.png",$4:"dialogue-dot1"},visitor:{$1:"dialogue-me",$2:a+"/style/images/mobileImages/newImages/victors.png",$3:a+"/style/images/mobileImages/newImages/dialogue_dot2.png",$4:"dialogue-dot2"},robot:{$1:"dialogue-in",$2:a+"/style/images/mobileImages/newImages/server.png",$3:a+"/style/images/mobileImages/newImages/dialogue_dot1.png",$4:"dialogue-dot1"}},i=n[e];return t.replace(/\$1/g,i.$1).replace(/\$2/g,i.$2).replace(/\$3/g,i.$3).replace(/\$4/g,i.$4)},startChat:function(){uccH5Init.initSatifaction(),t(".satisfied").show(),webSocket.startTimeout(),storage.set("browserId",o.browserId),t(".close").show()},endChat:function(){datas.set("hasInQueue",!1),localHistory.saveCurrent(),i.closeEchat(o.chatID,dialogue.getAttr("remoteUrl"),dialogue.getAttr("operatroName")?dialogue.getAttr("operatroName"):"");if(1==o.BasicSetting.jump&&satisfaction.hasSat&&datas.get("openSatisfactionAfterCloseChat")&&!datas.get("hasSatisfaction")){var e=(new Date).getTime();dialogue.showMsg({from:"client",content:"为了提高我们的服务质量,   请点击<span class = 'spans v_info satisfaction' id = 'satisfaction"+e+"'>填写满意度</span><br>",saveIn:1})}t(".onlineCls[data-num]").removeClass("onlineCls"),uccH5Logic.blistNum=1,i.initChatId(userDatas.getVisitorInfo().visitorId).done(function(e){try{o.chatID=e.chatID,storage.set("oldChatId",e.chatID),o.browserId=(new Date).getTime(),storage.set("oldChatId",e.chatID),datas.set("openSatisfactionAfterCloseChat",!1),datas.set("hasSatisfaction",!1);userDatas.getJsonStr();uccH5Init.initFunc(),uccH5Logic.addmonitorJs()}catch(e){}})},endChatFun:function(){webSocket.endTimeout(),changeWindow.stopCheck()},msgFun:function(e){"visitor"!=e.from&&"client"!=e.from||TimeoutList.reset(),msgdb.add({date:e.date,msgId:e.msgid,type:e.from,content:e.content,saveIn:e.saveIn?e.saveIn:0,hasChecked:e.hasChecked}),uccH5Event.showAudio(),1==e.status?uccH5Event.scrollToTop():uccH5Event.scrollToBottom(),changeWindow&&changeWindow.change(),dialogue.islive()&&localHistory.setCurrent(msgdb.db)},sendMessageFun:function(e,t){TimeoutList.startALLTimeout(),datas.set("openSatisfactionAfterCloseChat",!0)},closeTool:function(){t(".close").hide(),t("#dialogue-footer-text").blur(),t(".dialogue-footer-text").html(""),t("#dialogue-send").attr("disabled","disabled"),t(".onlineCls").attr("disabled","disabled"),uccH5Event.checkHeight(4),t("#dialogue-biaoqing").attr("disabled","disabled"),t(".dialogue-footer-face").hide(),t(".fileup input").attr("disabled",!0)},openTool:function(){t(".close").show(),t("#dialogue-send").removeAttr("disabled"),t(".onlineCls").removeAttr("disabled"),t("#dialogue-biaoqing").removeAttr("disabled"),t(".dialogue-footer-text").attr("contenteditable","true"),t(".fileup input").attr("disabled",!1)},confirmSend:function(e,n){"add"==n&&e?t(".contentMessage[name='']:last").attr("name",e):e&&t(".contentMessage[name="+e+"] ._msg").hide()},specialFun:function(e,n){switch(e){case"200":TimeoutList.startALLTimeout();break;case"700":if("pushsatisfaction"==n.code){if(satisfaction.hasSat){var i=(new Date).getTime();dialogue.showMsg({from:"client",content:"为了提高我们的服务质量,   请点击<span class = 'spans v_info satisfaction' id = 'satisfaction"+i+"'>填写满意度</span><br>",saveIn:1})}}else"getinfo"==n.code?visitorInformation.show():"uploadfile"==n.code&&dialogue.showMsg({from:"client",content:JSON.parse(n.text).content});break;case"900":break;case"901":break;case"110":break;case"111":TimeoutList.startALLTimeout();break;case"112":break;case"113":var o=JSON.parse(n);msgdb.set(o.messageId,"isRevoke",!0),changeWindow&&changeWindow.change(),localHistory.setCurrent(msgdb.db);var a=t("div[name="+o.messageId+"]");"none"!=a.css("display")&&(a.hide(),a.prev().hasClass("dialogue-date")&&a.prev().hide(),t("#message").append("<div class='msg_back_success'>"+dialogue.getAttr("operatorName")+"已撤回一条消息</div>"));break;case"114":var o=JSON.parse(n);break;case"902":langTip.show(langTip.type.system,langTip.key.no_answer_close)}}}),robot=t.robot({visitorName:storage.get("visitor").visitorName,dialogue:dialogue,robotSetting:o.BasicSetting.robotSetting,companyPk:o.companyPk,chatId:o.chatID,ecselfList:o.ecselfList,langPk:o.defaultLangPk,changeToNormal:function(e){i.keepTenQA(o.chatID),robot.isUse=!1,workTime.iswork(),0==workTime.type?uccH5Logic.loadScheme():workTime.show(),dialogue.toolFun(!1)}}),robot.check(),robot.isUse,langTip=t.langTip({companyPk:o.companyPk,langMap:o.langMap,defaultLangPk:o.defaultLangPk,show:function(e){var t=new RegExp("&quot;","g");switch(e.langKey){case 1:var n=uccH5Logic.showBusinessList(-1);n&&datas.get("iswork")&&dialogue.showMsg({from:"robot",content:e.content.replace(t,'"')+"<br>请<span class='spans'>输入数字</span>或者<span class='spans'>点击</span>选择相应的业务类型:<br>"+n,saveIn:1});break;case 2:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;case 3:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;case 4:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;case 5:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;case 6:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;case 7:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;case 9:dialogue.showMsg({from:"robot",content:e.content.replace(t,'"'),saveIn:1});break;default:dialogue.showMsg({from:"robot",content:e.content?e.content.replace(t,'"'):e.conntent.replace(t,'"'),saveIn:1})}}}),leaveMessage=t.leaveMessage(_defineProperty({Alert:Alert,warn:".warning",messageDisplay:o.messageDisplay,messageContent:o.messageContent,messageTypeList:o.messageTypeList,companyPk:o.companyPk,generate:function(e){t(".leaveMessageView .title .cross img,.leaveMessageView .bottom .cancel").on("click",function(){leaveMessage.cancel()}),t(".leaveMessageView .col").each(function(n,i){var o=t(this);if("textarea"==o.data("type"))return void o.append('<textarea  placeholder="'+o.data("markedwords")+'" ></textarea>');if(o.append('<div class="colBack"><span class="name">'+o.data("name")+'</span><span class="input"></span><span class="warning"></span></div>'),"combox"==o.data("type")){o.find(".input").append('<span class="names">请选择</span><span class="option"><img class="link" src="/any800/style/images/mobileImages/newImages/link.png"></span><div class="radiocover">留言分类选择</div>');for(var a in e)e[a]&&e[a].pk&&o.find(".radiocover").append('<div class="sel" data-key="'+e[a].pk+'"><span class="name">'+e[a].name+'</span><span class="option"><img class="ok" src="/any800/style/images/mobileImages/newImages/ok.png"></span></div>');var s=o.find(".radiocover .sel").first();s.addClass("selected"),o.find(".input>.names").html(s.text()),o.find(".input>.names").data("key",s.data("key"))}else o.find(".input").append('<input type="text" placeholder="'+o.data("markedwords")+'" >')}),t(".leaveMessageView [data-type='combox'] .colBack>.input>.names,.leaveMessageView [data-type='combox'] .colBack>.input>.option").on("click",function(e){t(".leaveMessageView .radiocover").show()}),t(".leaveMessageView .radiocover .sel").on("click",function(e){var n=t(this);t(".leaveMessageView .radiocover .sel").removeClass("selected"),n.addClass("selected"),t(".leaveMessageView [data-type='combox'] .input>.names").html(n.text()),t(".leaveMessageView [data-type='combox'] .input>.names").data("key",n.data("key")),t(".radiocover").hide()}),t(".leaveMessageView .bottom .submit").on("click",function(){leaveMessage.submit({messageTypePk:t(".leaveMessageView [data-type='combox'] .input>.names").data("key"),name:t(".leaveMessageView .board [data-displayname='name']").length>0?t(".leaveMessageView .board [data-displayname='name'] input").val():"",telephone:t(".leaveMessageView .board [data-displayname='telephone']").length>0?t(".leaveMessageView .board [data-displayname='telephone'] input").val():"",email:t(".leaveMessageView .board [data-displayname='email']").length>0?t(".leaveMessageView .board [data-displayname='email'] input").val():"",title:t(".leaveMessageView .board [data-displayname='title']").length>0?t(".leaveMessageView .board [data-displayname='title'] input").val():"",content:t(".leaveMessageView .board [data-displayname='content']").length>0?t(".leaveMessageView .board [data-displayname='content'] textarea").val():"",company:t(".leaveMessageView .board [data-displayname='company']").length>0?t(".leaveMessageView .board [data-displayname='company'] input").val():"",brand:t(".leaveMessageView .board [data-displayname='brand']").length>0?t(".leaveMessageView .board [data-displayname='brand'] input").val():""})})},reset:function(e){t(".leaveMessageView .board [data-displayname='messageTypePk'] select").val(),t(".leaveMessageView .board [data-displayname='name'] input").val(""),t(".leaveMessageView .board [data-displayname='telephone'] input").val(""),t(".leaveMessageView .board [data-displayname='email'] input").val(""),t(".leaveMessageView .board [data-displayname='title'] input").val(""),t(".leaveMessageView .board [data-displayname='content'] textarea").val(""),t(".leaveMessageView .board [data-displayname='company'] input").val(""),t(".leaveMessageView .board [data-displayname='brand'] input").val("")}},"warn",function(e,t){Alert.show(t)})),visitorInformation=t.visitorInformation({storage:storage,Alert:Alert,storageVisitor:"visitor",generate:function(e){t(".visitorInformationView .body .col").each(function(e,n){var i=t(this);if(i.append('<div class="colBack"><span class="name">'+i.data("name")+'</span><span class="input"></span><span class="warning"></span></div>'),"radio"==i.data("type")){i.find(".input").append('<span class="name"></span><span class="option"><img class="link" src="/any800/style/images/mobileImages/newImages/link.png"></span><div class="radiocover">性别选择<div class="sel" data-key="1"><span class="name">男</span><span class="option"><img class="ok" src="/any800/style/images/mobileImages/newImages/ok.png"></span></div><div class="sel" data-key="2"><span class="name">女</span><span class="option"><img class="ok" src="/any800/style/images/mobileImages/newImages/ok.png"></span></div><div class="sel" data-key="0"><span class="name">保密</span><span class="option"><img class="ok" src="/any800/style/images/mobileImages/newImages/ok.png"></span></div></div>');var o=i.data("markedwords")?i.data("markedwords"):"2",a=i.find(".input .radiocover .sel[data-key='"+o+"']");a.addClass("selected"),i.find(".input>.name").html(a.text()),i.find(".input>.name").data("key",a.data("key"))}else i.find(".input").append('<input type="text" placeholder="'+(i.data("placeholder")?i.data("placeholder"):"")+'" value="'+(i.data("markedwords")?i.data("markedwords"):"")+'" >')}),t(".visitorInformationView [data-type='radio'] .colBack>.input>.name,.visitorInformationView [data-type='radio'] .colBack>.input>.option").on("click",function(e){t(".visitorInformationView .radiocover").show()}),t(".visitorInformationView .radiocover .sel").on("click",function(e){var n=t(this);t(".visitorInformationView .radiocover .sel").removeClass("selected"),n.addClass("selected"),t(".visitorInformationView [data-type='radio'] .input>.name").html(n.text()),t(".visitorInformationView [data-type='radio'] .input>.name").data("key",n.data("key")),t(".radiocover").hide()}),t(".visitorInformationView .title .cross img,.visitorInformationView .bottom .cancel").on("click",function(){visitorInformation.cancel()}),t(".visitorInformationView .board .input").focus(function(e){visitorInformation.check()}),t(".visitorInformationView .bottom .submit").on("click",function(e){visitorInformation.submit({visitorName:t(".visitorInformationView .board [data-displayname='visitorName'] input").val(),sex:t(".visitorInformationView [data-type='radio'] .input>.name").data("key"),realName:t(".visitorInformationView .board [data-displayname='realName'] input").val(),mobile:t(".visitorInformationView .board [data-displayname='phone'] input").val(),email:t(".visitorInformationView .board [data-displayname='email'] input").val(),QQ:t(".visitorInformationView .board [data-displayname='QQ'] input").val(),address:t(".visitorInformationView .board [data-displayname='address'] input").val(),company:t(".visitorInformationView .board [data-displayname='company'] input").val()})})},warn:function(e,t){Alert.show(t)},submitFun:function(){dialogue.sendMessage(JSON.stringify(userDatas.getJsonStr()),"getinfo"),dialogue.showSysMsg("信息提交成功！")},cancelFun:function(){dialogue.islive()&&dialogue.sendMessage("访客取消了访客信息收集","cancelVisitorInformation")}}),changeWindow&&clearInterval(changeWindow.browserInterval),changeWindow=t.changeWindow({msgdb:msgdb,open:!0,storage:storage,chatId:o.chatID,browserId:o.browserId,dialogue:dialogue,TimeoutList:TimeoutList,data:datas,start:function(){t(".satisfied").show(),t("#message").html(""),t(".leaveMessage").remove(),t("#fangkexinxi").hide(),o.BasicSetting.need=0},end:function(){t(".satisfied").hide(),t(".reminder").hide(),uccH5Event.leaveCover()}}),changeWindow.init()},initSatifaction:function(){satisfaction=t.satisfaction({dialogue:dialogue,companyPk:o.companyPk,langPk:o.defaultLangPk,chatId:o.chatID,generate:function(){t("#message").delegate(".satisfaction","click",function(){satisfaction.hasSat&&satisfaction.show()}),satisfaction.hasSat&&(t(".dialogue-footer").append("<div class='satisfied'><img src='/any800/style/images/echat/satisfied.png'></div>"),t(".satisfied").css({position:"absolute",top:-60,right:11,"z-index":99}).on("click",function(){satisfaction.show()})),t(".satisfied img").css("width","46px"),t(".satisfied").hide(),t("#satisfactionid").hide(),t(".satisfactionView .fr").each(function(e,n){var i=t(this),o="";o=satisfaction.getElementByParent(i.data("pk")).length<=0?'<img class="ok" src="/any800/style/images/mobileImages/newImages/ok.png">':'<img class="link" src="/any800/style/images/mobileImages/newImages/link.png">',i.append('<div class="sel"><span class="name">'+i.data("name")+'</span><span  class="option">'+o+"</span></div>")}),t(".satisfactionView .sr").each(function(e,n){var i=t(this);i.append('<div class="sel"><span class="name">'+i.data("name")+'</span><span  class="option"><img class="ok" src="/any800/style/images/mobileImages/newImages/ok.png"></span></div>')}),t(".satisfactionView .sr").hide(),t(".satisfactionView .fr").click(function(){var e=t(this);t(".satisfactionView .fr").removeClass("selected"),e.addClass("selected"),e.find(".link").length>0&&(t(".satisfactionView .fr ").hide(),t(".satisfactionView .sr ").hide(),t('.satisfactionView .sr[data-parent ="'+e.data("pk")+'"]').show())}),t(".satisfactionView .sr").click(function(){var e=t(this);e.toggleClass("selected")}),t(".satisfactionView .bottom .cancel").on("click",function(){"none"==t(".satisfactionView .fr").css("display")?(t(".satisfactionView .fr").show(),t(".satisfactionView .sr").hide().removeClass("selected")):satisfaction.cancel()}),t(".satisfactionView .title .cross img").on("click",function(){satisfaction.cancel(),t(".satisfactionView .fr").show(),t(".satisfactionView .sr").hide().removeClass("selected")}),t(".satisfactionView .bottom .submit").on("click",function(){if(0==t(".satisfactionView .fr.selected").length)return void Alert.show("请选择满意度评价！");var e=t(".satisfactionView .fr.selected").data("pk"),n=t(".satisfactionView .fr.selected").data("parent"),i="";if(satisfaction.getElementByParent(e).length>0){if(0==t(".satisfactionView .sr.selected").length)return void Alert.show("请选择原因！");t(".satisfactionView .sr.selected").each(function(){var e=t(this);i+=e.data("pk")+","})}datas.set("hasSatisfaction",!0),satisfaction.submit({satisfactionPk:n,optionPk:e,satisfactionMemo:t(".satisfactionView .mome textarea").val()?t(".satisfactionView .mome textarea").val():"",nextSatisfactionPk:i})})}}),satisfaction.init()},initHistory:function(){History=t.history({visitorId:userDatas.getVisitorInfo().visitorId,companyPk:o.companyPk,dialogue:dialogue,generation:function(){dialogue.islive()||(History.getLeaveChat(),History.showLeaveChat(),History.check(),t("#leaveHistory").delegate("#getMore .c","click",function(e){History.check()}))},checkFun:function(e){t("#leaveHistory #getMore").remove(),t("#leaveHistory").prepend('<span id="getMore"><span class="c">点此查看历史记录</span><span class="l"></span></span>'),t("#leaveHistory #getMore").toggle(History.more)}}),History.init()},initLocalHistory:function(){History=t.history({show:!1,visitorId:userDatas.getVisitorInfo().visitorId,companyPk:o.companyPk,dialogue:dialogue,generation:function(){dialogue.islive()||(History.getLeaveChat(),History.showLeaveChat(),localHistory.history.length>0&&(localHistory.loadMore(),t("body").delegate("#getMore","click",function(){localHistory.loadMore()})))},checkFun:function(){}}),History.init()}},t.uccH5Init=function(e){var t=new s(e);return t}}(window,jQuery)},function(e,t,n){var i=n(1),o=n(0);!function(e,t,n){var a=function(e){this.defaults={},this.options=t.extend({},this.defaults,e)};a.prototype={blistNum:1,showBusinessList:function(e){var n=this;if(!dialogue.islive()){var i="";if(datas.get("iswork")){var o=bList.generate(e);if(o)if(o.access){if(o.online)return bList.setSelect(o.pk,o.name),storage.set("businessId",o.pk),storage.set("businessName",o.name),void queue.reqStartQueue(o.pk,o.name);if(!o.name)return t("#message").html("<div style='margin-left:10px;margin-top:10px;line-height:18px;'>您好!欢迎使用在线客服系统,很高兴为您服务!<br/>如果客服忙或者客服不在线,请选择在线<span style='color:#1e93c6;text-decoration: underline;' id='fangke-liuyan'>留言</span></div>"),void t("#fangke-liuyan").click(function(){leaveMessage.show()});var a="离线";i+='<span><a class="onlineCls" data-online="'+a+'" data-num="'+n.blistNum+'" name="'+o.name+'" data-pk="'+o.pk+'">'+n.blistNum+"."+o.name+"【"+a+"】</a></span><br>"}else for(var s=o.list,r=0;r<s.length;r++){var c=s[r],a="online"==c.type?"在线":"离线";i+='<span><a class="onlineCls" data-online="'+a+'" data-num="'+n.blistNum+'" name="'+c.item.name+'" data-pk="'+c.item.pk+'">'+n.blistNum+"."+c.item.name+"【"+a+"】</a></span><br>",n.blistNum++}return i}}},loadScheme:function(){uccH5Event.showVisitorInfo(),o.getDepartment().done(function(){bList=t.businessList({businessList:i.businessList,aDset:i.aDset}),langTip.show(1,1)})},viewFunc:function(){t(".leaveMessageView").length>0&&(document.querySelector(".leaveMessageView").addEventListener("touchmove",function(e){e._isScroller=!0}),t(".leaveMessageView textarea").on("focus",function(){document.querySelector(".leaveMessageView .body").scrollTop=document.querySelector(".leaveMessageView .body").scrollHeight})),t(".satisfactionView").length>0&&(document.querySelector(".satisfactionView").addEventListener("touchmove",function(e){e._isScroller=!0}),t(".satisfactionView textarea").on("focus",function(){document.querySelector(".satisfactionView .body").scrollTop=document.querySelector(".satisfactionView .body").scrollHeight})),t(".visitorInformationView").length>0&&(document.querySelector(".visitorInformationView").addEventListener("touchmove",function(e){e._isScroller=!0}),t(".visitorInformationView textarea").on("focus",function(){document.querySelector(".visitorInformationView .body").scrollTop=document.querySelector(".visitorInformationView .body").scrollHeight}))},initFace:function(){t(".footer-face span img").click(function(){t("#dialogue-footer-text").append(t.clone(this)),t("#dialogue-send").show(),t("#dialogue-add").hide(),uccH5Event.checkHeight(4)})},addmonitorJs:function(){setTimeout(function(){monitor=t.monitor({storage:storage,companyPk:i.companyPk,userDatas:userDatas})},3e3)}},t.uccH5Logic=function(e){var t=new a(e);return t}}(window,jQuery)},function(e,t,n){var i,o;!function(a,s){function r(e){return _.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function c(e){if(!It[e]){var t=R.body,n=_("<"+e+">").appendTo(t),i=n.css("display");n.remove(),"none"!==i&&""!==i||(bt||(bt=R.createElement("iframe"),bt.frameBorder=bt.width=bt.height=0),t.appendChild(bt),wt&&bt.createElement||(wt=(bt.contentWindow||bt.contentDocument).document,wt.write((_.support.boxModel?"<!doctype html>":"")+"<html><body>"),wt.close()),n=wt.createElement(e),wt.body.appendChild(n),i=_.css(n,"display"),t.removeChild(bt)),It[e]=i}return It[e]}function l(e,t){var n={};return _.each(Ct.concat.apply([],Ct.slice(0,t)),function(){n[this]=e}),n}function u(){kt=s}function d(){return setTimeout(u,0),kt=_.now()}function p(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function f(){try{return new a.XMLHttpRequest}catch(e){}}function h(e,t){e.dataFilter&&(t=e.dataFilter(t,e.dataType));var n,i,o,a,r,c,l,u,d=e.dataTypes,p={},f=d.length,h=d[0];for(n=1;n<f;n++){if(1===n)for(i in e.converters)"string"==typeof i&&(p[i.toLowerCase()]=e.converters[i]);if(a=h,h=d[n],"*"===h)h=a;else if("*"!==a&&a!==h){if(r=a+" "+h,c=p[r]||p["* "+h],!c){u=s;for(l in p)if(o=l.split(" "),(o[0]===a||"*"===o[0])&&(u=p[o[1]+" "+h])){l=p[l],l===!0?c=u:u===!0&&(c=l);break}}!c&&!u&&_.error("No conversion from "+r.replace(" "," to ")),c!==!0&&(t=c?c(t):u(l(t)))}}return t}function m(e,t,n){var i,o,a,r,c=e.contents,l=e.dataTypes,u=e.responseFields;for(o in u)o in n&&(t[u[o]]=n[o]);for(;"*"===l[0];)l.shift(),i===s&&(i=e.mimeType||t.getResponseHeader("content-type"));if(i)for(o in c)if(c[o]&&c[o].test(i)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}r||(r=o)}a=a||r}if(a)return a!==l[0]&&l.unshift(a),n[a]}function g(e,t,n,i){if(_.isArray(t))_.each(t,function(t,o){n||Ye.test(e)?i(e,o):g(e+"["+("object"==("undefined"==typeof o?"undefined":_typeof(o))?t:"")+"]",o,n,i)});else if(n||"object"!==_.type(t))i(e,t);else for(var o in t)g(e+"["+o+"]",t[o],n,i)}function v(e,t){var n,i,o=_.ajaxSettings.flatOptions||{};for(n in t)t[n]!==s&&((o[n]?e:i||(i={}))[n]=t[n]);i&&_.extend(!0,e,i)}function y(e,t,n,i,o,a){o=o||t.dataTypes[0],a=a||{},a[o]=!0;for(var r,c=e[o],l=0,u=c?c.length:0,d=e===ut;l<u&&(d||!r);l++)r=c[l](t,n,i),"string"==typeof r&&(!d||a[r]?r=s:(t.dataTypes.unshift(r),r=y(e,t,n,i,r,a)));return(d||!r)&&!a["*"]&&(r=y(e,t,n,i,"*",a)),r}function b(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),_.isFunction(n))for(var i,o,a,s=t.toLowerCase().split(st),r=0,c=s.length;r<c;r++)i=s[r],a=/^\+/.test(i),a&&(i=i.substr(1)||"*"),o=e[i]=e[i]||[],o[a?"unshift":"push"](n)}}function w(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,o="width"===t?1:0,a=4;if(i>0){if("border"!==n)for(;o<a;o+=2)n||(i-=parseFloat(_.css(e,"padding"+qe[o]))||0),"margin"===n?i+=parseFloat(_.css(e,n+qe[o]))||0:i-=parseFloat(_.css(e,"border"+qe[o]+"Width"))||0;return i+"px"}if(i=Pe(e,t),(i<0||null==i)&&(i=e.style[t]),Be.test(i))return i;if(i=parseFloat(i)||0,n)for(;o<a;o+=2)i+=parseFloat(_.css(e,"padding"+qe[o]))||0,"padding"!==n&&(i+=parseFloat(_.css(e,"border"+qe[o]+"Width"))||0),"margin"===n&&(i+=parseFloat(_.css(e,n+qe[o]))||0);return i+"px"}function x(e){var t=R.createElement("div");return je.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function k(e){var t=(e.nodeName||"").toLowerCase();"input"===t?I(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&_.grep(e.getElementsByTagName("input"),I)}function I(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function T(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function S(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(_.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function C(e,t){if(1===t.nodeType&&_.hasData(e)){var n,i,o,a=_._data(e),s=_._data(t,a),r=a.events;if(r){delete s.handle,s.events={};for(n in r)for(i=0,o=r[n].length;i<o;i++)_.event.add(t,n,r[n][i])}s.data&&(s.data=_.extend({},s.data))}}function N(e,t){return _.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function D(e){var t=be.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function E(e,t,n){if(t=t||0,_.isFunction(t))return _.grep(e,function(e,i){var o=!!t.call(e,i,e);return o===n});if(t.nodeType)return _.grep(e,function(e,i){return e===t===n});if("string"==typeof t){var i=_.grep(e,function(e){return 1===e.nodeType});if(me.test(t))return _.filter(t,i,!n);t=_.filter(t,i)}return _.grep(e,function(e,i){return _.inArray(e,t)>=0===n})}function M(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function A(){return!0}function L(){return!1}function j(e,t,n){var i=t+"defer",o=t+"queue",a=t+"mark",s=_._data(e,i);s&&("queue"===n||!_._data(e,o))&&("mark"===n||!_._data(e,a))&&setTimeout(function(){!_._data(e,o)&&!_._data(e,a)&&(_.removeData(e,i,!0),s.fire())},0)}function P(e){for(var t in e)if(("data"!==t||!_.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function O(e,t,n){if(n===s&&1===e.nodeType){var i="data-"+t.replace(U,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:_.isNumeric(n)?+n:$.test(n)?_.parseJSON(n):n)}catch(o){}_.data(e,t,n)}else n=s}return n}function F(e){var t,n,i=B[e]={};for(e=e.split(/\s+/),t=0,n=e.length;t<n;t++)i[e[t]]=!0;return i}var R=a.document,V=a.navigator,H=a.location,_=function(){function e(){if(!r.isReady){try{R.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}r.ready()}}var t,n,i,o,r=function P(e,n){return new P.fn.init(e,n,t)},c=a.jQuery,l=a.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,p=/^\s+/,f=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,k=/(mozilla)(?:.*? rv:([\w.]+))?/,I=/-([a-z]|[0-9])/gi,T=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},C=V.userAgent,N=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,M=Array.prototype.slice,A=String.prototype.trim,L=Array.prototype.indexOf,j={};return r.fn=r.prototype={constructor:r,init:function(e,t,n){var i,o,a,c;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!t&&R.body)return this.context=R,this[0]=R.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(i="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?u.exec(e):[null,e,null],i&&(i[1]||!t)){if(i[1])return t=t instanceof r?t[0]:t,c=t?t.ownerDocument||t:R,a=h.exec(e),a?r.isPlainObject(t)?(e=[R.createElement(a[1])],r.fn.attr.call(e,t,!0)):e=[c.createElement(a[1])]:(a=r.buildFragment([i[1]],[c]),e=(a.cacheable?r.clone(a.fragment):a.fragment).childNodes),r.merge(this,e);if(o=R.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return n.find(e);this.length=1,this[0]=o}return this.context=R,this.selector=e,this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return r.isFunction(e)?n.ready(e):(e.selector!==s&&(this.selector=e.selector,this.context=e.context),r.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return r.isArray(e)?E.apply(i,e):r.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return r.each(this,e,t)},ready:function(e){return r.bindReady(),i.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(e){
return this.pushStack(r.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},r.fn.init.prototype=r.fn,r.extend=r.fn.extend=function(){var e,t,n,i,o,a,c=arguments[0]||{},l=1,u=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},l=2),"object"!=("undefined"==typeof c?"undefined":_typeof(c))&&!r.isFunction(c)&&(c={}),u===l&&(c=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(t in e)n=c[t],i=e[t],c!==i&&(d&&i&&(r.isPlainObject(i)||(o=r.isArray(i)))?(o?(o=!1,a=n&&r.isArray(n)?n:[]):a=n&&r.isPlainObject(n)?n:{},c[t]=r.extend(d,a,i)):i!==s&&(c[t]=i));return c},r.extend({noConflict:function(e){return a.$===r&&(a.$=l),e&&a.jQuery===r&&(a.jQuery=c),r},isReady:!1,readyWait:1,holdReady:function(e){e?r.readyWait++:r.ready(!0)},ready:function(e){if(e===!0&&!--r.readyWait||e!==!0&&!r.isReady){if(!R.body)return setTimeout(r.ready,1);if(r.isReady=!0,e!==!0&&--r.readyWait>0)return;i.fireWith(R,[r]),r.fn.trigger&&r(R).trigger("ready").off("ready")}},bindReady:function(){if(!i){if(i=r.Callbacks("once memory"),"complete"===R.readyState)return setTimeout(r.ready,1);if(R.addEventListener)R.addEventListener("DOMContentLoaded",o,!1),a.addEventListener("load",r.ready,!1);else if(R.attachEvent){R.attachEvent("onreadystatechange",o),a.attachEvent("onload",r.ready);var t=!1;try{t=null==a.frameElement}catch(n){}R.documentElement.doScroll&&t&&e()}}},isFunction:function(e){return"function"===r.type(e)},isArray:Array.isArray||function(e){return"array"===r.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):j[N.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!D.call(e,"constructor")&&!D.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return n===s||D.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(e){return"string"==typeof e&&e?(e=r.trim(e),a.JSON&&a.JSON.parse?a.JSON.parse(e):m.test(e.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+e)():void r.error("Invalid JSON: "+e)):null},parseXML:function(e){if("string"!=typeof e||!e)return null;var t,n;try{a.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(i){t=s}return(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)&&r.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&d.test(e)&&(a.execScript||function(e){a.eval.call(a,e)})(e)},camelCase:function(e){return e.replace(T,"ms-").replace(I,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,t,n){var i,o=0,a=e.length,c=a===s||r.isFunction(e);if(n)if(c){for(i in e)if(t.apply(e[i],n)===!1)break}else for(;o<a&&t.apply(e[o++],n)!==!1;);else if(c){for(i in e)if(t.call(e[i],i,e[i])===!1)break}else for(;o<a&&t.call(e[o],o,e[o++])!==!1;);return e},trim:A?function(e){return null==e?"":A.call(e)}:function(e){return null==e?"":(e+"").replace(p,"").replace(f,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=r.type(e);null==e.length||"string"===i||"function"===i||"regexp"===i||r.isWindow(e)?E.call(n,e):r.merge(n,e)}return n},inArray:function(e,t,n){var i;if(t){if(L)return L.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=e.length,i=0;if("number"==typeof t.length)for(var o=t.length;i<o;i++)e[n++]=t[i];else for(;t[i]!==s;)e[n++]=t[i++];return e.length=n,e},grep:function(e,t,n){var i,o=[];n=!!n;for(var a=0,s=e.length;a<s;a++)i=!!t(e[a],a),n!==i&&o.push(e[a]);return o},map:function(e,t,n){var i,o,a=[],c=0,l=e.length,u=e instanceof r||l!==s&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||r.isArray(e));if(u)for(;c<l;c++)i=t(e[c],c,n),null!=i&&(a[a.length]=i);else for(o in e)i=t(e[o],o,n),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,t){if("string"==typeof t){var n=e[t];t=e,e=n}if(!r.isFunction(e))return s;var i=M.call(arguments,2),o=function(){return e.apply(t,i.concat(M.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||r.guid++,o},access:function(e,t,n,i,o,a,c){var l,u=null==n,d=0,p=e.length;if(n&&"object"==("undefined"==typeof n?"undefined":_typeof(n))){for(d in n)r.access(e,t,d,n[d],1,a,i);o=1}else if(i!==s){if(l=c===s&&r.isFunction(i),u&&(l?(l=t,t=function(e,t,n){return l.call(r(e),n)}):(t.call(e,i),t=null)),t)for(;d<p;d++)t(e[d],n,l?i.call(e[d],d,t(e[d],n)):i,c);o=1}return o?e:u?t.call(e):p?t(e[0],n):a},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||w.exec(e)||x.exec(e)||e.indexOf("compatible")<0&&k.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}r.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof r&&!(i instanceof e)&&(i=e(i)),r.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(R);return e},browser:{}}),r.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){j["[object "+t+"]"]=t.toLowerCase()}),n=r.uaMatch(C),n.browser&&(r.browser[n.browser]=!0,r.browser.version=n.version),r.browser.webkit&&(r.browser.safari=!0),d.test(" ")&&(p=/^[\s\xA0]+/,f=/[\s\xA0]+$/),t=r(R),R.addEventListener?o=function(){R.removeEventListener("DOMContentLoaded",o,!1),r.ready()}:R.attachEvent&&(o=function(){"complete"===R.readyState&&(R.detachEvent("onreadystatechange",o),r.ready())}),r}(),B={};_.Callbacks=function(e){e=e?B[e]||F(e):{};var t,n,i,o,a,r,c=[],l=[],u=function f(t){var n,i,o,a;for(n=0,i=t.length;n<i;n++)o=t[n],a=_.type(o),"array"===a?f(o):"function"===a&&(!e.unique||!p.has(o))&&c.push(o)},d=function(s,u){for(u=u||[],t=!e.memory||[s,u],n=!0,i=!0,r=o||0,o=0,a=c.length;c&&r<a;r++)if(c[r].apply(s,u)===!1&&e.stopOnFalse){t=!0;break}i=!1,c&&(e.once?t===!0?p.disable():c=[]:l&&l.length&&(t=l.shift(),p.fireWith(t[0],t[1])))},p={add:function(){if(c){var e=c.length;u(arguments),i?a=c.length:t&&t!==!0&&(o=e,d(t[0],t[1]))}return this},remove:function(){if(c)for(var t=arguments,n=0,o=t.length;n<o;n++)for(var s=0;s<c.length&&(t[n]!==c[s]||(i&&s<=a&&(a--,s<=r&&r--),c.splice(s--,1),!e.unique));s++);return this},has:function(e){if(c)for(var t=0,n=c.length;t<n;t++)if(e===c[t])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=l=t=s,this},disabled:function(){return!c},lock:function(){return l=s,(!t||t===!0)&&p.disable(),this},locked:function(){return!l},fireWith:function(n,o){return l&&(i?e.once||l.push([n,o]):(!e.once||!t)&&d(n,o)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p};var W=[].slice;_.extend({Deferred:function(e){var t,n=_.Callbacks("once memory"),i=_.Callbacks("once memory"),o=_.Callbacks("memory"),a="pending",s={resolve:n,reject:i,notify:o},r={done:n.add,fail:i.add,progress:o.add,state:function(){return a},isResolved:n.fired,isRejected:i.fired,then:function(e,t,n){return c.done(e).fail(t).progress(n),this},always:function(){return c.done.apply(c,arguments).fail.apply(c,arguments),this},pipe:function(e,t,n){return _.Deferred(function(i){_.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,o=t[0],a=t[1];_.isFunction(o)?c[e](function(){n=o.apply(this,arguments),n&&_.isFunction(n.promise)?n.promise().then(i.resolve,i.reject,i.notify):i[a+"With"](this===c?i:this,[n])}):c[e](i[a])})}).promise()},promise:function(e){if(null==e)e=r;else for(var t in r)e[t]=r[t];return e}},c=r.promise({});for(t in s)c[t]=s[t].fire,c[t+"With"]=s[t].fireWith;return c.done(function(){a="resolved"},i.disable,o.lock).fail(function(){a="rejected"},n.disable,o.lock),e&&e.call(c,c),c},when:function(e){function t(e){return function(t){s[e]=arguments.length>1?W.call(arguments,0):t,c.notifyWith(l,s)}}function n(e){return function(t){i[e]=arguments.length>1?W.call(arguments,0):t,--r||c.resolveWith(c,i)}}var i=W.call(arguments,0),o=0,a=i.length,s=Array(a),r=a,c=a<=1&&e&&_.isFunction(e.promise)?e:_.Deferred(),l=c.promise();if(a>1){for(;o<a;o++)i[o]&&i[o].promise&&_.isFunction(i[o].promise)?i[o].promise().then(n(o),c.reject,t(o)):--r;r||c.resolveWith(c,i)}else c!==e&&c.resolveWith(c,a?[e]:[]);return l}}),_.support=function(){var e,t,n,i,o,s,r,c,l,u,d,p=R.createElement("div");R.documentElement;if(p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",t=p.getElementsByTagName("*"),n=p.getElementsByTagName("a")[0],!t||!t.length||!n)return{};i=R.createElement("select"),o=i.appendChild(R.createElement("option")),s=p.getElementsByTagName("input")[0],e={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!R.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},_.boxModel=e.boxModel="CSS1Compat"===R.compatMode,s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!o.disabled;try{delete p.test}catch(f){e.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){e.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),s=R.createElement("input"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),p.appendChild(s),r=R.createDocumentFragment(),r.appendChild(p.lastChild),e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,r.removeChild(s),r.appendChild(p),p.attachEvent)for(u in{submit:1,change:1,focusin:1})l="on"+u,d=l in p,d||(p.setAttribute(l,"return;"),d="function"==typeof p[l]),e[u+"Bubbles"]=d;return r.removeChild(p),r=i=o=p=s=null,_(function(){var t,n,i,o,s,r,l,u,f,h,m,g,v=R.getElementsByTagName("body")[0];!v||(l=1,g="padding:0;margin:0;border:",h="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",u="style='"+h+g+"5px solid #000;",f="<div "+u+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div><table "+u+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",t=R.createElement("div"),t.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+l+"px",v.insertBefore(t,v.firstChild),p=R.createElement("div"),t.appendChild(p),p.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",c=p.getElementsByTagName("td"),d=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",e.reliableHiddenOffsets=d&&0===c[0].offsetHeight,a.getComputedStyle&&(p.innerHTML="",r=R.createElement("div"),r.style.width="0",r.style.marginRight="0",p.style.width="2px",p.appendChild(r),e.reliableMarginRight=0===(parseInt((a.getComputedStyle(r,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof p.style.zoom&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,e.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==p.offsetWidth),p.style.cssText=h+m,p.innerHTML=f,n=p.firstChild,i=n.firstChild,o=n.nextSibling.firstChild.firstChild,s={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},i.style.position="fixed",i.style.top="20px",s.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",n.style.overflow="hidden",n.style.position="relative",s.subtractsBorderForOverflowNotVisible=i.offsetTop===-5,s.doesNotIncludeMarginInBodyOffset=v.offsetTop!==l,a.getComputedStyle&&(p.style.marginTop="1%",e.pixelMargin="1%"!==(a.getComputedStyle(p,null)||{marginTop:0}).marginTop),"undefined"!=typeof t.style.zoom&&(t.style.zoom=1),v.removeChild(t),r=p=t=null,_.extend(e,s))}),e}();var $=/^(?:\{.*\}|\[.*\])$/,U=/([A-Z])/g;_.extend({cache:{},uuid:0,expando:"jQuery"+(_.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?_.cache[e[_.expando]]:e[_.expando],!!e&&!P(e)},data:function(e,t,n,i){if(_.acceptData(e)){var o,a,r,c=_.expando,l="string"==typeof t,u=e.nodeType,d=u?_.cache:e,p=u?e[c]:e[c]&&c,f="events"===t;if((!p||!d[p]||!f&&!i&&!d[p].data)&&l&&n===s)return;return p||(u?e[c]=p=++_.uuid:p=c),d[p]||(d[p]={},u||(d[p].toJSON=_.noop)),"object"!=("undefined"==typeof t?"undefined":_typeof(t))&&"function"!=typeof t||(i?d[p]=_.extend(d[p],t):d[p].data=_.extend(d[p].data,t)),o=a=d[p],i||(a.data||(a.data={}),a=a.data),n!==s&&(a[_.camelCase(t)]=n),f&&!a[t]?o.events:(l?(r=a[t],null==r&&(r=a[_.camelCase(t)])):r=a,r)}},removeData:function(e,t,n){if(_.acceptData(e)){var i,o,a,s=_.expando,r=e.nodeType,c=r?_.cache:e,l=r?e[s]:s;if(!c[l])return;if(t&&(i=n?c[l]:c[l].data)){_.isArray(t)||(t in i?t=[t]:(t=_.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,a=t.length;o<a;o++)delete i[t[o]];if(!(n?P:_.isEmptyObject)(i))return}if(!n&&(delete c[l].data,!P(c[l])))return;_.support.deleteExpando||!c.setInterval?delete c[l]:c[l]=null,r&&(_.support.deleteExpando?delete e[s]:e.removeAttribute?e.removeAttribute(s):e[s]=null)}},_data:function(e,t,n){return _.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=_.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),_.fn.extend({data:function(e,t){var n,i,o,a,r,c=this[0],l=0,u=null;if(e===s){if(this.length&&(u=_.data(c),1===c.nodeType&&!_._data(c,"parsedAttrs"))){for(o=c.attributes,r=o.length;l<r;l++)a=o[l].name,0===a.indexOf("data-")&&(a=_.camelCase(a.substring(5)),O(c,a,u[a]));_._data(c,"parsedAttrs",!0)}return u}return"object"==("undefined"==typeof e?"undefined":_typeof(e))?this.each(function(){_.data(this,e)}):(n=e.split(".",2),n[1]=n[1]?"."+n[1]:"",i=n[1]+"!",_.access(this,function(t){return t===s?(u=this.triggerHandler("getData"+i,[n[0]]),u===s&&c&&(u=_.data(c,e),u=O(c,e,u)),u===s&&n[1]?this.data(n[0]):u):(n[1]=t,void this.each(function(){var o=_(this);o.triggerHandler("setData"+i,n),_.data(this,e,t),o.triggerHandler("changeData"+i,n)}))},null,t,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){_.removeData(this,e)})}}),_.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",_._data(e,t,(_._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var i=n+"mark",o=e?0:(_._data(t,i)||1)-1;o?_._data(t,i,o):(_.removeData(t,i,!0),j(t,n,"mark"))}},queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=_._data(e,t),n&&(!i||_.isArray(n)?i=_._data(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.shift(),o={};"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),_._data(e,t+".run",o),i.call(e,function(){_.dequeue(e,t)},o)),n.length||(_.removeData(e,t+"queue "+t+".run",!0),j(e,t,"queue"))}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):t===s?this:this.each(function(){var n=_.queue(this,e,t);"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},delay:function(e,t){return e=_.fx?_.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--c||o.resolveWith(a,[a])}"string"!=typeof e&&(t=e,e=s),e=e||"fx";for(var i,o=_.Deferred(),a=this,r=a.length,c=1,l=e+"defer",u=e+"queue",d=e+"mark";r--;)(i=_.data(a[r],l,s,!0)||(_.data(a[r],u,s,!0)||_.data(a[r],d,s,!0))&&_.data(a[r],l,_.Callbacks("once memory"),!0))&&(c++,i.add(n));return n(),o.promise(t)}});var q,Q,J,G=/[\n\t\r]/g,Y=/\s+/,Z=/\r/g,z=/^(?:button|input)$/i,X=/^(?:button|input|object|select|textarea)$/i,K=/^a(?:rea)?$/i,ee=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,te=_.support.getSetAttribute;_.fn.extend({attr:function(e,t){return _.access(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})},prop:function(e,t){return _.access(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return e=_.propFix[e]||e,this.each(function(){try{this[e]=s,delete this[e]}catch(t){}})},addClass:function(e){var t,n,i,o,a,s,r;if(_.isFunction(e))return this.each(function(t){_(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(Y),n=0,i=this.length;n<i;n++)if(o=this[n],1===o.nodeType)if(o.className||1!==t.length){for(a=" "+o.className+" ",s=0,r=t.length;s<r;s++)~a.indexOf(" "+t[s]+" ")||(a+=t[s]+" ");o.className=_.trim(a)}else o.className=e;return this},removeClass:function(e){var t,n,i,o,a,r,c;if(_.isFunction(e))return this.each(function(t){_(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===s)for(t=(e||"").split(Y),n=0,i=this.length;n<i;n++)if(o=this[n],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(G," "),r=0,c=t.length;r<c;r++)a=a.replace(" "+t[r]+" "," ");o.className=_.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n="undefined"==typeof e?"undefined":_typeof(e),i="boolean"==typeof t;return _.isFunction(e)?this.each(function(n){_(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var o,a=0,s=_(this),r=t,c=e.split(Y);o=c[a++];)r=i?r:!s.hasClass(o),s[r?"addClass":"removeClass"](o);else"undefined"!==n&&"boolean"!==n||(this.className&&_._data(this,"__className__",this.className),this.className=this.className||e===!1?"":_._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(G," ").indexOf(t)>-1)return!0;return!1},val:function(e){var t,n,i,o=this[0];return arguments.length?(i=_.isFunction(e),this.each(function(n){var o,a=_(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":_.isArray(o)&&(o=_.map(o,function(e){return null==e?"":e+""})),t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,o,"value")!==s||(this.value=o))})):o?(t=_.valHooks[o.type]||_.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(o,"value"))!==s?n:(n=o.value,"string"==typeof n?n.replace(Z,""):null==n?"":n)):void 0}}),_.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,o,a=e.selectedIndex,s=[],r=e.options,c="select-one"===e.type;if(a<0)return null;for(n=c?a:0,i=c?a+1:r.length;n<i;n++)if(o=r[n],o.selected&&(_.support.optDisabled?!o.disabled:null===o.getAttribute("disabled"))&&(!o.parentNode.disabled||!_.nodeName(o.parentNode,"optgroup"))){if(t=_(o).val(),c)return t;s.push(t)}return c&&!s.length&&r.length?_(r[a]).val():s},set:function(e,t){var n=_.makeArray(t);return _(e).find("option").each(function(){this.selected=_.inArray(_(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,t,n,i){var o,a,r,c=e.nodeType;if(e&&3!==c&&8!==c&&2!==c)return i&&t in _.attrFn?_(e)[t](n):"undefined"==typeof e.getAttribute?_.prop(e,t,n):(r=1!==c||!_.isXMLDoc(e),r&&(t=t.toLowerCase(),a=_.attrHooks[t]||(ee.test(t)?Q:q)),n!==s?null===n?void _.removeAttr(e,t):a&&"set"in a&&r&&(o=a.set(e,n,t))!==s?o:(e.setAttribute(t,""+n),n):a&&"get"in a&&r&&null!==(o=a.get(e,t))?o:(o=e.getAttribute(t),null===o?s:o))},removeAttr:function(e,t){var n,i,o,a,s,r=0;if(t&&1===e.nodeType)for(i=t.toLowerCase().split(Y),a=i.length;r<a;r++)o=i[r],o&&(n=_.propFix[o]||o,s=ee.test(o),s||_.attr(e,o,""),e.removeAttribute(te?o:n),s&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(z.test(e.nodeName)&&e.parentNode)_.error("type property can't be changed");else if(!_.support.radioValue&&"radio"===t&&_.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return q&&_.nodeName(e,"button")?q.get(e,t):t in e?e.value:null},set:function(e,t,n){return q&&_.nodeName(e,"button")?q.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var i,o,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return a=1!==r||!_.isXMLDoc(e),a&&(t=_.propFix[t]||t,o=_.propHooks[t]),n!==s?o&&"set"in o&&(i=o.set(e,n,t))!==s?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):X.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:s}}}}),_.attrHooks.tabindex=_.propHooks.tabIndex,Q={get:function(e,t){var n,i=_.prop(e,t);return i===!0||"boolean"!=typeof i&&(n=e.getAttributeNode(t))&&n.nodeValue!==!1?t.toLowerCase():s},set:function(e,t,n){var i;return t===!1?_.removeAttr(e,n):(i=_.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},te||(J={name:!0,id:!0,coords:!0},q=_.valHooks.button={get:function(e,t){var n;return n=e.getAttributeNode(t),n&&(J[t]?""!==n.nodeValue:n.specified)?n.nodeValue:s},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=R.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},_.attrHooks.tabindex.set=q.set,_.each(["width","height"],function(e,t){_.attrHooks[t]=_.extend(_.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})}),_.attrHooks.contenteditable={get:q.get,set:function(e,t,n){""===t&&(t="false"),q.set(e,t,n)}}),_.support.hrefNormalized||_.each(["href","src","width","height"],function(e,t){_.attrHooks[t]=_.extend(_.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null===n?s:n}})}),_.support.style||(_.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||s},set:function(e,t){return e.style.cssText=""+t}}),_.support.optSelected||(_.propHooks.selected=_.extend(_.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),_.support.enctype||(_.propFix.enctype="encoding"),_.support.checkOn||_.each(["radio","checkbox"],function(){_.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]=_.extend(_.valHooks[this],{set:function(e,t){if(_.isArray(t))return e.checked=_.inArray(_(e).val(),t)>=0}})});var ne=/^(?:textarea|input|select)$/i,ie=/^([^\.]*)?(?:\.(.+))?$/,oe=/(?:^|\s)hover(\.\S+)?\b/,ae=/^key/,se=/^(?:mouse|contextmenu)|click/,re=/^(?:focusinfocus|focusoutblur)$/,ce=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,le=function(e){var t=ce.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},ue=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},de=function(e){return _.event.special.hover?e:e.replace(oe,"mouseenter$1 mouseleave$1")};_.event={add:function(e,t,n,i,o){var a,r,c,l,u,d,p,f,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&t&&n&&(a=_._data(e))){for(n.handler&&(h=n,n=h.handler,o=h.selector),n.guid||(n.guid=_.guid++),c=a.events,c||(a.events=c={}),r=a.handle,r||(a.handle=r=function(e){return"undefined"==typeof _||e&&_.event.triggered===e.type?s:_.event.dispatch.apply(r.elem,arguments)},r.elem=e),t=_.trim(de(t)).split(" "),l=0;l<t.length;l++)u=ie.exec(t[l])||[],d=u[1],p=(u[2]||"").split(".").sort(),g=_.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=_.event.special[d]||{},f=_.extend({type:d,origType:u[1],data:i,handler:n,guid:n.guid,selector:o,quick:o&&le(o),namespace:p.join(".")},h),m=c[d],m||(m=c[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,p,r)!==!1||(e.addEventListener?e.addEventListener(d,r,!1):e.attachEvent&&e.attachEvent("on"+d,r))),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),o?m.splice(m.delegateCount++,0,f):m.push(f),_.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,o){var a,s,r,c,l,u,d,p,f,h,m,g,v=_.hasData(e)&&_._data(e);if(v&&(p=v.events)){for(t=_.trim(de(t||"")).split(" "),a=0;a<t.length;a++)if(s=ie.exec(t[a])||[],r=c=s[1],l=s[2],r){for(f=_.event.special[r]||{},r=(i?f.delegateType:f.bindType)||r,m=p[r]||[],u=m.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],(o||c===g.origType)&&(!n||n.guid===g.guid)&&(!l||l.test(g.namespace))&&(!i||i===g.selector||"**"===i&&g.selector)&&(m.splice(d--,1),g.selector&&m.delegateCount--,f.remove&&f.remove.call(e,g));0===m.length&&u!==m.length&&((!f.teardown||f.teardown.call(e,l)===!1)&&_.removeEvent(e,r,v.handle),delete p[r])}else for(r in p)_.event.remove(e,r+t[a],n,i,!0);_.isEmptyObject(p)&&(h=v.handle,h&&(h.elem=null),_.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,n,i){if(!n||3!==n.nodeType&&8!==n.nodeType){var o,r,c,l,u,d,p,f,h,m,g=e.type||e,v=[];if(re.test(g+_.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),r=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),(!n||_.event.customEvent[g])&&!_.event.global[g])return;if(e="object"==("undefined"==typeof e?"undefined":_typeof(e))?e[_.expando]?e:new _.Event(g,e):new _.Event(g),e.type=g,e.isTrigger=!0,e.exclusive=r,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",!n){o=_.cache;for(c in o)o[c].events&&o[c].events[g]&&_.event.trigger(e,t,o[c].handle.elem,!0);return}if(e.result=s,e.target||(e.target=n),t=null!=t?_.makeArray(t):[],t.unshift(e),p=_.event.special[g]||{},p.trigger&&p.trigger.apply(n,t)===!1)return;if(h=[[n,p.bindType||g]],!i&&!p.noBubble&&!_.isWindow(n)){for(m=p.delegateType||g,l=re.test(m+g)?n:n.parentNode,u=null;l;l=l.parentNode)h.push([l,m]),u=l;u&&u===n.ownerDocument&&h.push([u.defaultView||u.parentWindow||a,m])}for(c=0;c<h.length&&!e.isPropagationStopped();c++)l=h[c][0],e.type=h[c][1],f=(_._data(l,"events")||{})[e.type]&&_._data(l,"handle"),f&&f.apply(l,t),f=d&&l[d],f&&_.acceptData(l)&&f.apply(l,t)===!1&&e.preventDefault();return e.type=g,!i&&!e.isDefaultPrevented()&&(!p._default||p._default.apply(n.ownerDocument,t)===!1)&&("click"!==g||!_.nodeName(n,"a"))&&_.acceptData(n)&&d&&n[g]&&("focus"!==g&&"blur"!==g||0!==e.target.offsetWidth)&&!_.isWindow(n)&&(u=n[d],u&&(n[d]=null),_.event.triggered=g,n[g](),_.event.triggered=s,u&&(n[d]=u)),e.result}},dispatch:function(e){e=_.event.fix(e||a.event);var t,n,i,o,r,c,l,u,d,p,f=(_._data(this,"events")||{})[e.type]||[],h=f.delegateCount,m=[].slice.call(arguments,0),g=!e.exclusive&&!e.namespace,v=_.event.special[e.type]||{},y=[];if(m[0]=e,e.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,e)!==!1){if(h&&(!e.button||"click"!==e.type))for(o=_(this),o.context=this.ownerDocument||this,i=e.target;i!=this;i=i.parentNode||this)if(i.disabled!==!0){for(c={},u=[],o[0]=i,t=0;t<h;t++)d=f[t],p=d.selector,c[p]===s&&(c[p]=d.quick?ue(i,d.quick):o.is(p)),c[p]&&u.push(d);u.length&&y.push({elem:i,matches:u})}for(f.length>h&&y.push({elem:this,matches:f.slice(h)}),t=0;t<y.length&&!e.isPropagationStopped();t++)for(l=y[t],e.currentTarget=l.elem,n=0;n<l.matches.length&&!e.isImmediatePropagationStopped();n++)d=l.matches[n],(g||!e.namespace&&!d.namespace||e.namespace_re&&e.namespace_re.test(d.namespace))&&(e.data=d.data,e.handleObj=d,r=((_.event.special[d.origType]||{}).handle||d.handler).apply(l.elem,m),r!==s&&(e.result=r,r===!1&&(e.preventDefault(),e.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||R,i=n.documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),!e.which&&a!==s&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[_.expando])return e;var t,n,i=e,o=_.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=_.Event(i),t=a.length;t;)n=a[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||R),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===s&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,i):e},special:{ready:{setup:_.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){_.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var o=_.extend(new _.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?_.event.trigger(o,null,t):_.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},_.event.handle=_.event.dispatch,_.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},_.Event=function(e,t){return this instanceof _.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?A:L):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||_.now(),this[_.expando]=!0,void 0):new _.Event(e,t)},_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=A;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=A;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A,this.stopPropagation()},isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L},_.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,a=e.handleObj;a.selector;return o&&(o===i||_.contains(i,o))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),_.support.submitBubbles||(_.event.special.submit={setup:function(){return!_.nodeName(this,"form")&&void _.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=_.nodeName(t,"input")||_.nodeName(t,"button")?t.form:s;n&&!n._submit_attached&&(_.event.add(n,"submit._submit",function(e){
e._submit_bubble=!0}),n._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&_.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!_.nodeName(this,"form")&&void _.event.remove(this,"._submit")}}),_.support.changeBubbles||(_.event.special.change={setup:function(){return ne.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(_.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),_.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,_.event.simulate("change",this,e,!0))})),!1):void _.event.add(this,"beforeactivate._change",function(e){var t=e.target;ne.test(t.nodeName)&&!t._change_attached&&(_.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&_.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return _.event.remove(this,"._change"),ne.test(this.nodeName)}}),_.support.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){_.event.simulate(t,e.target,_.event.fix(e),!0)};_.event.special[t]={setup:function(){0===n++&&R.addEventListener(e,i,!0)},teardown:function(){0===--n&&R.removeEventListener(e,i,!0)}}}),_.fn.extend({on:function(e,t,n,i,o){var a,r;if("object"==("undefined"==typeof e?"undefined":_typeof(e))){"string"!=typeof t&&(n=n||t,t=s);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=s):null==i&&("string"==typeof t?(i=n,n=s):(i=n,n=t,t=s)),i===!1)i=L;else if(!i)return this;return 1===o&&(a=i,i=function(e){return _().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=_.guid++)),this.each(function(){_.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return _(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==("undefined"==typeof e?"undefined":_typeof(e))){for(var o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=s),n===!1&&(n=L),this.each(function(){_.event.remove(this,e,n,t)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return _(this.context).on(e,this.selector,t,n),this},die:function(e,t){return _(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return _.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||_.guid++,i=0,o=function a(n){var a=(_._data(this,"lastToggle"+e.guid)||0)%i;return _._data(this,"lastToggle"+e.guid,a+1),n.preventDefault(),t[a].apply(this,arguments)||!1};for(o.guid=n;i<t.length;)t[i++].guid=n;return this.click(o)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){_.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},_.attrFn&&(_.attrFn[t]=!0),ae.test(t)&&(_.event.fixHooks[t]=_.event.keyHooks),se.test(t)&&(_.event.fixHooks[t]=_.event.mouseHooks)}),function(){function e(e,t,n,o,a,s){for(var r=0,c=o.length;r<c;r++){var l=o[r];if(l){var u=!1;for(l=l[e];l;){if(l[i]===n){u=o[l.sizset];break}if(1===l.nodeType)if(s||(l[i]=n,l.sizset=r),"string"!=typeof t){if(l===t){u=!0;break}}else if(p.filter(t,[l]).length>0){u=l;break}l=l[e]}o[r]=u}}}function t(e,t,n,o,a,s){for(var r=0,c=o.length;r<c;r++){var l=o[r];if(l){var u=!1;for(l=l[e];l;){if(l[i]===n){u=o[l.sizset];break}if(1===l.nodeType&&!s&&(l[i]=n,l.sizset=r),l.nodeName.toLowerCase()===t){u=l;break}l=l[e]}o[r]=u}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,r=!1,c=!0,l=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return c=!1,0});var p=function(e,t,i,o){i=i||[],t=t||R;var s=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var r,c,l,u,d,f,g,v,b=!0,w=p.isXML(t),x=[],I=e;do if(n.exec(""),r=n.exec(I),r&&(I=r[3],x.push(r[1]),r[2])){u=r[3];break}while(r);if(x.length>1&&m.exec(e))if(2===x.length&&h.relative[x[0]])c=k(x[0]+x[1],t,o);else for(c=h.relative[x[0]]?[t]:p(x.shift(),t);x.length;)e=x.shift(),h.relative[e]&&(e+=x.shift()),c=k(e,c,o);else if(!o&&x.length>1&&9===t.nodeType&&!w&&h.match.ID.test(x[0])&&!h.match.ID.test(x[x.length-1])&&(d=p.find(x.shift(),t,w),t=d.expr?p.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=o?{expr:x.pop(),set:y(o)}:p.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!t.parentNode?t:t.parentNode,w),c=d.expr?p.filter(d.expr,d.set):d.set,x.length>0?l=y(c):b=!1;x.length;)f=x.pop(),g=f,h.relative[f]?g=x.pop():f="",null==g&&(g=t),h.relative[f](l,g,w);else l=x=[];if(l||(l=c),l||p.error(f||e),"[object Array]"===a.call(l))if(b)if(t&&1===t.nodeType)for(v=0;null!=l[v];v++)l[v]&&(l[v]===!0||1===l[v].nodeType&&p.contains(t,l[v]))&&i.push(c[v]);else for(v=0;null!=l[v];v++)l[v]&&1===l[v].nodeType&&i.push(c[v]);else i.push.apply(i,l);else y(l,i);return u&&(p(u,s,i,o),p.uniqueSort(i)),i};p.uniqueSort=function(e){if(w&&(r=c,e.sort(w),r))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},p.matches=function(e,t){return p(e,null,null,t)},p.matchesSelector=function(e,t){return p(t,null,null,[e]).length>0},p.find=function(e,t,n){var i,o,a,s,r,c;if(!e)return[];for(o=0,a=h.order.length;o<a;o++)if(r=h.order[o],(s=h.leftMatch[r].exec(e))&&(c=s[1],s.splice(1,1),"\\"!==c.substr(c.length-1)&&(s[1]=(s[1]||"").replace(l,""),i=h.find[r](s,t,n),null!=i))){e=e.replace(h.match[r],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},p.filter=function(e,t,n,i){for(var o,a,r,c,l,u,d,f,m,g=e,v=[],y=t,b=t&&t[0]&&p.isXML(t[0]);e&&t.length;){for(r in h.filter)if(null!=(o=h.leftMatch[r].exec(e))&&o[2]){if(u=h.filter[r],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),h.preFilter[r])if(o=h.preFilter[r](o,y,n,v,i,b)){if(o===!0)continue}else a=c=!0;if(o)for(f=0;null!=(l=y[f]);f++)l&&(c=u(l,o,f,y),m=i^c,n&&null!=c?m?a=!0:y[f]=!1:m&&(v.push(l),a=!0));if(c!==s){if(n||(y=v),e=e.replace(h.match[r],""),!a)return[];break}}if(e===g){if(null!=a)break;p.error(e)}g=e}return y},p.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=p.getText=function(e){var t,n,i=e.nodeType,o="";if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)o+=f(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(o+=f(n));return o},h=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),o=n&&!i;i&&(t=t.toLowerCase());for(var a,s=0,r=e.length;s<r;s++)if(a=e[s]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[s]=o||a&&a.nodeName.toLowerCase()===t?a||!1:a===t}o&&p.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,o=0,a=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();o<a;o++)if(n=e[o]){var s=n.parentNode;e[o]=s.nodeName.toLowerCase()===t&&s}}else{for(;o<a;o++)n=e[o],n&&(e[o]=i?n.parentNode:n.parentNode===t);i&&p.filter(t,e,!0)}},"":function(n,i,a){var s,r=o++,c=e;"string"==typeof i&&!d.test(i)&&(i=i.toLowerCase(),s=i,c=t),c("parentNode",i,r,n,s,a)},"~":function(n,i,a){var s,r=o++,c=e;"string"==typeof i&&!d.test(i)&&(i=i.toLowerCase(),s=i,c=t),c("previousSibling",i,r,n,s,a)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),o=0,a=i.length;o<a;o++)i[o].getAttribute("name")===e[1]&&n.push(i[o]);return 0===n.length?null:n}},TAG:function(e,t){if("undefined"!=typeof t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,o,a){if(e=" "+e[1].replace(l,"")+" ",a)return e;for(var s,r=0;null!=(s=t[r]);r++)s&&(o^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(s):n&&(t[r]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e,t){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||p.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&p.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,i,o,a){var s=e[1]=e[1].replace(l,"");return!a&&h.attrMap[s]&&(e[1]=h.attrMap[s]),e[4]=(e[4]||e[5]||"").replace(l,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,o,a){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var s=p.filter(e[3],t,i,!0^a);return i||o.push.apply(o,s),!1}e[3]=p(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!p(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var o=t[1],a=h.filters[o];if(a)return a(e,n,t,i);if("contains"===o)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===o){for(var s=t[3],r=0,c=s.length;r<c;r++)if(s[r]===e)return!1;return!0}p.error(o)},CHILD:function(e,t){var n,o,a,s,r,c,l=t[1],u=e;switch(l){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===l)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(n=t[2],o=t[3],1===n&&0===o)return!0;if(a=t[0],s=e.parentNode,s&&(s[i]!==a||!e.nodeIndex)){for(r=0,u=s.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++r);s[i]=a}return c=e.nodeIndex-o,0===n?0===c:c%n===0&&c/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=p.attr?p.attr(e,n):h.attrHandle[n]?h.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=i+"",a=t[2],s=t[4];return null==i?"!="===a:!a&&p.attr?null!=i:"="===a?o===s:"*="===a?o.indexOf(s)>=0:"~="===a?(" "+o+" ").indexOf(s)>=0:s?"!="===a?o!==s:"^="===a?0===o.indexOf(s):"$="===a?o.substr(o.length-s.length)===s:"|="===a&&(o===s||o.substr(0,s.length+1)===s+"-"):o&&i!==!1},POS:function(e,t,n,i){var o=t[2],a=h.setFilters[o];if(a)return a(e,n,t,i)}}},m=h.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in h.match)h.match[v]=new RegExp(h.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[v].source.replace(/\\(\d+)/g,g));h.match.globalPOS=m;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(R.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,i=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var o=e.length;n<o;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var w,x;R.documentElement.compareDocumentPosition?w=function(e,t){return e===t?(r=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(w=function(e,t){if(e===t)return r=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,o=[],a=[],s=e.parentNode,c=t.parentNode,l=s;if(s===c)return x(e,t);if(!s)return-1;if(!c)return 1;for(;l;)o.unshift(l),l=l.parentNode;for(l=c;l;)a.unshift(l),l=l.parentNode;n=o.length,i=a.length;for(var u=0;u<n&&u<i;u++)if(o[u]!==a[u])return x(o[u],a[u]);return u===n?x(e,a[u],-1):x(o[u],t,1)},x=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),function(){var e=R.createElement("div"),t="script"+(new Date).getTime(),n=R.documentElement;e.innerHTML="<a name='"+t+"'/>",n.insertBefore(e,n.firstChild),R.getElementById(t)&&(h.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:s:[]}},h.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=R.createElement("div");e.appendChild(R.createComment("")),e.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],o=0;n[o];o++)1===n[o].nodeType&&i.push(n[o]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),R.querySelectorAll&&function(){var e=p,t=R.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){p=function(t,i,o,a){if(i=i||R,!a&&!p.isXML(i)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(s&&(1===i.nodeType||9===i.nodeType)){if(s[1])return y(i.getElementsByTagName(t),o);if(s[2]&&h.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(s[2]),o)}if(9===i.nodeType){if("body"===t&&i.body)return y([i.body],o);if(s&&s[3]){var r=i.getElementById(s[3]);if(!r||!r.parentNode)return y([],o);if(r.id===s[3])return y([r],o)}try{return y(i.querySelectorAll(t),o)}catch(c){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var l=i,u=i.getAttribute("id"),d=u||n,f=i.parentNode,m=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),m&&f&&(i=i.parentNode);try{if(!m||f)return y(i.querySelectorAll("[id='"+d+"'] "+t),o)}catch(g){}finally{u||l.removeAttribute("id")}}}return e(t,i,o,a)};for(var i in e)p[i]=e[i];t=null}}(),function(){var e=R.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(R.createElement("div"),"div"),i=!1;try{t.call(R.documentElement,"[test!='']:sizzle")}catch(o){i=!0}p.matchesSelector=function(e,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!p.isXML(e))try{if(i||!h.match.PSEUDO.test(o)&&!/!=/.test(o)){var a=t.call(e,o);if(a||!n||e.document&&11!==e.document.nodeType)return a}}catch(s){}return p(o,null,null,[e]).length>0}}}(),function(){var e=R.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null}}(),R.documentElement.contains?p.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:R.documentElement.compareDocumentPosition?p.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:p.contains=function(){return!1},p.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var k=function(e,t,n){for(var i,o=[],a="",s=t.nodeType?[t]:t;i=h.match.PSEUDO.exec(e);)a+=i[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var r=0,c=s.length;r<c;r++)p(e,s[r],o,n);return p.filter(a,o)};p.attr=_.attr,p.selectors.attrMap={},_.find=p,_.expr=p.selectors,_.expr[":"]=_.expr.filters,_.unique=p.uniqueSort,_.text=p.getText,_.isXMLDoc=p.isXML,_.contains=p.contains}();var pe=/Until$/,fe=/^(?:parents|prevUntil|prevAll)/,he=/,/,me=/^.[^:#\[\.,]*$/,ge=Array.prototype.slice,ve=_.expr.match.globalPOS,ye={children:!0,contents:!0,next:!0,prev:!0};_.fn.extend({find:function(e){var t,n,i=this;if("string"!=typeof e)return _(e).filter(function(){for(t=0,n=i.length;t<n;t++)if(_.contains(i[t],this))return!0});var o,a,s,r=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++)if(o=r.length,_.find(e,this[t],r),t>0)for(a=o;a<r.length;a++)for(s=0;s<o;s++)if(r[s]===r[a]){r.splice(a--,1);break}return r},has:function(e){var t=_(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(_.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(E(this,e,!1),"not",e)},filter:function(e){return this.pushStack(E(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ve.test(e)?_(e,this.context).index(this[0])>=0:_.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i,o=[],a=this[0];if(_.isArray(e)){for(var s=1;a&&a.ownerDocument&&a!==t;){for(n=0;n<e.length;n++)_(a).is(e[n])&&o.push({selector:e[n],elem:a,level:s});a=a.parentNode,s++}return o}var r=ve.test(e)||"string"!=typeof e?_(e,t||this.context):0;for(n=0,i=this.length;n<i;n++)for(a=this[n];a;){if(r?r.index(a)>-1:_.find.matchesSelector(a,e)){o.push(a);break}if(a=a.parentNode,!a||!a.ownerDocument||a===t||11===a.nodeType)break}return o=o.length>1?_.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?_.inArray(this[0],_(e)):_.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?_(e,t):_.makeArray(e&&e.nodeType?[e]:e),i=_.merge(this.get(),n);return this.pushStack(M(n[0])||M(i[0])?i:_.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _.dir(e,"parentNode")},parentsUntil:function(e,t,n){return _.dir(e,"parentNode",n)},next:function(e){return _.nth(e,2,"nextSibling")},prev:function(e){return _.nth(e,2,"previousSibling")},nextAll:function(e){return _.dir(e,"nextSibling")},prevAll:function(e){return _.dir(e,"previousSibling")},nextUntil:function(e,t,n){return _.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return _.dir(e,"previousSibling",n)},siblings:function(e){return _.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return _.sibling(e.firstChild)},contents:function(e){return _.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:_.makeArray(e.childNodes)}},function(e,t){_.fn[e]=function(n,i){var o=_.map(this,t,n);return pe.test(e)||(i=n),i&&"string"==typeof i&&(o=_.filter(i,o)),o=this.length>1&&!ye[e]?_.unique(o):o,(this.length>1||he.test(i))&&fe.test(e)&&(o=o.reverse()),this.pushStack(o,e,ge.call(arguments).join(","))}}),_.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?_.find.matchesSelector(t[0],e)?[t[0]]:[]:_.find.matches(e,t)},dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(n===s||1!==o.nodeType||!_(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},nth:function(e,t,n,i){t=t||1;for(var o=0;e&&(1!==e.nodeType||++o!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var be="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",we=/ jQuery\d+="(?:\d+|null)"/g,xe=/^\s+/,ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Te=/<tbody/i,Se=/<|&#?\w+;/,Ce=/<(?:script|style)/i,Ne=/<(?:script|object|embed|option|style)/i,De=new RegExp("<(?:"+be+")[\\s/>]","i"),Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/\/(java|ecma)script/i,Ae=/^\s*<!(?:\[CDATA\[|\-\-)/,Le={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},je=D(R);Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,_.support.htmlSerialize||(Le._default=[1,"div<div>","</div>"]),_.fn.extend({text:function(e){return _.access(this,function(e){return e===s?_.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(_.isFunction(e))return this.each(function(t){_(this).wrapAll(e.call(this,t))});if(this[0]){var t=_(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return _.isFunction(e)?this.each(function(t){_(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=_.isFunction(e);return this.each(function(n){_(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=_.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,_.clean(arguments)),e}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)e&&!_.filter(e,[n]).length||(!t&&1===n.nodeType&&(_.cleanData(n.getElementsByTagName("*")),_.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&_.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return _.access(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===s)return 1===t.nodeType?t.innerHTML.replace(we,""):null;if("string"==typeof e&&!Ce.test(e)&&(_.support.leadingWhitespace||!xe.test(e))&&!Le[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ke,"<$1></$2>");try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(_.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?_.isFunction(e)?this.each(function(t){var n=_(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=_(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;_(this).remove(),t?_(t).before(e):_(n).append(e)})):this.length?this.pushStack(_(_.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){var i,o,a,r,c=e[0],l=[];if(!_.support.checkClone&&3===arguments.length&&"string"==typeof c&&Ee.test(c))return this.each(function(){_(this).domManip(e,t,n,!0)});if(_.isFunction(c))return this.each(function(i){var o=_(this);e[0]=c.call(this,i,t?o.html():s),o.domManip(e,t,n)});if(this[0]){if(r=c&&c.parentNode,i=_.support.parentNode&&r&&11===r.nodeType&&r.childNodes.length===this.length?{fragment:r}:_.buildFragment(e,this,l),a=i.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild,o){t=t&&_.nodeName(o,"tr");for(var u=0,d=this.length,p=d-1;u<d;u++)n.call(t?N(this[u],o):this[u],i.cacheable||d>1&&u<p?_.clone(a,!0,!0):a)}l.length&&_.each(l,function(e,t){t.src?_.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):_.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ae,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),_.buildFragment=function(e,t,n){var i,o,a,s,r=e[0];return t&&t[0]&&(s=t[0].ownerDocument||t[0]),s.createDocumentFragment||(s=R),1===e.length&&"string"==typeof r&&r.length<512&&s===R&&"<"===r.charAt(0)&&!Ne.test(r)&&(_.support.checkClone||!Ee.test(r))&&(_.support.html5Clone||!De.test(r))&&(o=!0,a=_.fragments[r],a&&1!==a&&(i=a)),i||(i=s.createDocumentFragment(),_.clean(e,s,i,n)),o&&(_.fragments[r]=a?i:1),{fragment:i,cacheable:o}},_.fragments={},_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_.fn[e]=function(n){var i=[],o=_(n),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===o.length)return o[t](this[0]),this;for(var s=0,r=o.length;s<r;s++){var c=(s>0?this.clone(!0):this).get();_(o[s])[t](c),i=i.concat(c)}return this.pushStack(i,e,o.selector)}}),_.extend({clone:function(e,t,n){var i,o,a,s=_.support.html5Clone||_.isXMLDoc(e)||!De.test("<"+e.nodeName+">")?e.cloneNode(!0):x(e);if(!(_.support.noCloneEvent&&_.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(S(e,s),i=T(e),o=T(s),a=0;i[a];++a)o[a]&&S(i[a],o[a]);if(t&&(C(e,s),n))for(i=T(e),o=T(s),a=0;i[a];++a)C(i[a],o[a]);return i=o=null,s},clean:function(e,t,n,i){var o,a,s,r=[];t=t||R,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||R);for(var c,l=0;null!=(c=e[l]);l++)if("number"==typeof c&&(c+=""),c){if("string"==typeof c)if(Se.test(c)){c=c.replace(ke,"<$1></$2>");var u,d=(Ie.exec(c)||["",""])[1].toLowerCase(),p=Le[d]||Le._default,f=p[0],h=t.createElement("div"),m=je.childNodes;for(t===R?je.appendChild(h):D(t).appendChild(h),h.innerHTML=p[1]+c+p[2];f--;)h=h.lastChild;if(!_.support.tbody){var g=Te.test(c),v="table"!==d||g?"<table>"!==p[1]||g?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes;for(s=v.length-1;s>=0;--s)_.nodeName(v[s],"tbody")&&!v[s].childNodes.length&&v[s].parentNode.removeChild(v[s])}!_.support.leadingWhitespace&&xe.test(c)&&h.insertBefore(t.createTextNode(xe.exec(c)[0]),h.firstChild),c=h.childNodes,h&&(h.parentNode.removeChild(h),m.length>0&&(u=m[m.length-1],u&&u.parentNode&&u.parentNode.removeChild(u)))}else c=t.createTextNode(c);var y;if(!_.support.appendChecked)if(c[0]&&"number"==typeof(y=c.length))for(s=0;s<y;s++)k(c[s]);else k(c);c.nodeType?r.push(c):r=_.merge(r,c)}if(n)for(o=function(e){return!e.type||Me.test(e.type)},l=0;r[l];l++)if(a=r[l],i&&_.nodeName(a,"script")&&(!a.type||Me.test(a.type)))i.push(a.parentNode?a.parentNode.removeChild(a):a);else{if(1===a.nodeType){var b=_.grep(a.getElementsByTagName("script"),o);r.splice.apply(r,[l+1,0].concat(b))}n.appendChild(a)}return r},cleanData:function(e){for(var t,n,i,o=_.cache,a=_.event.special,s=_.support.deleteExpando,r=0;null!=(i=e[r]);r++)if((!i.nodeName||!_.noData[i.nodeName.toLowerCase()])&&(n=i[_.expando])){if(t=o[n],t&&t.events){for(var c in t.events)a[c]?_.event.remove(i,c):_.removeEvent(i,c,t.handle);t.handle&&(t.handle.elem=null)}s?delete i[_.expando]:i.removeAttribute&&i.removeAttribute(_.expando),delete o[n]}}});var Pe,Oe,Fe,Re=/alpha\([^)]*\)/i,Ve=/opacity=([^)]*)/,He=/([A-Z]|^ms)/g,_e=/^[\-+]?(?:\d*\.)?\d+$/i,Be=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,We=/^([\-+])=([\-+.\de]+)/,$e=/^margin/,Ue={position:"absolute",visibility:"hidden",display:"block"},qe=["Top","Right","Bottom","Left"];_.fn.css=function(e,t){return _.access(this,function(e,t,n){return n!==s?_.style(e,t,n):_.css(e,t)},e,t,arguments.length>1)},_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Pe(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":_.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r=_.camelCase(t),c=e.style,l=_.cssHooks[r];if(t=_.cssProps[r]||r,n===s)return l&&"get"in l&&(o=l.get(e,!1,i))!==s?o:c[t];if(a="undefined"==typeof n?"undefined":_typeof(n),"string"===a&&(o=We.exec(n))&&(n=+(o[1]+1)*+o[2]+parseFloat(_.css(e,t)),a="number"),null==n||"number"===a&&isNaN(n))return;if("number"===a&&!_.cssNumber[r]&&(n+="px"),!(l&&"set"in l&&(n=l.set(e,n))===s))try{c[t]=n}catch(u){}}},css:function(e,t,n){var i,o;return t=_.camelCase(t),o=_.cssHooks[t],t=_.cssProps[t]||t,"cssFloat"===t&&(t="float"),o&&"get"in o&&(i=o.get(e,!0,n))!==s?i:Pe?Pe(e,t):void 0},swap:function(e,t,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.call(e);for(o in t)e.style[o]=a[o];return i}}),_.curCSS=_.css,R.defaultView&&R.defaultView.getComputedStyle&&(Oe=function(e,t){var n,i,o,a,s=e.style;return t=t.replace(He,"-$1").toLowerCase(),(i=e.ownerDocument.defaultView)&&(o=i.getComputedStyle(e,null))&&(n=o.getPropertyValue(t),""===n&&!_.contains(e.ownerDocument.documentElement,e)&&(n=_.style(e,t))),!_.support.pixelMargin&&o&&$e.test(t)&&Be.test(n)&&(a=s.width,s.width=n,
n=o.width,s.width=a),n}),R.documentElement.currentStyle&&(Fe=function(e,t){var n,i,o,a=e.currentStyle&&e.currentStyle[t],s=e.style;return null==a&&s&&(o=s[t])&&(a=o),Be.test(a)&&(n=s.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,i&&(e.runtimeStyle.left=i)),""===a?"auto":a}),Pe=Oe||Fe,_.each(["height","width"],function(e,t){_.cssHooks[t]={get:function(e,n,i){if(n)return 0!==e.offsetWidth?w(e,t,i):_.swap(e,Ue,function(){return w(e,t,i)})},set:function(e,t){return _e.test(t)?t+"px":t}}}),_.support.opacity||(_.cssHooks.opacity={get:function(e,t){return Ve.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=_.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===_.trim(a.replace(Re,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Re.test(a)?a.replace(Re,o):a+" "+o)}}),_(function(){_.support.reliableMarginRight||(_.cssHooks.marginRight={get:function(e,t){return _.swap(e,{display:"inline-block"},function(){return t?Pe(e,"margin-right"):e.style.marginRight})}})}),_.expr&&_.expr.filters&&(_.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!_.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||_.css(e,"display"))},_.expr.filters.visible=function(e){return!_.expr.filters.hidden(e)}),_.each({margin:"",padding:"",border:"Width"},function(e,t){_.cssHooks[e+t]={expand:function(n){var i,o="string"==typeof n?n.split(" "):[n],a={};for(i=0;i<4;i++)a[e+qe[i]+t]=o[i]||o[i-2]||o[0];return a}}});var Qe,Je,Ge=/%20/g,Ye=/\[\]$/,Ze=/\r?\n/g,ze=/#.*$/,Xe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ke=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,et=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,tt=/^(?:GET|HEAD)$/,nt=/^\/\//,it=/\?/,ot=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,at=/^(?:select|textarea)/i,st=/\s+/,rt=/([?&])_=[^&]*/,ct=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,lt=_.fn.load,ut={},dt={},pt=["*/"]+["*"];try{Qe=H.href}catch(ft){Qe=R.createElement("a"),Qe.href="",Qe=Qe.href}Je=ct.exec(Qe.toLowerCase())||[],_.fn.extend({load:function(e,t,n){if("string"!=typeof e&&lt)return lt.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var a="GET";t&&(_.isFunction(t)?(n=t,t=s):"object"==("undefined"==typeof t?"undefined":_typeof(t))&&(t=_.param(t,_.ajaxSettings.traditional),a="POST"));var r=this;return _.ajax({url:e,type:a,dataType:"html",data:t,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),r.html(o?_("<div>").append(i.replace(ot,"")).find(o):i)),n&&r.each(n,[i,t,e])}}),this},serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?_.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||at.test(this.nodeName)||Ke.test(this.type))}).map(function(e,t){var n=_(this).val();return null==n?null:_.isArray(n)?_.map(n,function(e,n){return{name:t.name,value:e.replace(Ze,"\r\n")}}):{name:t.name,value:n.replace(Ze,"\r\n")}}).get()}}),_.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.each(["get","post"],function(e,t){_[t]=function(e,n,i,o){return _.isFunction(n)&&(o=o||i,i=n,n=s),_.ajax({type:t,url:e,data:n,success:i,dataType:o})}}),_.extend({getScript:function(e,t){return _.get(e,s,t,"script")},getJSON:function(e,t,n){return _.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?v(e,_.ajaxSettings):(t=e,e=_.ajaxSettings),v(e,t),e},ajaxSettings:{url:Qe,isLocal:et.test(Je[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":pt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(ut),ajaxTransport:b(dt),ajax:function(e,t){function n(e,t,n,a){if(2!==I){I=2,c&&clearTimeout(c),r=s,o=a||"",T.readyState=e>0?4:0;var l,d,y,x,k,S=t,C=n?m(p,T,n):s;if(e>=200&&e<300||304===e)if(p.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(_.lastModified[i]=x),(k=T.getResponseHeader("Etag"))&&(_.etag[i]=k)),304===e)S="notmodified",l=!0;else try{d=h(p,C),S="success",l=!0}catch(N){S="parsererror",y=N}else y=S,S&&!e||(S="error",e<0&&(e=0));T.status=e,T.statusText=""+(t||S),l?v.resolveWith(f,[d,S,T]):v.rejectWith(f,[T,S,y]),T.statusCode(w),w=s,u&&g.trigger("ajax"+(l?"Success":"Error"),[T,p,l?d:y]),b.fireWith(f,[T,S]),u&&(g.trigger("ajaxComplete",[T,p]),--_.active||_.event.trigger("ajaxStop"))}}"object"==("undefined"==typeof e?"undefined":_typeof(e))&&(t=e,e=s),t=t||{};var i,o,a,r,c,l,u,d,p=_.ajaxSetup({},t),f=p.context||p,g=f!==p&&(f.nodeType||f instanceof _)?_(f):_.event,v=_.Deferred(),b=_.Callbacks("once memory"),w=p.statusCode||{},x={},k={},I=0,T={readyState:0,setRequestHeader:function(e,t){if(!I){var n=e.toLowerCase();e=k[n]=k[n]||e,x[e]=t}return this},getAllResponseHeaders:function(){return 2===I?o:null},getResponseHeader:function(e){var t;if(2===I){if(!a)for(a={};t=Xe.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return t===s?null:t},overrideMimeType:function(e){return I||(p.mimeType=e),this},abort:function(e){return e=e||"abort",r&&r.abort(e),n(0,e),this}};if(v.promise(T),T.success=T.done,T.error=T.fail,T.complete=b.add,T.statusCode=function(e){if(e){var t;if(I<2)for(t in e)w[t]=[w[t],e[t]];else t=e[T.status],T.then(t,t)}return this},p.url=((e||p.url)+"").replace(ze,"").replace(nt,Je[1]+"//"),p.dataTypes=_.trim(p.dataType||"*").toLowerCase().split(st),null==p.crossDomain&&(l=ct.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]==Je[1]&&l[2]==Je[2]&&(l[3]||("http:"===l[1]?80:443))==(Je[3]||("http:"===Je[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),y(ut,p,t,T),2===I)return!1;if(u=p.global,p.type=p.type.toUpperCase(),p.hasContent=!tt.test(p.type),u&&0===_.active++&&_.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(it.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var S=_.now(),C=p.url.replace(rt,"$1_="+S);p.url=C+(C===p.url?(it.test(p.url)?"&":"?")+"_="+S:"")}(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,_.lastModified[i]&&T.setRequestHeader("If-Modified-Since",_.lastModified[i]),_.etag[i]&&T.setRequestHeader("If-None-Match",_.etag[i])),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+pt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,T,p)===!1||2===I))return T.abort(),!1;for(d in{success:1,error:1,complete:1})T[d](p[d]);if(r=y(dt,p,t,T)){T.readyState=1,u&&g.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(c=setTimeout(function(){T.abort("timeout")},p.timeout));try{I=1,r.send(x,n)}catch(N){if(!(I<2))throw N;n(-1,N)}}else n(-1,"No Transport");return T},param:function(e,t){var n=[],i=function(e,t){t=_.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===s&&(t=_.ajaxSettings.traditional),_.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){i(this.name,this.value)});else for(var o in e)g(o,e[o],t,i);return n.join("&").replace(Ge,"+")}}),_.extend({active:0,lastModified:{},etag:{}});var ht=_.now(),mt=/(\=)\?(&|$)|\?\?/i;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return _.expando+"_"+ht++}}),_.ajaxPrefilter("json jsonp",function(e,t,n){var i="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(mt.test(e.url)||i&&mt.test(e.data))){var o,s=e.jsonpCallback=_.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r=a[s],c=e.url,l=e.data,u="$1"+s+"$2";return e.jsonp!==!1&&(c=c.replace(mt,u),e.url===c&&(i&&(l=l.replace(mt,u)),e.data===l&&(c+=(/\?/.test(c)?"&":"?")+e.jsonp+"="+s))),e.url=c,e.data=l,a[s]=function(e){o=[e]},n.always(function(){a[s]=r,o&&_.isFunction(r)&&a[s](o[0])}),e.converters["script json"]=function(){return o||_.error(s+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){e.cache===s&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),_.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,o){t=R.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,n&&t.parentNode&&n.removeChild(t),t=s,i||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var gt,vt=!!a.ActiveXObject&&function(){for(var e in gt)gt[e](0,1)},yt=0;_.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&f()||p()}:f,function(e){_.extend(_.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(_.ajaxSettings.xhr()),_.support.ajax&&_.ajaxTransport(function(e){if(!e.crossDomain||_.support.cors){var t;return{send:function(n,i){var o,r,c=e.xhr();if(e.username?c.open(e.type,e.url,e.async,e.username,e.password):c.open(e.type,e.url,e.async),e.xhrFields)for(r in e.xhrFields)c[r]=e.xhrFields[r];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");try{for(r in n)c.setRequestHeader(r,n[r])}catch(l){}c.send(e.hasContent&&e.data||null),t=function(n,a){var r,l,u,d,p;try{if(t&&(a||4===c.readyState))if(t=s,o&&(c.onreadystatechange=_.noop,vt&&delete gt[o]),a)4!==c.readyState&&c.abort();else{r=c.status,u=c.getAllResponseHeaders(),d={},p=c.responseXML,p&&p.documentElement&&(d.xml=p);try{d.text=c.responseText}catch(n){}try{l=c.statusText}catch(f){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=d.text?200:404}}catch(h){a||i(-1,h)}d&&i(r,l,d,u)},e.async&&4!==c.readyState?(o=++yt,vt&&(gt||(gt={},_(a).unload(vt)),gt[o]=t),c.onreadystatechange=t):t()},abort:function(){t&&t(0,1)}}}});var bt,wt,xt,kt,It={},Tt=/^(?:toggle|show|hide)$/,St=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ct=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];_.fn.extend({show:function(e,t,n){var i,o;if(e||0===e)return this.animate(l("show",3),e,t,n);for(var a=0,s=this.length;a<s;a++)i=this[a],i.style&&(o=i.style.display,!_._data(i,"olddisplay")&&"none"===o&&(o=i.style.display=""),(""===o&&"none"===_.css(i,"display")||!_.contains(i.ownerDocument.documentElement,i))&&_._data(i,"olddisplay",c(i.nodeName)));for(a=0;a<s;a++)i=this[a],i.style&&(o=i.style.display,""!==o&&"none"!==o||(i.style.display=_._data(i,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(l("hide",3),e,t,n);for(var i,o,a=0,s=this.length;a<s;a++)i=this[a],i.style&&(o=_.css(i,"display"),"none"!==o&&!_._data(i,"olddisplay")&&_._data(i,"olddisplay",o));for(a=0;a<s;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:_.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return _.isFunction(e)&&_.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:_(this).is(":hidden");_(this)[t?"show":"hide"]()}):this.animate(l("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){function o(){a.queue===!1&&_._mark(this);var t,n,i,o,s,r,l,u,d,p,f,h=_.extend({},a),m=1===this.nodeType,g=m&&_(this).is(":hidden");h.animatedProperties={};for(i in e)if(t=_.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),(s=_.cssHooks[t])&&"expand"in s){r=s.expand(e[t]),delete e[t];for(i in r)i in e||(e[i]=r[i])}for(t in e){if(n=e[t],_.isArray(n)?(h.animatedProperties[t]=n[1],n=e[t]=n[0]):h.animatedProperties[t]=h.specialEasing&&h.specialEasing[t]||h.easing||"swing","hide"===n&&g||"show"===n&&!g)return h.complete.call(this);m&&("height"===t||"width"===t)&&(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===_.css(this,"display")&&"none"===_.css(this,"float")&&(_.support.inlineBlockNeedsLayout&&"inline"!==c(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=h.overflow&&(this.style.overflow="hidden");for(i in e)o=new _.fx(this,h,i),n=e[i],Tt.test(n)?(f=_._data(this,"toggle"+i)||("toggle"===n?g?"show":"hide":0),f?(_._data(this,"toggle"+i,"show"===f?"hide":"show"),o[f]()):o[n]()):(l=St.exec(n),u=o.cur(),l?(d=parseFloat(l[2]),p=l[3]||(_.cssNumber[i]?"":"px"),"px"!==p&&(_.style(this,i,(d||1)+p),u=(d||1)/o.cur()*u,_.style(this,i,u+p)),l[1]&&(d=("-="===l[1]?-1:1)*d+u),o.custom(u,d,p)):o.custom(u,n,""));return!0}var a=_.speed(t,n,i);return _.isEmptyObject(e)?this.each(a.complete,[!1]):(e=_.extend({},e),a.queue===!1?this.each(o):this.queue(a.queue,o))},stop:function(e,t,n){return"string"!=typeof e&&(n=t,t=e,e=s),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,i){var o=t[i];_.removeData(e,i,!0),o.stop(n)}var i,o=!1,a=_.timers,s=_._data(this);if(n||_._unmark(!0,this),null==e)for(i in s)s[i]&&s[i].stop&&i.indexOf(".run")===i.length-4&&t(this,s,i);else s[i=e+".run"]&&s[i].stop&&t(this,s,i);for(i=a.length;i--;)a[i].elem===this&&(null==e||a[i].queue===e)&&(n?a[i](!0):a[i].saveState(),o=!0,a.splice(i,1));(!n||!o)&&_.dequeue(this,e)})}}),_.each({slideDown:l("show",1),slideUp:l("hide",1),slideToggle:l("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),_.extend({speed:function(e,t,n){var i=e&&"object"==("undefined"==typeof e?"undefined":_typeof(e))?_.extend({},e):{complete:n||!n&&t||_.isFunction(e)&&e,duration:e,easing:n&&t||t&&!_.isFunction(t)&&t};return i.duration=_.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in _.fx.speeds?_.fx.speeds[i.duration]:_.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(e){_.isFunction(i.old)&&i.old.call(this),i.queue?_.dequeue(this,i.queue):e!==!1&&_._unmark(this)},i},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),_.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(_.fx.step[this.prop]||_.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=_.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,n){function i(e){return o.step(e)}var o=this,a=_.fx;this.startTime=kt||d(),this.end=t,this.now=this.start=e,this.pos=this.state=0,this.unit=n||this.unit||(_.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){_._data(o.elem,"fxshow"+o.prop)===s&&(o.options.hide?_._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&_._data(o.elem,"fxshow"+o.prop,o.end))},i()&&_.timers.push(i)&&!xt&&(xt=setInterval(a.tick,a.interval))},show:function(){var e=_._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||_.style(this.elem,this.prop),this.options.show=!0,e!==s?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),_(this.elem).show()},hide:function(){this.options.orig[this.prop]=_._data(this.elem,"fxshow"+this.prop)||_.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i,o=kt||d(),a=!0,s=this.elem,r=this.options;if(e||o>=r.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),r.animatedProperties[this.prop]=!0;for(t in r.animatedProperties)r.animatedProperties[t]!==!0&&(a=!1);if(a){if(null!=r.overflow&&!_.support.shrinkWrapBlocks&&_.each(["","X","Y"],function(e,t){s.style["overflow"+t]=r.overflow[e]}),r.hide&&_(s).hide(),r.hide||r.show)for(t in r.animatedProperties)_.style(s,t,r.orig[t]),_.removeData(s,"fxshow"+t,!0),_.removeData(s,"toggle"+t,!0);i=r.complete,i&&(r.complete=!1,i.call(s))}return!1}return r.duration==1/0?this.now=o:(n=o-this.startTime,this.state=n/r.duration,this.pos=_.easing[r.animatedProperties[this.prop]](this.state,n,0,1,r.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},_.extend(_.fx,{tick:function(){for(var e,t=_.timers,n=0;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||_.fx.stop()},interval:13,stop:function(){clearInterval(xt),xt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){_.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),_.each(Ct.concat.apply([],Ct),function(e,t){t.indexOf("margin")&&(_.fx.step[t]=function(e){_.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),_.expr&&_.expr.filters&&(_.expr.filters.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length});var Nt,Dt=/^t(?:able|d|h)$/i,Et=/^(?:body|html)$/i;Nt="getBoundingClientRect"in R.documentElement?function(e,t,n,i){try{i=e.getBoundingClientRect()}catch(o){}if(!i||!_.contains(n,e))return i?{top:i.top,left:i.left}:{top:0,left:0};var a=t.body,s=r(t),c=n.clientTop||a.clientTop||0,l=n.clientLeft||a.clientLeft||0,u=s.pageYOffset||_.support.boxModel&&n.scrollTop||a.scrollTop,d=s.pageXOffset||_.support.boxModel&&n.scrollLeft||a.scrollLeft,p=i.top+u-c,f=i.left+d-l;return{top:p,left:f}}:function(e,t,n){for(var i,o=e.offsetParent,a=e,s=t.body,r=t.defaultView,c=r?r.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,u=e.offsetLeft;(e=e.parentNode)&&e!==s&&e!==n&&(!_.support.fixedPosition||"fixed"!==c.position);)i=r?r.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,u-=e.scrollLeft,e===o&&(l+=e.offsetTop,u+=e.offsetLeft,_.support.doesNotAddBorder&&(!_.support.doesAddBorderForTableAndCells||!Dt.test(e.nodeName))&&(l+=parseFloat(i.borderTopWidth)||0,u+=parseFloat(i.borderLeftWidth)||0),a=o,o=e.offsetParent),_.support.subtractsBorderForOverflowNotVisible&&"visible"!==i.overflow&&(l+=parseFloat(i.borderTopWidth)||0,u+=parseFloat(i.borderLeftWidth)||0),c=i;return"relative"!==c.position&&"static"!==c.position||(l+=s.offsetTop,u+=s.offsetLeft),_.support.fixedPosition&&"fixed"===c.position&&(l+=Math.max(n.scrollTop,s.scrollTop),u+=Math.max(n.scrollLeft,s.scrollLeft)),{top:l,left:u}},_.fn.offset=function(e){if(arguments.length)return e===s?this:this.each(function(t){_.offset.setOffset(this,e,t)});var t=this[0],n=t&&t.ownerDocument;return n?t===n.body?_.offset.bodyOffset(t):Nt(t,n,n.documentElement):null},_.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return _.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(_.css(e,"marginTop"))||0,n+=parseFloat(_.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=_.css(e,"position");"static"===i&&(e.style.position="relative");var o,a,s=_(e),r=s.offset(),c=_.css(e,"top"),l=_.css(e,"left"),u=("absolute"===i||"fixed"===i)&&_.inArray("auto",[c,l])>-1,d={},p={};u?(p=s.position(),o=p.top,a=p.left):(o=parseFloat(c)||0,a=parseFloat(l)||0),_.isFunction(t)&&(t=t.call(e,n,r)),null!=t.top&&(d.top=t.top-r.top+o),null!=t.left&&(d.left=t.left-r.left+a),"using"in t?t.using.call(e,d):s.css(d)}},_.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=Et.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(_.css(e,"marginTop"))||0,n.left-=parseFloat(_.css(e,"marginLeft"))||0,i.top+=parseFloat(_.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(_.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||R.body;e&&!Et.test(e.nodeName)&&"static"===_.css(e,"position");)e=e.offsetParent;return e})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);_.fn[e]=function(i){return _.access(this,function(e,i,o){var a=r(e);return o===s?a?t in a?a[t]:_.support.boxModel&&a.document.documentElement[i]||a.document.body[i]:e[i]:void(a?a.scrollTo(n?_(a).scrollLeft():o,n?o:_(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),_.each({Height:"height",Width:"width"},function(e,t){var n="client"+e,i="scroll"+e,o="offset"+e;_.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(_.css(e,t,"padding")):this[t]():null},_.fn["outer"+e]=function(e){var n=this[0];return n?n.style?parseFloat(_.css(n,t,e?"margin":"border")):this[t]():null},_.fn[t]=function(e){return _.access(this,function(e,t,a){var r,c,l,u;return _.isWindow(e)?(r=e.document,c=r.documentElement[n],_.support.boxModel&&c||r.body&&r.body[n]||c):9===e.nodeType?(r=e.documentElement,r[n]>=r[i]?r[n]:Math.max(e.body[i],r[i],e.body[o],r[o])):a===s?(l=_.css(e,t),u=parseFloat(l),_.isNumeric(u)?u:l):void _(e).css(t,a)},t,e,arguments.length,null)}}),a.jQuery=a.$=_,n(4)&&n(4).jQuery&&(i=[],o=function(){return _}.apply(t,i),!(void 0!==o&&(e.exports=o)))}(window)},function(e,t){!function(e,t,n){var i=function(e){this.defaults={bgColor:"rgba(0,0,0,0.3)",time:2},this.options=t.extend({},this.defaults,e)};i.prototype={isUse:!1,init:function(){var e=this;t("body").append("<div class='alert'><div class='col'></div></div>"),t(".alert").on("click",function(n){e.isUse=!1,t(".alert").hide()})},show:function(e,n){var i=this;0==i.isUse&&(i.isUse=!0,n&&"error"==n&&t(".alert .col").addClass("error"),t(".alert .col").html(e),t(".alert").show(),t(".alert .col").css({marginLeft:-t(".alert .col").width()/2-20,marginTop:-t(".alert .col").height()-10}),setTimeout(function(){i.isUse=!1,t(".alert").hide(),t(".alert .col").removeClass("error")},1e3*i.options.time))}},t.Alert=function(e){var t=new i(e);return t.init(),t}}(window,jQuery)},function(e,t){!function(e,t,n){var i=function(e){this.defaults={msgdb:null,clientEndtime:480,clientBusytime:240,visitorEndTime:240,visitorHalfTime:120,ops:{},startFun:function(){}},this.options=t.extend({},this.defaults,e)};i.prototype={diaList:new Object,timeout:null,hasVisitorHalfTimeout:!1,hasVisitorTimeout:!1,hasClientBusy:!1,hasClientEnd:!1,init:function(){this.setTime()},setTime:function(){var e=this.options.ops;this.options.clientEndtime=e.customerFroVisitors?e.customerFroVisitors:this.options.clientEndtime,this.options.clientBusytime=e.customerBusy?e.customerBusy:this.options.clientBusytime,this.options.visitorEndTime=e.customerFroVisitors?e.customerFroVisitors:this.options.visitorEndTime,this.options.visitorHalfTime=this.options.visitorEndTime<=2*this.options.visitorHalfTime?this.options.visitorEndTime/2:this.options.visitorEndTime-this.options.visitorHalfTime},startALLTimeout:function(){var e=this;clearInterval(this.timeout),this.timeout=setInterval(function(){e.options.startFun()},1e3)},endChat:function(){this.hasVisitorHalfTimeout=!0,this.hasVisitorTimeout=!0,this.hasClientBusy=!0,this.hasClientEnd=!0},reset:function(){this.hasVisitorHalfTimeout=!1,this.hasVisitorTimeout=!1,this.hasClientBusy=!1,this.hasClientEnd=!1},removeDiaList:function(e){delete this.diaList[e]},diaListLast:function(){var e,t=this.options.msgdb;for(var n in t.db)t.db[n]&&"robot"!=t.db[n].type&&"system"!=t.db[n].type&&!t.db[n].isRevoke&&(e&&("visitor"==t.db[n].type&&"visitor"==t.db[e].type||"client"==t.db[n].type&&"client"==t.db[e].type)||(e=n));return e},isVisitorHalfTimeout:function(){var e=this.options.msgdb,t=this,n=e.db[t.diaListLast()];if(!t.hasVisitorHalfTimeout&&n&&"client"==n.type){var i=(new Date).getTime();if(i-n.time>=1e3*t.options.visitorHalfTime&&!n.hasChecked)return e.db[t.diaListLast()].hasChecked=!0,t.hasVisitorHalfTimeout=!0,!0}return!1},isVisitorTimeout:function(){var e=this.options.msgdb,t=this,n=e.db[t.diaListLast()];if(!t.hasVisitorTimeout&&n&&"client"==n.type){var i=(new Date).getTime();if(i-n.time>=1e3*t.options.visitorEndTime)return t.hasVisitorTimeout=!0,!0}return!1},isClientBusy:function(){var e=this.options.msgdb,t=this,n=this.options.ops,i=e.db[t.diaListLast()];if(0==n.customerBusy)return!1;if(!t.hasClientBusy&&i&&"visitor"==i.type){var o=(new Date).getTime();if(o-i.time>=1e3*t.options.clientBusytime&&!i.hasChecked)return e.db[t.diaListLast()].hasChecked=!0,t.hasClientBusy=!0,!0}return!1},isClientEnd:function(){var e=this.options.msgdb,t=this,n=e.db[t.diaListLast()],i=(new Date).getTime();return!!(i-n.time>=1e3*t.options.clientEndtime&&!t.hasClientEnd&&n.hasChecked)&&(e.db[t.diaListLast()].hasChecked=!0,t.hasClientEnd=!0,!0)}},t.TimeoutList=function(e){var t=new i(e);return t.init(),t}}(window,jQuery)},function(e,t){!function(e,t,n){var i=function(e){this.defaults={businessList:[],aDset:[],root:"-1"},this.options=t.extend({},this.defaults,e)};i.prototype={num:1,basePk:-1,init:function(){var e=this.options.aDset;if(e){this.options.businessList;"0"!=e.joinUpType&&e.joinUpType&&("1"==e.joinUpType||"2"==e.joinUpType),this.reset("-1")}},reset:function(e){for(var t=this,n=this.options.businessList,i=!1,o=0;o<n.length;o++)if(n[o].parentPk==e){var a=t.getList(n[o].pk);if(0==a.length)n[o].operators.length>0&&(i=!0);else{var s=t.reset(n[o].pk);0==s?n[o].operators=[]:1==s&&(i=!0)}}return i},hasList:function(e){for(var t=[],n=this.options.businessList,i=0;i<n.length;i++)n[i].parentPk==e&&(n[i].operators.length>0?t.push({item:n[i],type:"online"}):t.push({item:n[i],type:"offline"}));return t},getList:function(e){for(var t=(this.num,[]),n=this.options.businessList,i=0;i<n.length;i++)n[i].parentPk==e&&(n[i].operators.length>0?(t.push({num:this.num,item:n[i],type:"online"}),this.num++):(t.push({num:this.num,item:n[i],type:"offline"}),this.num++));return t},getAllLength:function(){var e=this.options.businessList;return{listLength:e.length,operatorLength:e.length>0?e[0].operators.length:0,firstItem:e.length>0?e[0]:null}},getParentPk:function(e){for(var t=this.options.businessList,n=0;n<t.length;n++)if(t[n].pk==e)return t[n].parentPk;return null},setSelect:function(e,t){this.select={pk:e,name:t}},getSelect:function(){return this.select},generate:function(e){var t=this.getList(e),n=(this.getParentPk(e),!1);return e==-1&&0==t.length?{access:!0,online:!1}:e==this.basePk&&1==t.length?(this.basePk=t[0].item.pk,this.getList(t[0].item.pk).length>0?this.generate(t[0].item.pk):t[0].item.operators.length>0?{access:!0,online:!0,pk:t[0].item.pk,name:t[0].item.name}:{access:!0,online:!1,pk:t[0].item.pk,name:t[0].item.name}):(this.basePk==e&&(n=!0),{access:!1,list:t,root:n})},getItemOnline:function(e){for(var t=this.options.businessList,n=!1,i=0;i<t.length;i++)t[i].pk==e&&t[i].operators.length>0&&(n=!0);return n}},t.businessList=function(e){var t=new i(e);return t.init(),t}}(window,jQuery)},function(e,t){!function(e,t,n){var i={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'},o=[['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face01.png" data-name="/::)" id="/::)">',"/::)","/::\\)"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face02.png" id="/::P" data-name="/::P">',"/::P","/::P"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face03.png" id="/::$" data-name="/::$">',"/::$","/::\\$"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face04.png" id="/::D" data-name="/::D">',"/::D","/::D"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face05.png" id="/::-|" data-name="/::-|">',"/::-|","/::\\-\\|"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face06.png" id="/::+" data-name="/::+">',"/::+","/::\\+"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face07.png" id="/:,@-D"  data-name="/:,@-D">',"/:,@-D","/:,@\\-D"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face08.png" id="/::>" data-name="/::>">',"/::>","/::\\>"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face09.png" id="/:,@f" data-name="/:,@f">',"/:,@f","/:,@f"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face10.png" id="/:?" data-name="/:?">',"/:?","/:\\?"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face11.png" id="/:bye" data-name="/:bye">',"/:bye","/:bye"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face12.png" id="/:handclap" data-name="/:handclap">',"/:handclap","/:handclap"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face13.png" id="/::*" data-name="/::*">',"/::*","/::\\*"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face14.png" id="/:strong" data-name="/:strong">',"/:strong","/:strong"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face15.png" id="/:P-(" data-name="/:P-(">',"/:P-(","/:P\\-\\("],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face16.png" id="/:rose" data-name="/:rose">',"/:rose","/:rose"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face17.png" id="/:share" data-name="/:share">',"/:share","/:share"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face18.png" id="/:ok" data-name="/:ok">',"/:ok","/:ok"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face19.png" id="/:sun"  data-name="/:sun">',"/:sun","/:sun"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face20.png" id="/:heart" data-name="/:heart">',"/:heart","/:heart"],['<img emotions="true" name="faceIco" src="/any800/style/images/mobileImages/newImages/face21.png" id="/:hug" data-name="/:hug">',"/:hug","/:hug"]],a=function(e){this.defaults={imgIco:[],after:function(){}},this.options=t.extend({},this.defaults,e)};a.prototype={init:function(){this.options.imgIco=o,this.options.after()},getItems:function(){return o},imgToIco:function(e){var n=e;if(!n||"string"!=typeof e)return n;n=n.replace(/&(lt|gt|amp|quot);/gi,function(e,t){return i[t]});var a=t("<div>"+e+"</div>");for(var s in o)a.find("img[data-name='"+o[s][1]+"']").each(function(e){t(this).replaceWith(o[s][1])});return n=a.html()},icoToImg:function(e){var t=e;if(!t||"string"!=typeof e)return t;t=t.replace(/&(lt|gt|amp|quot);/gi,function(e,t){return i[t]});for(var n in o)t.indexOf(o[n][1])!=-1&&(t=t.replace(new RegExp(o[n][2],"gm"),o[n][0]));return t}},t.changeFace=function(e){var t=new a(e);return t.init(),t}}(window,jQuery)},function(e,t){!function(e,t,n){var i=function(e){this.defaults={open:!1,msgdb:null,storage:null,chatId:"",browserId:"",dialogue:null,data:null,TimeoutList:null,start:function(){},end:function(){}},this.options=t.extend({},this.defaults,e)};i.prototype={isChanged:!1,browserInterval:null,db:{},change:function(){var e=this.options.storage,t=this.options.chatId,n=e.get("currentChat")?e.get("currentChat"):[];n=this.options.msgdb.getAll(),
e.get("currentChatId")&&this.options.chatId==e.get("currentChatId")||(n=[]),e.set("currentChatId",t),e.set("currentChat",n)},clear:function(){this.options.chatId},check:function(){var e=this.options.chatId,t=this.options.storage;return!(!t.get("currentChat")||!t.get("currentChatId")||t.get("currentChatId")!=e)&&t.get("currentChat")},setMsgObj:function(e){var t=(this.options.chatId,this.options.storage);t.set("msgObjCurrentChat",e)},getMsgObj:function(){var e=this.options.storage;return e.get("msgObjCurrentChat")},init:function(){var e=this.options.storage,t=this;t.db=this.options.storage.get("currentChat"),t.options.open&&(e.get("browserId")&&e.get("currentChatId")&&t.options.chatId==e.get("currentChatId")&&e.set("browserId",t.options.browserId),t.startcheck(),"over"!=t.browserInterval&&(t.browserInterval=setInterval(function(){t.startcheck()},1e3)))},startcheck:function(){var e=this,t=this.options.storage,n=this.options.dialogue,i=this.options.data,o=this.options.msgdb;if(t.get("browserId")&&e.options.chatId==t.get("currentChatId"))if(1!=t.get("offChat")&&e.options.browserId!=t.get("browserId"))1==n.islive()&&(n.end(),e.options.end());else if(e.options.browserId==t.get("browserId")&&e.getMsgObj()&&0==n.islive()){e.isChanged=!0,t.set("browserId",e.options.browserId),t.set("offChat",e.options.browserId),o.clear(),e.options.start();var a=e.getMsgObj();if(i.set("reconnectData",a),n.setAttr("remoteUrl",a.url),n.setAttr("_workGroupName",a.workgroupName),n.setAttr("operatorName",a.opShow),i.set("opName",a.workgroupName),i.set("_workGroupName",a.workgroupName),n.start(),e.db){var s=e.db;for(var r in s){var c=s[r];!c||"visitor"!=c.type&&"client"!=c.type&&"robot"!=c.type?c&&"system"==c.type&&c.content&&n.showSysMsg(c.content):c.content&&!c.isRevoke&&0==c.status&&n.showMsg({msgid:c.msgId,date:c.time,content:c.content,from:c.type,status:c.status,hasChecked:c.hasChecked}),o.id=parseInt(r)+1}e.options.TimeoutList.startALLTimeout(),o.db=e.db}}},stopCheck:function(){var e=this;clearInterval(e.browserInterval),e.browserInterval="over",e.clear()}},t.changeWindow=function(e){var t=new i(e);return t}}(window,jQuery)},function(e,t){var n=function(e){this.defaults={},this.options=$.extend({},this.defaults,e)};n.prototype={defered:null,init:function(){var e=this;$(".confirmBox").length>0||($("body").append("<div class='confirmBox'><div class='body'><div class='title'></div><div class='rightBtn'></div><div class='wrongBtn'></div></div></div>"),$(".confirmBox .rightBtn").on("click",function(){e.defered&&e.defered.resolve(!0),$(".confirmBox").hide(),e.defered=null}),$(".confirmBox .wrongBtn").on("click",function(){e.defered&&e.defered.resolve(!1),$(".confirmBox").hide(),e.defered=null}),$(".confirmBox").hide())},create:function(e,t,n){var i=this;return t=t?t:"确定",n=n?n:"取消",$(".confirmBox").show(),i.switchTitle(e,t,n),i.defered&&i.defered.resolve(!1),i.defered=new $.Deferred,i.defered.promise()},switchTitle:function(e,t,n){$(".confirmBox .title").html(e),$(".confirmBox .rightBtn").html(t),$(".confirmBox .wrongBtn").html(n);var i=$(".confirmBox").height()/2-$(".confirmBox .body").height()/2;$(".confirmBox .body").css({marginTop:i})}},$.confirm=function(e){var t=new n(e);return t.init(),t}},function(e,t){!function(e,t,n){var i=function(e){this.defaults={chatId:"",storage:null},this.options=t.extend({},this.defaults,e)};i.prototype={list:{},get:function(e){var t=this.options.storage;if(t){var n=t.get("data");return n?n[e]:n}var i=this.options.chatId+e;return this.list[i]?this.list[i]:null},set:function(e,t){var n=this.options.storage;if(n){var i=n.get("data");i=i?i:{},i[e]=t,n.set("data",i)}else{var o=this.options.chatId+e;this.list[o]=t}}},t.db=function(e){var t=new i(e);return t}}(window,jQuery)},function(e,t){!function(e,t,n){String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var i=function(e){this.defaults={period:30,after:function(){}},this.options=t.extend({},this.defaults,e)};i.prototype={isInitiate:!1,isReconnection:!1,checkeTimeout:null,msgs:[],period:0,getIsInitiate:function(){return this.isInitiate},getIsReconnection:function(){return this.isReconnection},getMsgs:function(e){return this.msgs.length>e?this.msgs.slice(this.msgs.length-e,this.msgs.length):this.msgs},check:function(){this.period--,this.period<=0&&(this.options.after(),clearInterval(this.checkeTimeout),this.checkeTimeout=null,this.isInitiate=!1,this.period=this.options.period)},checkedSuccess:function(){clearInterval(this.checkeTimeout),this.checkeTimeout=null,this.period=this.options.period,this.isInitiate=!1},setInitiate:function(e){this.isInitiate=e},setIsReconnection:function(e){this.isReconnection=e},checkedFail:function(){var e=this;e.checkeTimeout=setInterval(function(){e.check()},1e3),this.isInitiate=!0},msgPush:function(e,t){this.msgs.push('{"'+e+'":"'+t+'"}')}},t.detectWeb=function(e){var t=new i(e);return t.period=t.options.period,t}}(window,jQuery)},function(e,t,n){var i=n(0);!function(e,t,n){var o=function(e){this.defaults={webSocket:null,timeStr:'<p class="dialogue-date">$1</p>',resendStr:'<div class="msg_" ><img src="style/images/sending.gif"></div>',callbackStr:'<span style="color:red;line-height:20px;margin-right:5px;">重新发送</span><img style="vertical-align: bottom;margin-right:5px;" src="style/images/repeat.png">',msgEle:"#message",visitorId:"",historyEle:"#historyChat",textEle:".dialogue-area-write",storage:null,browserId:"",limitReceiveTime:60,changeFaceFun:null,chatId:"",detectWeb:null,userDatas:null,msgList:{reconnectSuc:"重连服务器成功！",reconnectFail:"网络异常，系统正尝试重连服务器！"},closeStrList:[["对话出现异常，对话结束.","對話出現異常，對話結束.","Dialogue is abnormal, the dialogue."],["对话结束，客服离开对话.","對話結束，客服離開對話。","End of the conversation, customer service left the conversation."],["对话超时，对话结束。","對話超時，對話結束。","Dialogue timeout, the end of the conversation.Dialogue timeout, the end of the conversation."],["您好，为了保证服务质量，我们已经结束了对话，期待再次为您服务。","對話關閉，客服結束對話","dialog closes, end customer dialogue."],["响应超时，对话结束。","響應超時，對話結束。","Response timeout, end of the conversation."],["您结束了对话。","您結束了對話。","You end the conversation."],["网络中断，如需继续对话，请<a href='javascript:void(0)' class='reconnectID'>点击此处</a>重新发起对话","網絡斷開，對話結束。","Network disconnection,end of the conversation."],["客服网络中断，当前对话结束，如需继续对话，请<a href='javascript:void(0)' onclick=''  class='reconnectID'>点击此处</a>重新接入。","客服网络中断，当前对话结束，如需继续对话，请重新接入。","Customer's Network has bean interrupted ,end of the conversation."],["网络异常，当前对话结束，如需继续对话，<a href='javascript:void(0)' onclick=''  class='reconnectID'>请重新接入</a>。","客服网络中断，当前对话结束，如需继续对话，请重新接入。","Network has bean interrupted ,end of the conversation."]],showSysMsgFun:function(e){},getReceivedFun:function(e){},msgReplace:function(e){},startChat:function(){},endChat:function(){},sendMessageFun:function(e,t){},msgFun:function(e){},closeTool:function(){},openTool:function(){},confirmSend:function(e,t){},specialFun:function(e,t){},endChatFun:function(){}},this.options=t.extend({},this.defaults,e)};o.prototype={msgPair:{},diaCount:0,isSpeech:!1,lastSend:"",diaList:new Object,readMessageTimeout:null,readMessageInterval:null,prevTextInterval:null,time:(new Date).getTime(),attr:{langType:0,islive:!1,operatorName:"",remoteUrl:"",_workGroupName:""},getAttr:function(e){return"undefined"!=typeof e?this.attr[e]:""},setAttr:function(e,t){this.attr[e]=t},islive:function(){return this.getAttr("islive")},showMsg:function(e){var n=e.msgid?e.msgid:"",i=e.date?e.date:"",o=e.content,a=e.from?e.from:"client",s=e.status?e.status:0,r=this.options.userDatas,c=this.options.msgReplace(a),l="client"==a,u=l?this.getAttr("operatorName"):"robot"==a?this.islive()?this.getAttr("operatorName"):"客服":r.getJsonStr().visitorName?r.getJsonStr().visitorName:"访客";if(o&&"undefined"!=o&&"null"!=o){var d=/^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?$/,p=t("<div>"+o+"</div>").text();if("client"==a&&d.test(p)&&o.indexOf("audio")<0){var f="<a href="+p+" target='_blank'>"+p+"</a>";o=f,this.options.specialFun("openWin",f)}if(o=this.messageChange(o),o=this.options.changeFaceFun.imgToIco(o),o=this.options.changeFaceFun.icoToImg(o),c=c.replace(/\$name/g,u).replace(/\$content/g,o).replace(/\$msgid/g,n).replace(/\$msgResend/g,l?"":this.options.resendStr),0!=s&&s){i||(i=(new Date).getTime());var h=this.options.timeStr.replace(/\$1/g,new Date(i).Format("yyyy-MM-dd hh:mm:ss"));t(this.options.historyEle).prepend(c),t(this.options.historyEle).prepend(h)}else{i||(i=(new Date).getTime());var h=this.options.timeStr.replace(/\$1/g,new Date(i).Format("hh:mm:ss"));t(this.options.msgEle).append(h),t(this.options.msgEle).append(c)}this.options.msgFun(e)}},messageChange:function(e){var n=e;try{if(n=JSON.parse(t("<div>"+e+"</div>").text()),"news"==n.msgType){var i={title:n.articles[0].title,summary:n.articles[0].summary,url:n.articles[0].url,img:n.articles[0].picUrl};n='<div class="message_news" data-url="'+i.url+'" ><div class="title">'+i.title+'</div><div class="content"><div class="summary">'+i.summary+'</div><div class="img"><img src="'+i.img+'"/></div></div></div>'}else if("IDCard"==n.type){var i={title:n.nickname,summary:n.summaryStr,url:n.detailURL,img:n.headURL?n.headURL:"./bootstrapUI/any800/images/client.png"};n='<div class="message_news IDCard" data-url="'+i.url+'" ><div class="img"><img src="'+i.img+'"/></div><div class="content"><div class="title">'+i.title+'</div><div class="summary">'+i.summary+"</div></div></div>"}else if("knowledgeCard"==n.type){var i={title:n.title,summary:n.description,url:n.url,img:n.coverUrl?n.coverUrl:"./bootstrapUI/any800/images/client.png"};n='<div class="message_news knowledgeCard" data-url="'+i.url+'" ><div class="content"><div class="title">'+i.title+'</div><div class="summary">'+i.summary+'</div><div class="img"><img src="'+i.img+'"/></div></div></div>'}else n=e}catch(o){}return n},showSysMsg:function(e,t){e&&"undefined"!=e&&"null"!=e&&this.options.showSysMsgFun(e,t)},start:function(){var t=this;t.setAttr("islive",!0),t.options.storage.set("browserId",t.options.browserId),t.options.webSocket&&t.options.webSocket.isWork?t.prevTextInterval=e.setInterval(function(){t.preVstText()},2e3):(t.startReadMessageTimeout(),clearInterval(t.prevTextInterval),clearInterval(t.readMessageInterval),t.readMessageInterval=e.setInterval(function(){(new Date).getTime()-t.time>1e4&&t.startReadMessageTimeout()},1e4),t.prevTextInterval=e.setInterval(function(){t.preVstText()},2e3)),t.toolFun(!0),t.options.startChat()},startReadMessageTimeout:function(){var t=this;t.time=(new Date).getTime(),t.readMessageTimeout&&clearTimeout(t.readMessageTimeout),t.readMessageTimeout=e.setTimeout(function(){t.readMessage()},1e3)},end:function(e){var t=this;t.islive()&&(t.setAttr("islive",!1),t.options.webSocket&&t.options.webSocket.isWork||(t.readMessageTimeout&&clearTimeout(t.readMessageTimeout),t.readMessageTimeout=null,clearInterval(t.readMessageInterval),t.readMessageInterval=null,clearInterval(t.prevTextInterval),t.prevTextInterval=null),t.toolFun(!1),"number"==typeof e&&(t.options.storage.set("browserId",""),t.showSysMsg(this.options.closeStrList[e][t.getAttr("langType")],!0),t.options.endChat()),t.options.endChatFun())},readMessage:function(){var e=this,t=e.options.detectWeb;e.getAttr("remoteUrl")&&i.readMessage(e.options.chatId,e.getAttr("remoteUrl")).done(function(n){e.startReadMessageTimeout();try{t.getIsInitiate()&&e.showSysMsg(e.options.msgList.reconnectSuc),e.messageDeal(n),t.getIsInitiate()&&(e.toolFun(!0),t.checkedSuccess())}catch(i){}}).fail(function(n){e.startReadMessageTimeout(),t.getIsInitiate()||(e.toolFun(!1),e.showSysMsg(e.options.msgList.reconnectFail),t.checkedFail())})},messageDeal:function(e){var t=this,n=t.options.detectWeb;if(e&&e.root){if(0==e.root.length)return!1;for(var i=0;i<e.root.length;i++){var o=e.root[i].type.text;if("200"==o){if(e.root[i].from&&""!=e.root[i].date)if(e.root[i].langType>0&&e.root[i].langKey>0);else{var a=JSON.parse(e.root[i].text);t.addDiaList(a.messageId,(new Date).getTime(),a.content,0,"client"),"object"==_typeof(a.content)&&(a.content=JSON.stringify(a.content)),a.content=a.content.replace(/\n/gi,"<br>"),t.showMsg({msgid:a.messageId,date:(new Date).getTime(),content:a.content,from:"client",status:0}),t.options.specialFun("200",{msgid:a.messageId,content:a.content,time:(new Date).getTime()}),n.msgPush("customer",a.content)}}else if("700"==o)t.options.specialFun("700",e.root[i]);else if("900"==o)n.getIsInitiate()?t.end(6):t.end(2),t.options.specialFun("900","");else if("901"==o)t.end(3),t.options.specialFun("901","");else if("110"==o)t.end(7),t.options.specialFun("110","");else if("111"==o){if(t.toolFun(!0),t.showMsg({msgid:"",date:(new Date).getTime(),content:JSON.parse(e.root[i].text).content,from:"client",status:0,saveIn:1}),n.getIsReconnection()){var s="["+n.getMsgs(5).join(",")+"]";t.sendMessage(s,"offLineMessage")}t.options.specialFun("111",e.root[i])}else"112"==o?(t.showMsg({msgid:"",date:(new Date).getTime(),content:JSON.parse(e.root[i].text).content,from:"client",status:0}),t.end(0),t.options.specialFun("112",e.root[i])):"113"==o?t.options.specialFun("113",e.root[i].text):"114"==o?t.options.specialFun("114",e.root[i].text):"902"==o&&t.islive()&&(t.options.specialFun("902",e.root[i].text),t.end(2))}}},addDiaList:function(e,t,n,i,o){return e||(e="Other"+(new Date).getTime(),this.diaCount++),this.diaList[e]={time:t,from:o,content:n,status:i,isReceived:"client"==o?1:0,receivedTime:0},e},getReceived:function(){var e=this,t=this.diaList,n=[];for(var o in t)0==t[o].isReceived&&n.push(o);for(var a in n)isNaN(Number(a))||i.getReceivedMID(e.msgPair[n[a]],this.getAttr("_workGroupName")).done(function(t){e.options.getReceivedFun(n[a]),e.diaList[n[a]].isReceived=1,e.options.confirmSend(n[a]),t.success||(e.diaList[n[a]].receivedTime>=e.options.limitReceiveTime?e.diaList[n[a]].isReceived=2:e.diaList[n[a]].receivedTime++)})},preVstText:function(){var e=(this.lastSend,t(this.options.textEle).text().replace(/\s+/g,""));this.lastSend!=e&&(this.lastSend=e,e?this.sendMessage(e,"foreknowledge"):this.sendMessage(" ","foreknowledge"))},sendMessage:function(e,t,n){var o=this,a={lt:"<",gt:">",amp:"&",quot:'"'};e=e.replace(/&(lt|gt|amp|quot);/gi,function(e,t){return a[t]}),"acceptRq"==t&&(this.isSpeech=!0),"offLineMessage"==t||"send_file"!=t||(t=""),e=e.replace(/<a/g,"<a target='_blank'");var s=o.addDiaList("",(new Date).getTime(),e,0,"visitor"),r=(new Date).getTime();return t||n||(o.showMsg({msgid:s,date:r,content:e,from:"visitor",status:0}),o.options.sendMessageFun(s,e)),o.options.webSocket&&o.options.webSocket.isWork&&!t?void o.options.webSocket.send({date:r,message:e,chatID:o.options.chatId}):void i.sendMessage(o.options.chatId,e,t?t:"",o.getAttr("remoteUrl"),o.options.visitorId).done(function(e){if(1==e.success){var t=e.messageId;"back"==e.message?o.options.confirmSend(t):o.options.confirmSend(t,"add"),o.msgPair[s]=t,o.callbackFun(s,t)}})},callbackFun:function(e,n){var i=this;setTimeout(function(){i.diaList[e].isReceived||t("[name="+e+"] .msg_").html(i.options.callbackStr)},6e4)},toolFun:function(e){e?this.options.openTool():this.options.closeTool()},expand:function(e){this.options=t.extend({},this.options,e)}},t.dialogue=function(e){var t=new o(e);return t}}(window,jQuery)},function(e,t,n){var i=n(0),o=function(e){this.defaults={show:!0,visitorId:"",companyPk:"",leavePre:"离线消息:",maxDia:5,dialogue:null,generation:function(){},checkFun:function(e){}},this.options=$.extend({},this.defaults,e)};o.prototype={page:1,historyDias:[],leaveDias:[],over:!1,cur:1,num:0,more:!0,showHistoryDia:function(){if(0!=this.options.show){var e=this,t=this.options.dialogue;for(var n in e.historyDias)if(!isNaN(Number(n)))for(var i in e.historyDias[n].content.dia)if(!isNaN(Number(n))){var o=e.historyDias[n].content.dia[i];!o.hasShown&&o.num<e.cur*e.options.maxDia&&(e.historyDias[n].content.dia[i].hasShown=!0,t.showMsg({date:Number(new Date(o.time.replace(/-/g,"/")).getTime()),from:o.from,content:o.content,status:1}))}}},showLeaveChat:function(e){var t=this,n=this.options.dialogue;for(var i in t.leaveDias)isNaN(Number(i))||n.showMsg({from:t.leaveDias[i].from,content:t.leaveDias[i].content,status:1,date:t.leaveDias[i].date})},init:function(){this.options.generation()},check:function(e){this.getSum()<this.cur*this.options.maxDia+1&&!this.over?(this.getHistoryDialogue(),this.check()):(this.showHistoryDia(),this.cur++),this.more=!this.over||!(this.getSum()<this.cur*this.options.maxDia+1),this.options.checkFun()},changeToContent:function(e){for(var t=this,n=0,i=[],o=$("<div>"+e+"</div>").find(".sevice_chat,.me_chat,.robot_chat"),a=o.length-1;a>=0;a--)0==$(o[a]).find(".msg_back_success").length&&(i.push({from:"sevice_chat"==o[a].className?"client":"robot_chat"==o[a].className?"robot":"visitor",content:$(o[a]).find("content").html(),hasShown:!1,num:t.num,time:$(o[a]).find("time").html()}),t.num++,n++);return{sum:n,dia:i}},getSum:function(){var e=this,t=0;for(var n in e.historyDias)isNaN(Number(n))||(t+=e.historyDias[n].content.sum);return t},getHistoryDialogue:function(){var e=this;i.getHistoryDialogue(e.page,e.options.visitorId).done(function(t){if(!t||0==t.length)return void(e.over=!0);for(var n in t)if(!isNaN(Number(n))){var i=e.changeToContent(t[n].content,t[n].from);e.historyDias.push({time:new Date(t[n].leaveTime.replace(/-/g,"/")).getTime(),content:i})}e.page++}).fail(function(){e.over=!0})},getLeaveChat:function(){var e=this;i.getLeaveChat(e.options.visitorId).done(function(t){if(0!=t.length){t=t.reverse();for(var n in t)if(!isNaN(Number(n))){var i=t[n].content;if("string"!=typeof i)try{i=JSON.stringify(i)}catch(o){}i=dialogue.messageChange(i),e.leaveDias.push({content:e.options.leavePre+""+i,from:"client"})}}})}},$.history=function(e){var t=new o(e);return t}},function(e,t,n){var i=n(0),o=function(e){this.defaults={companyPk:"",defaultLangPk:"",langMap:{},show:function(e){}},this.options=$.extend({},this.defaults,e)};o.prototype={type:{system:1,operator:2},key:{welcome_1:1,welcome_2:2,chat_ad:3,cs_busy:4,no_answer_close:5,no_answer_hint:6,dialog_start:7},langMap:{},init:function(){var e=this;return Object.keys(e.options.langMap).length>0?void(e.langMap=e.options.langMap):void i.getLangList().done(function(t){t&&(e.langMap=t)})},show:function(e,t){var n=this;1==e?n.langMap&&n.langMap[t]&&n.options.show(n.langMap[t]):i.getLangListByPk(e,t).done(function(e){e&&n.options.show(e)})}},$.langTip=function(e){var t=new o(e);return t.init(),t}},function(e,t,n){var i=n(0);!function(e,t,o){function a(e,t){return function(n,i){return t?~~(n[e]<i[e]):~~(n[e]>i[e])}}var s=function(e){this.defaults=_defineProperty({Alert:null,messageDisplay:[],messageContent:"",messageTypeList:[],warn:".warn",title:"请留言",bottom:"<div class='bottom'><div class='cancel'>取消</div><div class='submit'>确定</div></div>",generate:function(e){},reset:function(e){}},"warn",function(e,t){}),this.options=t.extend({},this.defaults,e)},r=function(e,t){for(var n=e,t=t||function(e,t){return t>e},i=1,o=n.length;i<o;i++){for(var a=n[i],s=i-1;s>=0&&t(n[s],a);)n[s+1]=n[s],s--;n[s+1]=a}return n};s.prototype={hasCreate:!1,init:function(){var e=this;e.options.messageDisplay.length>0&&(e.options.messageDisplay=r(e.options.messageDisplay,a("sort",!1)),e.createView(),e.hasCreate=!0)},check:function(e){var n=this;t(".leaveMessageView .col").removeClass("warn");var i=!0;return t(".leaveMessageView .col").each(function(o,a){var s=t(this);if(0!=i&&(!e||s.data("displayname")==e)){if("company"==s.data("displayname")){if(1==s.data("require")&&""==s.find("input").val())return n.options.warn(s,"公司名称不能为空"),s.addClass("warn"),void(i=!1);if(s.find("input").val().length>30)return n.options.warn(s,"公司名称最大长度为30字符"),s.addClass("warn"),void(i=!1)}if("name"==s.data("displayname")){if(1==s.data("require")&&""==s.find("input").val())return n.options.warn(s,"姓名不能为空"),s.addClass("warn"),void(i=!1);if(s.find("input").val().length>20)return n.options.warn(s,"姓名最大长度为20字符"),s.addClass("warn"),void(i=!1)}if("telephone"==s.data("displayname")){if(1==s.data("require")&&""==s.find("input").val())return n.options.warn(s,"电话不能为空"),s.addClass("warn"),void(i=!1);if(""==s.find("input").val())return;var r=new RegExp(/^[1][0-9]{1}[0-9]{9}$/);if(!r.test(s.find("input").val()))return n.options.warn(s,"请填写正确的电话"),s.addClass("warn"),void(i=!1)}if("email"==s.data("displayname")){if(1==s.data("require")&&""==s.find("input").val())return n.options.warn(s,"电子邮件不能为空"),s.addClass("warn"),void(i=!1);if(""==s.find("input").val())return;var c=new RegExp(/^[\-\._A-Za-z0-9]+@([_A-Za-z0-9\-]+\.)+[A-Za-z0-9]{2,3}$/);if(!c.test(s.find("input").val()))return n.options.warn(s,"请填写正确的电子邮件"),s.addClass("warn"),void(i=!1);if(s.find("input").val().length>50)return n.options.warn(s,"电子邮件最大长度为50字符"),s.addClass("warn"),void(i=!1)}if("title"==s.data("displayname")){if(1==s.data("require")&&""==s.find("input").val())return n.options.warn(s,"主题不能为空"),s.addClass("warn"),void(i=!1);if(s.find("input").val().length>50)return n.options.warn(s,"主题最大长度为50字符"),s.addClass("warn"),void(i=!1)}if("content"==s.data("displayname")){if(1==s.data("require")&&""==s.find("textarea").val())return n.options.warn(s,"内容不能为空"),s.addClass("warn"),void(i=!1);if(s.find("textarea").val().length>1e3)return n.options.warn(s,"内容最大长度为1000字符"),s.addClass("warn"),void(i=!1)}}}),i},cancel:function(){this.hide()},createView:function(){var e=this;t(".leaveMessageView").length>0&&t(".leaveMessageView").remove();var i="<div class='leaveMessageView view'><div class='board'></div></div>";t("body").append(i);var o="<div class='title'>"+e.options.title+"<span class='cross'><img src='"+n(2)+"'></span></div>";o+="<div class='body'>",e.options.messageContent&&(o+="<div class='top'>"+e.options.messageContent+"</div>");var a="<div class='col' data-type='$0' data-require='$1' data-name='$2' data-markedwords='$3' data-displayname='$4' ></div>";for(var s in e.options.messageDisplay){var r=e.options.messageDisplay[s];1==r.display&&"messageTypePk"==r.displayName&&(o+=a.replace(/\$0/g,r.judgeDisplay).replace(/\$1/g,r.required).replace(/\$2/g,r.name).replace(/\$3/g,r.markedWords).replace(/\$4/g,r.displayName))}for(var s in e.options.messageDisplay){var r=e.options.messageDisplay[s];1==r.display&&"messageTypePk"!=r.displayName&&(o+=a.replace(/\$0/g,r.judgeDisplay).replace(/\$1/g,r.required).replace(/\$2/g,r.name).replace(/\$3/g,r.markedWords).replace(/\$4/g,r.displayName))}o+="</div>",o+=this.options.bottom,t(".leaveMessageView .board").html(o),this.hide(),this.options.generate(e.options.messageTypeList)},submit:function(e){var n=this,o=n.options.Alert;return!!n.check()&&(e.messageTypePk?(i.saveMessageBox(e).done(function(e){1==e.success?(o.show(e.msg),n.reset(),n.hide()):o.show(e.msg)}),void n.hide()):(n.options.warn(t(".leaveMessageView [data-displayname='messageTypePk']"),"请选择留言分类"),t(".leaveMessageView [data-displayname='messageTypePk']").addClass("warn"),void(can=!1)))},reset:function(e){this.options.reset},show:function(){this.hasCreate&&(t(".leaveMessageView").show(),t(".leaveMessageView .board").css({marginTop:-t(".leaveMessageView .board").height()/2}),t(".leaveMessageView input,.leaveMessageView textarea").not(".hasplaceholder").placeholder())},hide:function(){t(".leaveMessageView").hide()},expand:function(e){this.options=t.extend({},this.options,e)}},t.leaveMessage=function(e){var t=new s(e);return t.init(),t}}(window,jQuery)},function(e,t){var n=function(e){this.defaults={storage:null,loadMore:function(e){}},this.options=$.extend({},this.defaults,e)};n.prototype={current:[],history:[],time:0,init:function(){this.current=this.options.storage.get("localCur")?this.options.storage.get("localCur"):[],this.history=this.options.storage.get("localHis")?this.options.storage.get("localHis"):[],this.time=this.options.storage.get("localTim")?this.options.storage.get("localTim"):(new Date).getTime(),this.history.length>0&&(this.lastChat=this.history.length-1,this.lastId=this.history[this.lastChat].data.length-1)},setCurrent:function(e){var t=[];for(var n in e)if(!isNaN(Number(n))){var i=e[n];if(0==i.saveIn&&!i.isRevoke&&"system"!=i.type&&1!=i.status){var o="client"==i.type?dialogue.getAttr("operatorName"):"visitor"==i.type?userDatas.getVisitorInfo().visitorName:"robot"==i.type?"机器人":"";t.push({from:i.type,content:i.content,time:i.time,opName:o})}}this.options.storage.set("localTim",this.time),this.options.storage.set("localCur",t),this.current=t},saveCurrent:function(){this.current.length>0&&(this.history.push({data:this.current,time:this.time}),this.current=[],this.save())},save:function(){this.options.storage.set("localCur",this.current),this.options.storage.set("localHis",this.history),this.options.storage.set("localTim",0)},lastId:0,lastChat:0,page:5,loadMore:function(){for(var e=[],t=0,n=this.page;t<n;){var i=this.preload(this.lastChat,this.lastId);if(!i)break;e.push(i),"date"!=i.type&&t++}this.options.loadMore(e)},preload:function(e,t){if(e==-1)return"";if(t==-1)return this.lastChat=e-1,this.lastChat==-1?"":(this.lastId=this.history[this.lastChat].data.length-1,{type:"date",time:this.history[this.lastChat].time});var n=this.history[this.lastChat].data[this.lastId];return this.lastId=this.lastId-1,n}},$.localHistory=function(e){var t=new n(e);return t}},function(e,t,n){var i=n(0),o=function(e){this.defaults={userDatas:null,storage:null},this.options=$.extend({},this.defaults,e)};o.prototype={init:function(e){var t=nowtime.getTime(),n=this,o=n.options.storage,a=o.get("ncVisitor")?o.get("ncVisitor"):{},s=n.getTrace(),r=s.result,c=n.getInfo();o.set("visitorId",c.visitorId),o.set("visitorName",c.visitorName),c=n.changeFirstTime(c,r),a.trace=r,a.info=c,o.set("ncVisitor",a);var l=c;t-c.lastTime>6e5||!s.hasVal?l.trace=[s.item]:l.trace=[],i.setVisitorMonitor(l)},changeFirstTime:function(e,t){var n,i=e,o=i.firstTime;for(var a in t)(!n||n>t[a].firstInTime)&&(n&&new Date(t[a].firstInTime).Format("yyyy-mm-dd")!=nowtime.Format("yyyy-mm-dd")||(n=t[a].firstInTime));return i.firstTime=n?n:o,new Date(i.firstTime).Format("yyyy-mm-dd")!=nowtime.Format("yyyy-mm-dd")&&(i.firstTime=i.lastTime),i},get:function(){var e=mo.options.storage,t=e.get("route");return t},getInfo:function(){var e=this,t=(e.options.storage,e.options.userDatas),n=t.getJsonStr(),i=e.getAllTime(n);return n.firstTime=i.firstTime,n.lastTime=i.lastTime,n.status="broswer",n},getAllTime:function(e){var t=nowtime.getTime();return{firstTime:e&&e.firstTime?e.firstTime:t,lastTime:t}},getTrace:function(){var e=nowtime.getTime(),t=this,n=t.options.storage,i=n.get("ncVisitor"),o=i?i.trace:null,a=[],s=null,r=!1;if(o){for(var c in o)if(o[c]){var l=o[c];decodeURIComponent(l.url)==location.href&&(r=!0,l.inTime=e,s=l),a.push(l)}r||(s={url:location.href,firstInTime:e,inTime:e,title:$("title").html()},a.push(s))}else s={url:location.href,firstInTime:e,inTime:e,title:$("title").html()},a.push(s);return a.length>10&&(a=a.sort(function(e,t){return e.inTime<t.inTime}),a.pop()),a=a.sort(function(e,t){return e.firstInTime<t.firstInTime}),{item:s,result:a,hasVal:r}}},$.monitor=function(e){var t=new o(e);return t.init(),t}},function(e,t){var n=function(e){this.defaults={},this.options=$.extend({},this.defaults,e)};n.prototype={allDB:{},id:0,db:{},add:function(e){var t=this,n={msgId:e.msgId?e.msgId:"",type:e.type,content:e.content,time:e.date?e.date:(new Date).getTime(),isRevoke:!!e.isRevoke&&e.isRevoke,hasChecked:!!e.hasChecked&&e.hasChecked,status:e.status?e.status:0,saveIn:e.saveIn?e.saveIn:0,received:0,checkSend:0};t.db[t.id]=n,t.allDB[t.id]=n,t.id++},clear:function(){var e=this;e.db={}},last:function i(){var e=this,i=0;for(var t in e.db)!isNaN(Number(t))&&Number(i)<=Number(t)&&(i=t);return i},setKey:function(e,t,n){var i=this;for(var o in i.db)e==o&&(i.db[o][t]=n,i.allDB[o][t]=n)},set:function(e,t,n){var i=this;for(var o in i.db)i.db[o].msgId==e&&(i.db[o][t]=n,i.allDB[o][t]=n)},get:function(e){var t=this;for(var n in t.db)if(t.db[n].msgId==e)return t.db[n]},getAll:function(){return this.db}},$.msgdb=function(e){var t=new n(e);return t}},function(e,t,n){!function(t){t("object"==("undefined"==typeof e?"undefined":_typeof(e))&&e.exports?jQuery:jQuery)}(function(e){function t(t){var n={},i=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!i.test(t.name)&&(n[t.name]=t.value)}),n}function n(t,n){var i=this,a=e(this);if(i.value===a.attr(r?"placeholder-x":"placeholder")&&a.hasClass(f.customClass))if(i.value="",a.removeClass(f.customClass),a.data("placeholder-password")){if(a=a.hide().nextAll('input[type="password"]:first').show().attr("id",a.removeAttr("id").data("placeholder-id")),t===!0)return a[0].value=n,n;a.focus()}else i==o()&&i.select()}function i(i){var o,a=this,s=e(this),c=a.id;if(!i||"blur"!==i.type||!s.hasClass(f.customClass))if(""===a.value){if("password"===a.type){if(!s.data("placeholder-textinput")){try{o=s.clone().prop({type:"text"})}catch(l){o=e("<input>").attr(e.extend(t(this),{type:"text"}))}o.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":s,"placeholder-id":c}).bind("focus.placeholder",n),s.data({"placeholder-textinput":o,"placeholder-id":c}).before(o)}a.value="",s=s.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",s.data("placeholder-id")).show()}else{var u=s.data("placeholder-password");u&&(u[0].value="",s.attr("id",s.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}s.addClass(f.customClass),s[0].value=s.attr(r?"placeholder-x":"placeholder")}else s.removeClass(f.customClass)}function o(){try{return document.activeElement}catch(e){}}var a,s,r=!1,c="[object OperaMini]"===Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!c&&!r,u="placeholder"in document.createElement("textarea")&&!c&&!r,d=e.valHooks,p=e.propHooks,f={};l&&u?(s=e.fn.placeholder=function(){return this},s.input=!0,s.textarea=!0):(s=e.fn.placeholder=function(t){var o={customClass:"placeholder"};return f=e.extend({},o,t),this.filter((l?"textarea":":input")+"["+(r?"placeholder-x":"placeholder")+"]").not("."+f.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":n,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder")},s.input=l,s.textarea=u,a={get:function(t){var n=e(t),i=n.data("placeholder-password");return i?i[0].value:n.data("placeholder-enabled")&&n.hasClass(f.customClass)?"":t.value},set:function(t,a){var s,r,c=e(t);return""!==a&&(s=c.data("placeholder-textinput"),r=c.data("placeholder-password"),s?(n.call(s[0],!0,a)||(t.value=a),s[0].value=a):r&&(n.call(t,!0,a)||(r[0].value=a),t.value=a)),c.data("placeholder-enabled")?(""===a?(t.value=a,t!=o()&&i.call(t)):(c.hasClass(f.customClass)&&n.call(t),t.value=a),c):(t.value=a,c)}},l||(d.input=a,p.value=a),u||(d.textarea=a,p.value=a),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+f.customClass,this).each(function(){n.call(this,!0,"")});setTimeout(function(){t.each(i)},10)})}),e(window).bind("beforeunload.placeholder",function(){var t=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(t=!1)}catch(n){}t&&e("."+f.customClass).each(function(){this.value=""})}))})},function(e,t,n){var i=n(0);!function(e,t,n){var o=function(e){this.defaults={chatID:"",companyPk:"",langPk:0,message:{},IpStr:"",always:function(e){},success:function(e){},fail:function(e){},leave:function(){},continueque:function(){}},this.options=t.extend({},this.defaults,e)};o.prototype={businessId:"",businessName:"",isTimeOut:!1,index:1,start:function(e,t){var n=this;i.inQueue(n.options.message,n.options.IpStr).done(function(t){t&&(1==t.success?n.options.success(t):1==t.inqueue?(n.getInfo(e,0,!1),n.options.always(t)):0==t.errorCode?n.getInfo(e,0,!1):0==t.server?n.options.fail(t):n.options.leave(t))}).fail(function(e){n.options.fail(e)})},getInfo:function(e,t,n){var o=this;i.inQueue(o.options.message,e,t,n).done(function(t){t&&(1==t.success?(o.index!=t.index&&(o.index=t.index,o.options.always(t)),t.workgroupName?t.url&&o.options.success(t):1==t.inqueue?setTimeout(function(){o.options.always(t),
o.getInfo(e,t.index,!1)},1e3):setTimeout(function(){o.getInfo(e,t.index,!1)},2e3)):0==t.over?(o.isTimeOut=!0,o.options.fail(t),setTimeout(function(){1==o.isTimeOut&&o.getInfo(e,t.index,!0)},1e4)):0==t.server?o.options.fail(t):o.options.fail(t))}).fail(function(e){o.options.fail(e)})},continueque:function(e,t,n){var o=this;i.continueBusinessQueue(n).done(function(e){o.istimeout=!1,o.getInfo(n,0,!1),o.options.continueque(e)})},expand:function(e){this.options=t.extend({},this.options,e)}},t.queueManager=function(e){var t=new o(e);return t}}(window,jQuery)},function(e,t,n){var i=n(1),o=i.baseUrl,a=function(e){this.defaults={visitorName:"",ecselfList:null,langPk:"",dialogue:null,robotSetting:2,companyPk:"",chatId:"",ywList:"ff80808150db355d0150e12f11a90388",confidence:60,changeToNormal:function(e){}},this.options=$.extend({},this.defaults,e)};a.prototype={isUse:!0,choose:!1,ncRobotTime:0,nc:{number:2,answer:"我正在学习中",questions:"投诉".split(";")},recored:[],click:!1,check:function(e){var t=this,n=t.options.dialogue;if(2==t.options.robotSetting)return t.isUse=!1,!1;e&&(n.showMsg({date:(new Date).getTime(),content:e,from:"visitor",status:0}),t.recored.push({date:(new Date).getTime(),content:e,from:"visitor",status:0}));var i=t.options.ecselfList;if(i)for(var o in i){var a=i[o];a.eclangPk&&a.eclangPk==t.options.langPk&&(t.nc={number:a.number||t.nc.number,answer:a.answer||t.nc.answer,questions:a.questions?a.questions.split(";"):""})}return 3==t.options.robotSetting?t.iRobot(e):(1==t.options.robotSetting||4==t.options.robotSetting)&&t.options.ywList.indexOf(t.options.companyPk)>-1?t.ywRobot(e):4==t.options.robotSetting&&i?t.ncRobot(e):1==t.options.robotSetting&&t.oldNcRobot(e),!0},iRobot:function(e){if(e){var t=this;$.ajax({url:"http://vdev.icontek.com:28080/queryj/x/ROOT->ucctest/"+t.options.companyPk+(new Date).getTime()+"/"+e}).done(function(e){var n="";e.confidence>=t.confidence&&e.answer&&(n+=e.answer.replace(/\+/g," ")+"<br />",t.options.dialogue.showMsg({date:(new Date).getTime(),content:n,from:"robot"}),t.recored.push({date:(new Date).getTime(),content:n,from:"robot"}));var i=confirm("不能查找到答案，是否需要转人工服务?");1==i&&t.options.changeToNormal()})}},cf:null,ncRobot:function(e){if(e){var t=this,n=t.options.dialogue;$.ajax({type:"POST",url:o+"/echatManager.do?method=automaticResponse",data:{companyPk:t.options.companyPk,question:e,chatId:t.options.chatId,visitorName:t.options.visitorName,langPk:t.options.langPk,"true":t.click},dataType:"json"}).done(function(i){if(t.isUse)if(t.click=!1,1==i.reply)t.ncRobotTime=0,n.showMsg({date:(new Date).getTime(),content:i.answer,from:"robot"}),t.recored.push({date:(new Date).getTime(),content:i.answer,from:"robot"});else if(t.ncRobotTime++,t.ncRobotTime>=t.nc.number){if(t.choose)return;1==t.choose,t.cf||(t.cf=confirm("不能查找到答案，是否需要转人工服务?"),1==t.cf?(t.options.changeToNormal(),t.choose=!1):(t.cf=null,n.showMsg({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}),t.recored.push({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}),t.choose=!1,t.ncRobotTime=0))}else{var o=0;for(var a in t.nc.questions){var s=t.nc.questions[a];if(s==e){if(o=1,t.choose)return;1==t.choose,t.cf||(t.cf=confirm("不能查找到答案，是否需要转人工服务?"),1==t.cf?(t.choose=!1,t.options.changeToNormal()):(t.cf=null,o=0,t.choose=!1,t.ncRobotTime=0))}}0==o&&(n.showMsg({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}),t.recored.push({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}))}}).fail(function(){if(t.isUse)if(t.click=!1,t.ncRobotTime++,t.ncRobotTime>=t.nc.number){if(t.choose)return;1==t.choose,t.cf||(t.cf=confirm("不能查找到答案，是否需要转人工服务?"),1==t.cf?(t.choose=!1,t.options.changeToNormal()):(t.cf=null,n.showMsg({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}),t.recored.push({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}),t.choose=!1,t.ncRobotTime=0))}else{var i=0;for(var o in t.nc.questions){var a=t.nc.questions[o];if(a==e){if(i=1,t.choose)return;1==t.choose,t.cf||(t.cf=confirm("不能查找到答案，是否需要转人工服务?"),1==t.cf?(t.choose=!1,t.options.changeToNormal()):(t.cf=null,i=0,t.choose=!1,t.ncRobotTime=0))}}0==i&&(n.showMsg({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}),t.recored.push({date:(new Date).getTime(),content:t.nc.answer,from:"robot"}))}})}},ywRobot:function(e){if(e){var t=this,n=t.options.dialogue;$.ajax({type:"POST",url:o+"/echatManager.do?method=loadSelfService2",data:{chatId:t.options.chatId,companyPk:t.options.companyPk,content:encodeURIComponent(e)},dataType:"json"}).done(function(e){var i="";e&&"Artificial customer service"!=e.answer&&null!=e.answer&&""!=e.answer&&void 0!=e.answer?(i=e.answer.replace(/\+/g," ")+"<br />",n.showMsg({date:(new Date).getTime(),content:i+"<br />单击<a href='javascript:' class='robo'><span style='color: red;'>转人工</span></a>进行提问。",from:"robot",status:0}),t.recored.push({date:(new Date).getTime(),content:i+"<br />单击<a href='javascript:' class='robo'><span style='color: red;'>转人工</span></a>进行提问。",from:"robot"})):(n.showMsg({date:(new Date).getTime(),content:"<div id='conId'>您好，我正在成长过程中，您的这个问题可能已经超出了我目前的知识范围。单击<a href='javascript:' class='robo'><span style='color: red;'>转人工</span></a>进行提问。</div>",from:"robot",status:0}),t.recored.push({date:(new Date).getTime(),content:"<div id='conId'>您好，我正在成长过程中，您的这个问题可能已经超出了我目前的知识范围。单击<a href='javascript:' class='robo'><span style='color: red;'>转人工</span></a>进行提问。</div>",from:"robot"})),$(".robo").click(function(){t.options.changeToNormal()})})}},oldNcRobot:function(e){if(e){var t=this,n=t.options.dialogue,i="";$.ajax({type:"POST",url:o+"/echatManager.do?method=loadSelfService",data:{chatId:t.options.chatId,companyPk:t.options.companyPk,content:encodeURIComponent(e)},dataType:"json"}).done(function(e){if(e&&e.length>1)$.each(e,function(t){i+=e[t].text.replace(/\+/g," ")+"<br />"}),n.showMsg({msgid:"",date:(new Date).getTime(),content:i,from:"client",status:0});else if(e&&1==e.length)i+="<div>"+e[0].text.replace(/\+/g," ")+"</div>",n.showMsg({msgid:"",date:(new Date).getTime(),content:i,from:"client",status:0});else{var o=confirm("不能查找到答案，是否需要转人工服务?");1==o?t.options.changeToNormal():t.ncRobotTime=0}})}}},$.robot=function(e){var t=new a(e);return t.recored=[],t}},function(e,t,n){var i=n(0);!function(e,t,o){var a=function(e){this.defaults={dialogue:null,companyPk:"",langPk:"",chatId:"",title:"满意度调查",top:"您对本次服务满意吗？",bottom:"<div class='bottom'><div class='cancel'>取消</div><div class='submit'>确定</div></div>",generate:function(){}},this.options=t.extend({},this.defaults,e)};a.prototype={hasSat:!1,init:function(){var e=this;i.getSatisfaction(this.options.chatId).done(function(t){t&&(e.hasSat=!0,e.createView(t))})},check:function(e){},cancel:function(){this.options.dialogue.sendMessage("访客取消了满意度评价","cancelSatisfaction"),this.hide()},createView:function(e){t(".satisfactionView").length>0&&t(".satisfactionView").remove();var i="<div class='satisfactionView view'><div class='board'></div></div>",o="<div class='fr' data-pk='$1' data-parent='$2' data-name='$3'></div>",a="<div class='sr' data-pk='$1' data-parent='$2' data-name='$3'></div>";t("body").append(i);var s="<div class='title'>"+this.options.title+"<span class='cross'><img src='"+n(2)+"'></span></div>";s+="<div class='body'><div class='top'>"+this.options.top+"</div>";for(var r=0,c=e.length;r<c;r++){var l=e[r];if(s+=o.replace(/\$1/g,l.pk).replace(/\$2/g,l.parentPk).replace(/\$3/g,l.name),l.children.length>0)for(var u=0,d=l.children.length;u<d;u++){var p=l.children[u];s+=a.replace(/\$1/g,p.pk).replace(/\$2/g,p.parentPk).replace(/\$3/g,p.name)}}s+="<div class='mome'><textarea placeholder='请输入详情'></textarea></div></div>",s+=this.options.bottom,t(".satisfactionView .board").html(s),this.hide(),this.options.generate()},getElement:function(e){return t(".satisfactionView .board [data-pk='"+e+"']")},getElementByParent:function(e){return t(".satisfactionView .board [data-parent='"+e+"']")},submit:function(e){var t=this,n=this.options.dialogue;i.saveSatisfaction(t.options.chatId,e).done(function(){var i=t.getElement(e.optionPk).attr("data-name"),o="，原因为：",a="";if(e.nextSatisfactionPk){var s=e.nextSatisfactionPk.split(",");for(var r in s)s[r]&&t.getElement(s[r]).attr("data-name")&&(a+=t.getElement(s[r]).attr("data-name")+",")}a.lastIndexOf(",")==a.length-1&&(a=a.substring(0,a.length-1)),a&&(a=o+a);var c="访客给您的满意度评价是："+i+a;n.sendMessage(c,"",!0),n.showSysMsg("您给客服"+n.getAttr("operatorName")+"的评价："+i+a)}),this.hide()},show:function(){this.hasSat&&(t(".satisfactionView").show(),t(".satisfactionView .board").css({marginTop:"-220px"}),t(".satisfactionView textarea").focus().blur(),t(".satisfactionView input,.satisfactionView textarea").not(".hasplaceholder").placeholder())},hide:function(){t(".satisfactionView").hide()},expand:function(e){this.options=t.extend({},this.options,e)}},t.satisfaction=function(e){var t=new a(e);return t}}(window,jQuery)},function(e,t){!function(e,t,n){var i=function(e){this.defaults={vocabulary:{}},this.options=t.extend({},this.defaults,e)};i.prototype={get:function(e){var t=e,n=this.options.vocabulary;if(n&&n.content&&1==n.isVisable)for(var i=n.content.split(":"),o=0;o<i.length;o++)if(i[o])for(var a=0;a<=t.length;a++)t=t.replace(i[o],"*");return t}},t.sensitive=function(e){var t=new i(e);return t}}(window,jQuery)},function(e,t){!function(e,t,n){var i=0,o=0,a=function(e){this.defaults={picStr:"<img id='showpic' src='$1'/>",bgColor:"rgba(0,0,0,0.5)"},this.options=t.extend({},this.defaults,e)};a.prototype={init:function(){var e=this;e.getScreenRatio(),t(".showPicture").length>0||(t("body").append('<div class="showPicture"></div>'),t(".showPicture").css({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",background:e.options.bgColor,display:"none",zIndex:"1001"}))},showPic:function(e){var n=this;n.init(),t(".showPicture").html("").append(this.options.picStr.replace(/\$1/g,e)),t(".showPicture").show();var o=document.getElementById("showpic");o.complete?(i=t(".showPicture img").width()/t(".showPicture img").height(),n.getShowPic()):o.onload=function(){i=t(".showPicture img").width()/t(".showPicture img").height(),n.getShowPic()},t(".showPicture").unbind().on("click",function(e){t(".showPicture").hide()})},getShowPic:function(){o&&i&&(o>i?t(".showPicture img").height()>=t(e).height()?t(".showPicture img").css({width:"auto",height:"98%",padding:" 1% 0",display:"block",margin:"0 auto",position:"initial",top:"0"}):t(".showPicture img").css({display:"block",margin:"0 auto",position:"relative",top:(t(e).height()-t(".showPicture img").height())/2+"px"}):t(".showPicture img").width()>=t(e).width()?(t(".showPicture img").css({display:"initial",width:"98%",padding:"0 1%",height:"auto",position:"fixed",top:"50%"}),t(".showPicture img").css({marginTop:-t(".showPicture img").height()/2})):(t(".showPicture img").css({display:"initial",left:"50%",position:"fixed",top:"50%",padding:"1% 1%"}),t(".showPicture img").css({marginTop:-t(".showPicture img").height()/2,marginLeft:-t(".showPicture img").width()/2})))},getScreenRatio:function(){o=t(e).width()/t(e).height()}},t.showBigImg=function(e){var t=new a(e);return t.init(),t}}(window,jQuery)},function(e,t){!function(e,t,n){var i,o=function(e){this.defaults={companyPk:""},this.options=t.extend({},this.defaults,e)};o.prototype={init:function(){i=e.localStorage?e.localStorage:e.Storage,this.setVersion()},setVersion:function(){var e=this,t=e.get("version"),n=e.get("jsonStr"),o=e.get("visitor"),a=e.get("localHis");t&&"8.0.1"==t||(i.clear(),n&&e.set("jsonStr",n),o&&e.set("visitor",o),a&&e.set("localHis",a),e.set("version","8.0.1"))},get:function(e){var n=null;"version"!=e&&(e="c"+this.options.companyPk+"-"+e),i?(n=i[e],n&&(n=decodeURIComponent(i[e]))):t.cookie&&(n=decodeURIComponent(t.cookie(e)));try{n=JSON.parse(n)}catch(o){}return n},set:function(e,n){"version"!=e&&(e="c"+this.options.companyPk+"-"+e),i?("object"==("undefined"==typeof n?"undefined":_typeof(n))&&(n=JSON.stringify(n)),i[e]=encodeURIComponent(n)):t.cookie&&t.cookie(e,encodeURIComponent(n))},clear:function(e){"version"!=e&&(e="c"+this.options.companyPk+"-"+e),i&&i.removeItem(e)}},t.storage=function(e){var t=new o(e);return t.init(),t}}(window,jQuery)},function(e,t){!function(e){e(jQuery)}(function(e){function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var a=this;if(a.clk=n,"image"==n.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=i.offset();a.clk_x=t.pageX-s.left,a.clk_y=t.pageY-s.top}else a.clk_x=t.pageX-n.offsetLeft,a.clk_y=t.pageY-n.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var i,o,a=e.param(n,t.traditional).split("&"),s=a.length,r=[];for(i=0;i<s;i++)a[i]=a[i].replace(/\+/g," "),o=a[i].split("="),r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return r}function s(i){for(var o=new FormData,a=0;a<i.length;a++)o.append(i[a].name,i[a].value);if(t.extraData){var s=n(t.extraData);for(a=0;a<s.length;a++)s[a]&&o.append(s[a][0],s[a][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});t.uploadProgress&&(r.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,o=e.total;e.lengthComputable&&(n=Math.ceil(i/o*100)),t.uploadProgress(e,i,o,n)},!1),n}),r.data=null;var l=r.beforeSend;return r.beforeSend=function(e,n){t.formData?n.data=t.formData:n.data=o,l&&l.call(this,e,n)},e.ajax(r)}function r(n){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){i("cannot get iframe.contentDocument: "+n),t=e.document}return t}function s(){function t(){try{var e=o(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),r(C),k&&clearTimeout(k),k=void 0}}var n=d.attr2("target"),a=d.attr2("action"),s="multipart/form-data",l=d.attr("enctype")||d.attr("encoding")||s;I.setAttribute("target",h),c&&!/post/i.test(c)||I.setAttribute("method","POST"),a!=p.url&&I.setAttribute("action",p.url),p.skipEncodingOverride||c&&!/post/i.test(c)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(k=setTimeout(function(){x=!0,r(S)},p.timeout));var u=[];try{if(p.extraData)for(var f in p.extraData)p.extraData.hasOwnProperty(f)&&(e.isPlainObject(p.extraData[f])&&p.extraData[f].hasOwnProperty("name")&&p.extraData[f].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+p.extraData[f].name+'">').val(p.extraData[f].value).appendTo(I)[0]):u.push(e('<input type="hidden" name="'+f+'">').val(p.extraData[f]).appendTo(I)[0]));p.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(t,15);try{I.submit()}catch(m){var y=document.createElement("form").submit;y.apply(I)}}finally{I.setAttribute("action",a),I.setAttribute("enctype",l),n?I.setAttribute("target",n):d.removeAttr("target"),e(u).remove()}}function r(t){if(!y.aborted&&!A){if(M=o(v),M||(i("cannot access response document"),t=C),t===S&&y)return y.abort("timeout"),void T.reject(y,"timeout");if(t==C&&y)return y.abort("server abort"),void T.reject(y,"error","server abort");if(M&&M.location.href!=p.iframeSrc||x){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var n,a="success";try{if(x)throw"timeout";var s="xml"==p.dataType||M.XMLDocument||e.isXMLDoc(M);if(i("isXml="+s),!s&&window.opera&&(null===M.body||!M.body.innerHTML)&&--L)return i("requeing onLoad callback, DOM not available"),void setTimeout(r,250);var c=M.body?M.body:M.documentElement;y.responseText=c?c.innerHTML:null,y.responseXML=M.XMLDocument?M.XMLDocument:M,s&&(p.dataType="xml"),y.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e.toLowerCase()]},c&&(y.status=Number(c.getAttribute("status"))||y.status,y.statusText=c.getAttribute("statusText")||y.statusText);var l=(p.dataType||"").toLowerCase(),u=/(json|script|text)/.test(l);if(u||p.textarea){var d=M.getElementsByTagName("textarea")[0];if(d)y.responseText=d.value,y.status=Number(d.getAttribute("status"))||y.status,y.statusText=d.getAttribute("statusText")||y.statusText;else if(u){var h=M.getElementsByTagName("pre")[0],m=M.getElementsByTagName("body")[0];h?y.responseText=h.textContent?h.textContent:h.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==l&&!y.responseXML&&y.responseText&&(y.responseXML=j(y.responseText));try{E=O(y,l,p)}catch(b){a="parsererror",y.error=n=b||a}}catch(b){i("error caught: ",b),a="error",y.error=n=b||a}y.aborted&&(i("upload aborted"),a=null),y.status&&(a=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===a?(p.success&&p.success.call(p.context,E,"success",y),T.resolve(y.responseText,"success",y),f&&e.event.trigger("ajaxSuccess",[y,p])):a&&(void 0===n&&(n=y.statusText),p.error&&p.error.call(p.context,y,a,n),T.reject(y,"error",n),f&&e.event.trigger("ajaxError",[y,p,n])),f&&e.event.trigger("ajaxComplete",[y,p]),f&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,y,a),A=!0,p.timeout&&clearTimeout(k),setTimeout(function(){p.iframeTarget?g.attr("src",p.iframeSrc):g.remove(),y.responseXML=null},100)}}}var l,u,p,f,h,g,v,y,b,w,x,k,I=d[0],T=e.Deferred();if(T.abort=function(e){y.abort(e)},n)for(u=0;u<m.length;u++)l=e(m[u]),a?l.prop("disabled",!1):l.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,t),p.context=p.context||p,h="jqFormIO"+(new Date).getTime(),p.iframeTarget?(g=e(p.iframeTarget),w=g.attr2("name"),w?h=w:g.attr2("name",h)):(g=e('<iframe name="'+h+'" src="'+p.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",p.iframeSrc),y.error=n,p.error&&p.error.call(p.context,y,n,t),f&&e.event.trigger("ajaxError",[y,p,n]),p.complete&&p.complete.call(p.context,y,n)}},f=p.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[y,p]),p.beforeSend&&p.beforeSend.call(p.context,y,p)===!1)return p.global&&e.active--,T.reject(),T;if(y.aborted)return T.reject(),T;b=I.clk,b&&(w=b.name,w&&!b.disabled&&(p.extraData=p.extraData||{},p.extraData[w]=b.value,"image"==b.type&&(p.extraData[w+".x"]=I.clk_x,p.extraData[w+".y"]=I.clk_y)));var S=1,C=2,N=e("meta[name=csrf-token]").attr("content"),D=e("meta[name=csrf-param]").attr("content");D&&N&&(p.extraData=p.extraData||{},p.extraData[D]=N),p.forceSync?s():setTimeout(s,10);var E,M,A,L=50,j=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},P=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,n,i){var o=t.getResponseHeader("content-type")||"",a="xml"===n||!n&&o.indexOf("xml")>=0,s=a?t.responseXML:t.responseText;return a&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&o.indexOf("json")>=0?s=P(s):("script"===n||!n&&o.indexOf("javascript")>=0)&&e.globalEval(s)),s};return T}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var c,l,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),c=t.type||this.attr2("method"),l=t.url||this.attr2("action"),u="string"==typeof l?e.trim(l):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:c||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var h,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,h=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,p]),p.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,f);h&&(v=v?v+"&"+h:h),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var y=[];if(t.resetForm&&y.push(function(){d.resetForm()}),t.clearForm&&y.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};y.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(b,arguments)})}else t.success&&y.push(t.success);if(t.success=function(e,n,i){for(var o=t.context||this,a=0,s=y.length;a<s;a++)y[a].apply(o,[e,n,i||d,d])},t.error){var w=t.error;t.error=function(e,n,i){var o=t.context||this;w.apply(o,[e,n,i,d])}}if(t.complete){var x=t.complete;t.complete=function(e,n){var i=t.context||this;x.apply(i,[e,n,d])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),I=k.length>0,T="multipart/form-data",S=d.attr("enctype")==T||d.attr("encoding")==T,C=o.fileapi&&o.formdata;i("fileAPI :"+C);var N,D=(I||S)&&!C;t.iframe!==!1&&(t.iframe||D)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){N=r(g)}):N=r(g):N=(I||S)&&C?s(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",N);for(var E=0;E<m.length;E++)m[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(a.s,a.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var a,s=this[0],r=this.attr("id"),c=t?s.getElementsByTagName("*"):s.elements;if(c&&!/MSIE [678]/.test(navigator.userAgent)&&(c=e(c).get()),r&&(a=e(':input[form="'+r+'"]').get(),a.length&&(c=(c||[]).concat(a))),!c||!c.length)return i;var l,u,d,p,f,h,m;for(l=0,h=c.length;l<h;l++)if(f=c[l],d=f.name,d&&!f.disabled)if(t&&s.clk&&"image"==f.type)s.clk==f&&(i.push({name:d,value:e(f).val(),type:f.type}),i.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}));else if(p=e.fieldValue(f,!0),p&&p.constructor==Array)for(n&&n.push(f),u=0,m=p.length;u<m;u++)i.push({name:d,value:p[u]});else if(o.fileapi&&"file"==f.type){n&&n.push(f);var g=f.files;if(g.length)for(u=0;u<g.length;u++)i.push({name:d,value:g[u],type:f.type});else i.push({name:d,value:"",type:f.type})}else null!==p&&"undefined"!=typeof p&&(n&&n.push(f),i.push({name:d,value:p,type:f.type,required:f.required}));if(!t&&s.clk){var v=e(s.clk),y=v[0];d=y.name,d&&!y.disabled&&"image"==y.type&&(i.push({name:d,value:v.val()}),i.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var a=0,s=o.length;a<s;a++)n.push({name:i,value:o[a]});else null!==o&&"undefined"!=typeof o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,o=this.length;i<o;i++){var a=this[i],s=e.fieldValue(a,t);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(n,s):n.push(s))}return n},e.fieldValue=function(t,n){var i=t.name,o=t.type,a=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==a&&t.selectedIndex==-1))return null;if("select"==a){var s=t.selectedIndex;if(s<0)return null;for(var r=[],c=t.options,l="select-one"==o,u=l?s+1:c.length,d=l?s:0;d<u;d++){var p=c[d];if(p.selected){var f=p.value;if(f||(f=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),l)return f;r.push(f)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==_typeof(this.reset)&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(e,t,n){var i=function(e,n){this.$el=e,this.defaults={other:function(e,t){},uploadType:"all",size:0,inputImage:!1,callback:function(e){},error:function(e){}},this.options=t.extend({},this.defaults,n)};i.prototype={init:function(){var e=this;this.options.uploadType,this.options.size;e.create()},create:function(){var e=this,n=this.options.uploadType,i=this.options.size,o=e.$el;e.$el.find(".fileup").length>0&&e.$el.find(".fileup").remove();var a="/any800/echatManager.do?method=uploadFile",s="*/*";e.options.inputImage&&(s="image/*");var r='<form class="fileup" contentType="text/html"   method="post"  enctype="multipart/form-data" action="'+a+'"><input multiple="false" type="file" name="uploadField" accept="'+s+'" /></form>';t(o).append(r);var c=e.$el.find(".fileup").find("input:file");c.on("change",function(){var t=c[0],o=t.value,a=o.substring(o.lastIndexOf(".")).toLowerCase();return e.checkType(a,n)?t.files&&i&&i<t.files[0].size?(e.create(),void e.options.error("size")):void e.options.other(e,t.files?t.files[0].name:o,(new Date).getTime()):(e.create(),void e.options.error("type"))})},submit:function(e,t){var n=this;0!=n.$el.find(".fileup").length&&n.$el.find(".fileup").ajaxSubmit(function(i){var o=i.split("|");"t"==o[0]?n.options.callback(o[1],e,t):n.options.error("other"),n.create()})},checkType:function(e,t){if(e=e.toLowerCase(),"all"==t)return e.match(/.gif|.jpg|.jpeg|.bmp|.png|.doc|.docx|.xls|.xlsx|.pdf|.txt/i);var n=t.split(";");if(n.length>0){for(var i in n)if("image"==n[i]){if(e.match(/.gif|.jpg|.jpeg|.bmp|.png/i))return!0}else if("doc"==n[i]){if(e.match(/.doc|.docx/i))return!0}else if("xls"==n[i]){if(e.match(/.xls|.xlsx/i))return!0}else if("pdf"==n[i]){if(e.match(/.pdf/i))return!0}else if("txt"==n[i]&&e.match(/.txt/i))return!0;return!1}}},t.fn.uploadFile=function(e){var n=new i(t(this),e);return n.init(),n}}(window,jQuery)},function(module,exports,__webpack_require__){var ajax=__webpack_require__(0);!function(window,$,undefined){var mobile_type_arr=["ipad","ipod","iphone","ios","ios","android","backerry","webos","symbian","windows phone","phone","blackberry"],mobile_pc_browser_json={micromessenger:"微信浏览器",ucbrowser:"UC浏览器",qqbrowser:"QQ浏览器",opera:"Opera浏览器",baidubrowser:"百度浏览器",firefox:"火狐浏览器",maxthon:"傲游浏览器",xiaomi:"小米手机浏览器",chrome:"Chrome浏览器",android:"android内置浏览器",iphone:"iphone内置浏览器",ipod:"opod内置浏览器",ipad:"ipad内置浏览器"},pc_browser_json={opera:"Opera浏览器",maxthon:"傲游浏览器",tencenttraveler:"TT浏览器",theworld:"天天浏览器",lbbrowser:"猎豹浏览器",chrome:"Chrome浏览器",firefox:"Firefox浏览器",msie:"IE浏览器",safari:"Safari浏览器"},DATAS=function(e){this.defaults={param:null,storage:null,storageVisitor:"visitor",storageIpStr:"ipStr",storageChatNum:"chatNum",companyPk:"",aDset:null,chatID:"",businessId:"",businessName:"",storageOldService:"",opShow:""},this.options=$.extend({},this.defaults,e)};DATAS.prototype={hasGetJson:!1,hasGetVisitor:!1,hasIpStr:!1,getJsonStr:function(){var e=this,t={};e.hasGetJson&&(e.options.param.mn="");var n=this.getVisitorInfo(),i=this.options.aDset,o=this.getIpStr();if(e.options.param&&e.options.param.mn){var a=JSON.parse(decodeURIComponent(e.options.param.mn));t={companyPk:e.options.companyPk,visitorId:n.visitorId,visitorName:n.visitorName,businessId:e.options.businessId,businessName:e.options.businessName,chatID:e.options.chatID,browsingNum:a.browsingNum,fromPage:a.fromPage?a.fromPage:document.referrer.replace(/[&]/g,"%26")?document.referrer.replace(/[&]/g,"%26"):"",title:"",ip:o.cip,ipName:o.cname,usersource:i?i.scheme_Name:"",opShow:e.options.opShow,oldService:e.options.storageOldService,keyword:a.keyword,searchEngine:a.searchEngine,lastTime:Number(a.lastTime)?a.lastTime:"Invalid Date"==new Date(a.lastTime)?"":new Date(a.lastTime),firstTime:Number(a.firstTime)?a.firstTime:"Invalid Date"==new Date(a.firstTime)?"":new Date(a.firstTime),chatNum:e.getChatNum(),operatingSystem:e.getOperatingSystem(),visitor:n,commodity:{shopImgUrl:"",shopName:"",shopNum:"",shopPrice:"",shopUrl:""}}}else{var s=e.options.storage.get("jsonStr");t={visitorId:n.visitorId,companyPk:e.options.companyPk,visitorName:n.visitorName,businessId:e.options.businessId,businessName:e.options.businessName,chatID:e.options.chatID,browsingNum:s&&s.browsingNum?s.browsingNum:"",fromPage:s&&s.fromPage?s.fromPage:document.referrer.replace(/[&]/g,"%26")?document.referrer.replace(/[&]/g,"%26"):"",title:s&&s.title?s.title:"",usersource:i?i.scheme_Name:"",opShow:e.options.opShow,oldService:e.options.storageOldService,ip:o.cip,ipName:o.cname,keyword:s&&s.keyword?s.keyword:"",searchEngine:s&&s.searchEngine?s.searchEngine:"",lastTime:s&&s.lastTime?s.lastTime:"",firstTime:s&&s.firstTime?s.firstTime:"",chatNum:e.getChatNum(),operatingSystem:e.getOperatingSystem(),visitor:n,commodity:{shopImgUrl:"",shopName:"",shopNum:"",shopPrice:"",shopUrl:""}}}if(e.options.param.pageInfo&&e.options.param.isuse&&"true"==e.options.param.isuse){var r=decodeURIComponent(e.options.param.pageInfo),c=r.split("|"),l="",u="";1==c.length?(u=c[0].trim(),"null"==u&&(u="")):c.length>=2&&(u=c[0].trim(),l=c[1].trim(),"null"==u&&(u=""),"null"==l&&(l="")),
t.title=encodeURIComponent(u),t.fromPage=encodeURIComponent(l)}else t.title="",t.fromPage="";return e.hasGetJson=!0,e.options.storage.set("jsonStr",t),t},getChatNum:function(){return this.options.storage.get(this.options.storageChatNum)?this.options.storage.get(this.options.storageChatNum):0},getOperatingSystem:function(){var e=this.options.param,t="pc",n=navigator.userAgent.toLowerCase(),i=/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone|BlackBerry)/i;null!=n.match(i)&&(t="mb"),e&&e.qr&&(t="ma");var o=window.screen.width+"×"+window.screen.height,a=navigator.systemLanguage?navigator.systemLanguage:navigator.language?navigator.language:"",s={sysInfo:t,browserName:this.getUserAgent().browser_name,browser:this.getUserAgent().browser_type,operatorSystem:this.getUserAgent().terminal_system,sysResolution:o,language:a};return s},getUserAgent:function(){var e={},t=navigator.userAgent.toLowerCase(),n=/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone|BlackBerry)/i;if(null!=t.match(n)){e.terminal_Type="移动终端";for(var i=0;i<mobile_type_arr.length;i++)if(t.indexOf(mobile_type_arr[i])>-1){e.terminal_system=mobile_type_arr[i];break}null!=e.terminal_system&&""!=e.terminal_system||(e.terminal_system="未知");for(var i in mobile_pc_browser_json)if(t.indexOf(i)>-1){e.browser_type=mobile_pc_browser_json[i],e.browser_name=i;break}null!=e.browser_type&&""!=e.browser_type||(e.browser_type="未知",e.browser_name="未知")}else{e.terminal_Type="PC终端";var o="未知",a="Win32"==navigator.platform||"Windows"==navigator.platform,s="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;s&&(o="Mac");var r="X11"==navigator.platform&&!a&&!s;r&&(o="Unix");var c=String(navigator.platform).indexOf("Linux")>-1;if(c&&(o="Linux"),a){var l=t.indexOf("windows nt 5.0")>-1||t.indexOf("windows 2000")>-1;l&&(o="Win2000");var u=t.indexOf("windows nt 5.1")>-1||t.indexOf("windows xp")>-1;u&&(o="WinXP");var d=t.indexOf("windows nt 5.2")>-1||t.indexOf("windows 2003")>-1;d&&(o="Win2003");var p=t.indexOf("windows nt 6.0")>-1||t.indexOf("windows vista")>-1;p&&(o="WinVista");var f=t.indexOf("windows nt 6.1")>-1||t.indexOf("windows 7")>-1;f&&(o="Win7");var h=t.indexOf("windows nt 6.2")>-1||t.indexOf("windows 7")>-1;h&&(o="Win8");var m=t.indexOf("windows nt 10.0")>-1||t.indexOf("windows 10")>-1;m&&(o="Win10");var g=t.indexOf("Edge")>-1;g&&(o="WinEdge")}e.terminal_system=o;for(var i in pc_browser_json)if(t.indexOf(i)>-1){e.browser_type=pc_browser_json[i],e.browser_name=i;break}if(null==e.browser_type||""==e.browser_type){var v="Win10"==o,g="WinEdge"==o;v||g?(e.browser_type=pc_browser_json.msie,e.browser_name="msie"):(e.browser_type="未知",e.browser_name="未知")}}return e.flash_version=this.getFlash_version(),e},getFlash_version:function getFlash_version(){var f="-",n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0;ii<n.plugins.length;ii++)if(n.plugins[ii].name.indexOf("Shockwave Flash")!=-1){f=n.plugins[ii].description.split("Shockwave Flash ")[1];break}}else if(window.ActiveXObject)for(var ii=10;ii>=2;ii--)try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}return f},getIpStr:function(){var e=this;if(e.hasGetIpStr)return e.options.storage.get(e.options.storageIpStr);var t=null;return e.options.storage.get(e.options.storageIpStr)?t=e.options.storage.get(e.options.storageIpStr):ajax.getIp().done(function(e){t=e}).always(function(e){t=e}).fail(function(e){t=e}),e.hasGetIpStr=!0,e.options.storage.set(e.options.storageIpStr,t),t},getVisitorInfo:function(){var e=this,t={};if(!e.hasGetVisitor&&e.options.param&&e.options.param.mn){var n=JSON.parse(decodeURIComponent(e.options.param.mn));if(t.visitorId=n.visitorId,t.visitorName=n.visitorName,e.options.param.hjUserData){var i=decodeURIComponent(e.options.param.hjUserData),o=i.split("|");try{t.sex=o[1],t.realName=o[0],t.phone=o[2],t.mobile=o[3],t.email=o[4],t.QQ=o[8],t.MSN=o[7],t.address=o[5],t.company=o[6],t.visitorId=o[9],t.visitorName=o[0]}catch(a){}}}else if(!e.hasGetVisitor&&e.options.param&&e.options.param.memberPk)t.visitorId=e.options.param.memberPk;else if(e.options.storage.get(e.options.storageVisitor)){var s=e.options.storage.get(e.options.storageVisitor);t.visitorId=s.visitorId?s.visitorId:"",""==t.visitorId&&ajax.generationVisitorsID().done(function(e){e&&(t.visitorId=e.visitorId)}),t.company=s.company?s.company:"",t.visitorName=s.visitorName?s.visitorName:"访客"+Number(t.visitorId.substring(1)),t.sex=isNaN(Number(s.sex))?0:s.sex,t.degree=s.degree?s.degree:"",t.realName=s.realName?s.realName:"",t.phone=s.phone?s.phone:"",t.mobile=s.mobile?s.mobile:"",t.email=s.email?s.email:"",t.QQ=s.QQ?s.QQ:"",t.MSN=s.MSN?s.MSN:"",t.address=s.address?s.address:"",t.extension=s.extension?s.extension:"",t.memberId=s.memberId?s.memberId:""}t.visitorId||ajax.generationVisitorsID().done(function(e){e&&(t.visitorId=e.visitorId,t.visitorName="访客"+e.showId)});e.updateVisitorName(t,t.visitorId);return e.hasGetVisitor=!0,e.options.storage.set(e.options.storageVisitor,t),t},updateVisitorName:function(e,t){var n=this;return n.hasGetVisitor||ajax.getVisitorsName(t).done(function(t){t.success&&(e.company=t.company||e.company||"",e.visitorName=t.name||e.visitorName||"",e.sex=isNaN(Number(t.sex))?e.sex?e.sex:0:t.sex,e.degree=t.degree||e.degree||"",e.realName=t.realName||e.realName||"",e.phone=t.phone||e.phone||"",e.mobile=t.mobile||e.mobile||"",e.email=t.email||e.email||"",e.QQ=t.QQ||e.QQ||"",e.MSN=t.MSN||e.MSN||"",e.address=t.address||e.address||"",e.extension=t.extension||e.extension||"",e.memberId=t.memberId||e.memberId||"")}),e}},$.userDatas=function(e){var t=new DATAS(e);return t}}(window,jQuery)},function(e,t,n){var i=n(1),o=function(e){this.defaults={open:"1",storage:null,time:6e4,num:5,blockTime:5e3,url:i.baseUrl+"/overLoad.jsp"},this.options=$.extend({},this.defaults,e)};o.prototype={init:function(){if("0"!=this.options.open){var e=this,t=this.options.storage,n=t.get("vLimit"),i=t.get("isLimit"),o=[],a=(new Date).getTime();if(n){if("islimited"==i&&a-n[n.length-1].time<=e.options.blockTime)return void(window.location.href=e.options.url);"islimited"==i&&(n=[]),t.set("isLimit","");for(var s in n)a-n[s].time<e.options.time&&o.push({time:n[s].time});if(o.push({time:a}),t.set("vLimit",o),o.length>e.options.num)return t.set("isLimit","islimited"),void(window.location.href=e.options.url)}else o.push({time:a}),t.set("vLimit",o)}}},$.visitLimit=function(e){var t=new o(e);return t}},function(e,t,n){!function(e,t,i){var o=function(e){this.defaults={storage:null,Alert:null,title:"请填写以下信息",storageVisitor:"visitor",bottom:"<div class='bottom'><div class='cancel'>取消</div><div class='submit'>确定</div></div>",generate:function(e){},warn:function(e,t){},submitFun:function(){},cancelFun:function(){}},this.options=t.extend({},this.defaults,e)};o.prototype={hasCreate:!1,visitor:{visitorId:"",company:"",visitorName:"",sex:"0",degree:"",realName:"",phone:"",mobile:"",email:"",QQ:"",MSN:"",address:"",extension:"",memberId:""},init:function(){var e=this,t=e.options.storage;t.get(e.options.storageVisitor)&&(e.visitor=t.get(e.options.storageVisitor)),e.createView(),e.hasCreate=!0},check:function(){var e=this;t(".visitorInformationView .col").removeClass("warn");var n=!0;return t(".visitorInformationView .col").each(function(i,o){var a=t(this);if(0!=n){if("visitorName"==a.data("displayname")){var s=new RegExp(/^[a-zA-Z0-9\u4e00-\u9fa5]+(\s[a-zA-Z0-9\u4e00-\u9fa5]+|)$/);if(1==a.data("require")&&""==a.find("input").val())return e.options.warn(a,"昵称不能为空"),a.addClass("warn"),void(n=!1);if(a.find("input").val().length>20)return e.options.warn(a,"昵称最大长度为20字符"),a.addClass("warn"),void(n=!1);if(!s.test(a.find("input").val()))return e.options.warn(a,"请输入中文、英文和数字！"),a.addClass("warn"),void(n=!1)}if("realName"==a.data("displayname")&&a.find("input").val().length>20)return e.options.warn(a,"姓名最大长度为20字符"),a.addClass("warn"),void(n=!1);if("phone"==a.data("displayname")){if(""==a.find("input").val())return;var r=new RegExp(/^[1][0-9]{1}[0-9]{9}$/);if(!r.test(a.find("input").val()))return e.options.warn(a,"请填写正确的手机号码"),a.addClass("warn"),void(n=!1)}if("phone"==a.data("displayname")){if(""==a.find("input").val())return;var r=new RegExp(/^[1][0-9]{1}[0-9]{9}$/);if(!r.test(a.find("input").val()))return e.options.warn(a,"请填写正确的手机号码"),a.addClass("warn"),void(n=!1)}if("QQ"==a.data("displayname")&&a.find("input").val().length>20)return e.options.warn(a,"QQ最大长度为20字符"),a.addClass("warn"),void(n=!1);if("email"==a.data("displayname")){if(""==a.find("input").val())return;var s=new RegExp(/^[\-\._A-Za-z0-9]+@([_A-Za-z0-9\-]+\.)+[A-Za-z0-9]{2,3}$/);if(!s.test(a.find("input").val()))return e.options.warn(a,"请填写正确的邮箱"),a.addClass("warn"),void(n=!1);if(a.find("input").val().length>50)return e.options.warn(a,"邮箱最大长度为50字符"),a.addClass("warn"),void(n=!1)}return"address"==a.data("displayname")&&a.find("input").val().length>50?(e.options.warn(a,"地址最大长度为50字符"),a.addClass("warn"),void(n=!1)):"company"==a.data("displayname")&&a.find("input").val().length>50?(e.options.warn(a,"公司名称最大长度为50字符"),a.addClass("warn"),void(n=!1)):void 0}}),n},cancel:function(){this.options.cancelFun(),this.hide()},createView:function(){var e=this;t(".visitorInformationView").length>0&&t(".visitorInformationView").remove();var i="<div class='visitorInformationView view'><div class='board'></div></div>";t("body").append(i);var o="<div class='title'>"+e.options.title+"<span class='cross'><img src='"+n(2)+"'></span></div>";o+="<div class='body'>",o+="<div class='col' data-type='input' data-require='1' data-name='昵称' data-placeholder='请输入昵称' data-displayname='visitorName' ></div>",o+="<div class='col' data-type='radio' data-require='0' data-name='性别'  data-markedwords='"+(e.visitor.sex?e.visitor.sex:"")+"' data-displayname='sex' ></div>",o+="<div class='col' data-type='input' data-require='0' data-name='姓名' data-placeholder='请输入姓名' data-markedwords='"+(e.visitor.realName?e.visitor.realName:"")+"' data-displayname='realName' ></div>",o+="<div class='col' data-type='input' data-require='0' data-name='手机' data-placeholder='请输入手机号码' data-markedwords='"+(e.visitor.phone?e.visitor.phone:"")+"' data-displayname='phone' ></div>",o+="<div class='col' data-type='input' data-require='0' data-name='QQ' data-placeholder='请输入QQ号码' data-markedwords='"+(e.visitor.QQ?e.visitor.QQ:"")+"' data-displayname='QQ' ></div>",o+="<div class='col' data-type='input' data-require='0' data-name='邮箱' data-placeholder='请输入邮箱地址' data-markedwords='"+(e.visitor.email?e.visitor.email:"")+"' data-displayname='email' ></div>",o+="<div class='col' data-type='input' data-require='0' data-name='地址' data-placeholder='请输入地址' data-markedwords='"+(e.visitor.address?e.visitor.address:"")+"' data-displayname='address' ></div>",o+="<div class='col' data-type='input' data-require='0' data-name='公司' data-placeholder='请输入公司名称' data-markedwords='"+(e.visitor.company?e.visitor.company:"")+"' data-displayname='company' ></div>",o+="</div>",o+=this.options.bottom,t(".visitorInformationView .board").html(o),this.hide(),this.options.generate()},submit:function(e){var n=this,i=n.options.storage;if(n.check()){var o=i.get(n.options.storageVisitor);o=t.extend({},o,e),i.set(n.options.storageVisitor,o),n.visitor=o,i.set("isSave",0),n.options.submitFun(n.visitor),n.hide()}},show:function(){this.hasCreate&&(t(".visitorInformationView").show(),t(".visitorInformationView .board").css({marginTop:-t(".visitorInformationView .board").height()/2}))},hide:function(){t(".visitorInformationView").hide()}},t.visitorInformation=function(e){var t=new o(e);return t.init(),t}}(window,jQuery)},function(e,t,n){var i=function(e){this.defaults={path:"/any800/UccWebSocket/",visitorId:"",message:function(e,t){},deal:function(e,t,n){},connect:function(e){},confirmSend:function(e){},leaveCover:function(){},open:function(){}},this.options=$.extend({},this.defaults,e)},o=function(e){var t=this;return t.chatId=e.chatID,t.type=e.type?e.type:"VS_CHAT",t.content=JSON.stringify(new s(e.message)),t.messageId="Other"+e.date,t},a=function(e){var t=this;return t.chatId=e.chatID,t.type=e.type?e.type:"VS_CHAT",t.content=e.message,t.messageId="Other"+e.date,t},s=function(e){var t=this;return t.msg=e,t},r=new $.Deferred;i.prototype={isWork:!1,isConnect:!1,connectTimeout:null,websocket:null,init:function(){var e=this;return window.WebSocket&&window.WebSocket.prototype.send&&"true"==e.options.isWs&&(e.isWork=!0),e.isWork&&(e.reconnectionFun(),e.connect()),e.isWork?r.promise():r.resolve(!1)},reconnectionFun:function(){var e=this;e.isWork&&(e.ReconnectingWebSocket=n(50))},getWebSocketUri:function(){return("http:"==window.location.protocol?"ws://":"wss://")+(""==document.location.hostname?"localhost":document.location.hostname)+(""==document.location.port?"":":"+document.location.port)+this.options.path+this.options.visitorId},connect:function(){var e=this;if(e.isWork&&(!e.websocket||e.websocket.readyState==WebSocket.CLOSED)){window.WebSocket||window.MozWebSocket;e.websocket=new e.ReconnectingWebSocket(e.getWebSocketUri(),null,{}),e.websocket.onopen=e.doOpen,e.websocket.onerror=e.doError,e.websocket.onclose=e.doClose,e.websocket.onmessage=e.doMessage}},doOpen:function(){var e=this;r.resolve(!0),console.log("Info: WebSocket connection opened."),e.isConnect=!0,e.hasOpend=!0,webSocket.startTimeout(),webSocket.pingTime=0,webSocket.pongTime=0,webSocket.options.open()},pingTime:0,pongTime:0,sendPing:function(){var e=this;e.pingTime&&e.pongTime&&(e.pingTime-e.pongTime>3e3?e.websocket.isConnect=!1:e.websocket.isConnect=!0),e.pingTime=(new Date).getTime();var t=new o({date:(new Date).getTime(),chatId:"",type:"PING"});e.websocket&&e.websocket.send(JSON.stringify(t))},startTimeout:function(){if(this.isWork){var e=this;e.connectTimeout&&clearTimeout(e.connectTimeout),e.connectTimeout=setTimeout(function(){e.sendPing(),e.options.connect(e.websocket.isConnect),e.startTimeout()},1e3)}},endTimeout:function(){var e=this;e.connectTimeout&&clearTimeout(e.connectTimeout),e.connectTimeout=null},doError:function(e){var t=this;t.hasOpend||(webSocket.isWork=!1,r.resolve(!1)),console.log("Info: WebSocket error. code="+e.code)},doClose:function(e){var t=this;t.hasOpend&&("1004"!=e.code&&"1006"!=e.code||webSocket.options.leaveCover(),console.log("Info: WebSocket closed. code="+e.code),console.log(e),t.isConnect=!1)},doMessage:function(e){console.log(e.data);var t=JSON.parse(e.data),n=t.type;if("WELCOME_TIPS"==n){var i=JSON.parse(t.content);webSocket.options.deal("CUTOMER_IS_INVITED",t.chatId,i.msg)}else if("CHAT"==n){var i=JSON.parse(t.content);webSocket.options.message(t.chatId,i.msg,t.messageId)}else if("CLOSE_ROOM"==n){var i=JSON.parse(t.content);"operatorLeaving"==i.msg?webSocket.options.deal("CLOSE",t.chatId,i.msg):webSocket.options.deal("CLOSE_CUSTOMER",t.chatId,i.msg)}else if("LEAVE_ROOM"==n){var i=JSON.parse(t.content);webSocket.options.deal("CLOSE_CUSTOMER",t.chatId,i.msg)}else if("RECEIPTS"==n){var i=JSON.parse(t.content);webSocket.options.deal("RECEIPT",t.chatId,i.targetMsgId)}else if("OPERATION_TIPS"==n){var i=JSON.parse(t.content);webSocket.options.deal(n,t.chatId,{params:i})}else if("REVOKE"==n){var i=JSON.parse(t.content);webSocket.options.deal("CUTOMER_REVOKE",t.chatId,t.messageId)}else if("VS_QUEUE_INDEX"==n){var i=JSON.parse(t.content);webSocket.options.deal("VS_QUEUE_INDEX",t.chatId,i)}else if("PONG"==n)webSocket.pongTime=(new Date).getTime();else if("DISCONNECTED_TIP"==n){var i=JSON.parse(t.content);webSocket.options.deal("CUSTOMER_NETWORK_INTERRUPT",t.chatId,i)}},close:function(e){var t=this;null!=t.websocket},send:function(e){var t=this;if(null!=t.websocket){var n=new o(e);t.websocket.send(JSON.stringify(n)),t.options.confirmSend(n.messageId)}},queue:function(e){var t=this;if(null!=t.websocket){var n=new a(e);t.websocket.send(JSON.stringify(n))}},expand:function(e){this.options=$.extend({},this.options,e)}},$.webSocket=function(e){var t=new i(e);return t}},function(e,t){!function(e,t,n){var i=function(e){this.defaults={BasicSetting:{},ExtraSetting:{},workStr:"温馨提示：尊敬的客户，我们的服务时间是【$1】<br>如果有重要的事情，请点击<a href='javascript:void(0)' class='dialogue-a fanke-liuyan'>在线留言</a><br>给您带来的不便，敬请谅解.",holidayStr:"温馨提示：尊敬的客户，我们的节假日时间是【$1】<br>如果有重要的事情，请点击<a href='javascript:void(0)' class='dialogue-a fanke-liuyan'>在线留言</a><br>给您带来的不便，敬请谅解.",show:function(e){}},this.options=t.extend({},this.defaults,e)};i.prototype={timeZone:"",type:0,init:function(){var e=this,t=this.options.BasicSetting,n=this.options.ExtraSetting;if(t&&1==t.open){var i=t.startTime.split(":"),o=t.endTime.split(":");if(i.length<2||o.length<2)return!1;var a=new Date,s=new Date,r=new Date;a.setHours(i[0]),a.setMinutes(i[1]),a.setSeconds("00"),s.setHours(o[0]),s.setMinutes(o[1]),s.setSeconds("00");for(var c,l,u=r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,d=r.getDate()<10?"0"+r.getDate():r.getDate(),p=r.getFullYear()+"-"+u+"-"+d,f="",h=t.week,m=r.getDay(),g=h.split(","),v=!1,y=0;y<=g.length;y++)switch(g[y]){case"0":f+="星期日&nbsp";break;case"1":f+="星期一&nbsp";break;case"2":f+="星期二&nbsp";break;case"3":f+="星期三&nbsp";break;case"4":f+="星期四&nbsp";break;case"5":f+="星期五&nbsp";break;case"6":f+="星期六&nbsp"}if(13==h.length&&(f=""),h.indexOf(m)>=0){if(r.getTime()>s.getTime()||r.getTime()<a.getTime())return e.type=1,e.timeZone=f+t.startTime+"-"+t.endTime,!1;for(var y=0;y<n.length;y++)if(1==n[y].exceType&&n[y].exceStartTime<=p&&n[y].exceEndTime>=p){c=n[y].exceStartTime,l=n[y].exceEndTime,v=!0;break}if(v)return e.type=2,e.timeZone=c+"-"+l,!1}else if("null"!=h){for(var y=0;y<n.length;y++)if(0==n[y].exceType&&n[y].exceStartTime<=p&&n[y].exceEndTime>=p){c=n[y].exceStartTime,l=n[y].exceEndTime,v=!0;break}if(!v)return e.type=1,e.timeZone=f+t.startTime+"-"+t.endTime,!1}}},iswork:function(){var e=this;e.type=0;var t=e.options.BasicSetting,n=e.options.ExtraSetting;if(t&&1==t.open){var i=t.startTime.split(":"),o=t.endTime.split(":");if(2!=i.length||2!=o.length)return!1;var a=new Date,s=new Date,r=new Date(nowtime);a.setHours(i[0]),a.setMinutes(i[1]),a.setSeconds("00"),s.setHours(o[0]),s.setMinutes(o[1]),s.setSeconds("00");for(var c,l,u=r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,d=r.getDate()<10?"0"+r.getDate():r.getDate(),p=r.getFullYear()+"-"+u+"-"+d,f="",h=t.week,m=r.getDay(),g=h.split(","),v=!1,y=0;y<=g.length;y++)switch(g[y]){case"0":f+="星期日&nbsp";break;case"1":f+="星期一&nbsp";break;case"2":f+="星期二&nbsp";break;case"3":f+="星期三&nbsp";break;case"4":f+="星期四&nbsp";break;case"5":f+="星期五&nbsp";break;case"6":f+="星期六&nbsp"}if(13==h.length&&(f=""),h.indexOf(m)>=0){if(r.getTime()>s.getTime()||r.getTime()<a.getTime())return e.type=1,e.timeZone=f+t.startTime+"-"+t.endTime,!1;for(var y=0;y<n.length;y++)if(1==n[y].exceType&&n[y].exceStartTime<=p&&n[y].exceEndTime>=p){c=n[y].exceStartTime,l=n[y].exceEndTime,v=!0;break}if(v)return e.type=2,e.timeZone=c+"-"+l,!1}else if("null"!=h){for(var y=0;y<n.length;y++)if(0==n[y].exceType&&n[y].exceStartTime<=p&&n[y].exceEndTime>=p){c=n[y].exceStartTime,l=n[y].exceEndTime,v=!0;break}if(!v)return e.type=1,e.timeZone=f+t.startTime+"-"+t.endTime,!1}}},getMsg:function(){return 1==this.type?this.options.workStr.replace(/\$1/g,this.timeZone):2==this.type&&this.options.holidayStr.replace(/\$1/g,this.timeZone)},show:function(){var e=this.getMsg();this.options.show(e)}},t.workTime=function(e){var t=new i(e);return t.init(),t}}(window,jQuery)},function(e,t){jQuery.cookie=function(e,t,n){if("undefined"==typeof t){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),a=0;a<o.length;a++){var s=jQuery.trim(o[a]);if(s.substring(0,e.length+1)==e+"="){i=decodeURIComponent(s.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var r="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+864e5*n.expires)):c=n.expires,r="; expires="+c.toUTCString()}var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,l,u,d].join("")};var n=function(){function e(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=a[e];return t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'}function t(e){var t,i,o,a=["["],s=e.length;for(i=0;s>i;i++)switch(o=e[i],"undefined"==typeof o?"undefined":_typeof(o)){case"undefined":case"function":case"unknown":break;default:t&&a.push(","),a.push(n(o)),t=1}return a.push("]"),a.join("")}function i(e){return 10>e?"0"+e:e}function o(e){return'"'+e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+'"'}var a={"\b":"\\b","  ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(i){switch("undefined"==typeof i?"undefined":_typeof(i)){case"undefined":return"undefined";case"number":return isFinite(i)?String(i):"null";case"string":return e(i);case"boolean":return String(i);default:if(null===i)return"null";if(i instanceof Array)return t(i);if(i instanceof Date)return o(i);var a,s,r=["{"],c=n;for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l))switch(s=i[l],"undefined"==typeof s?"undefined":_typeof(s)){case"undefined":case"unknown":case"function":break;default:a&&r.push(","),a=1,r.push(c(l)+":"+c(s))}return r.push("}"),r.join("")}}}();JSON={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||$.parseJSON||$.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||n},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.insertSort=function(e){for(var t=this,e=e||function(e,t){return t>e},n=1,i=t.length;n<i;n++){for(var o=t[n],a=n-1;a>=0&&e(t[a],o);)t[a+1]=t[a],a--;t[a+1]=o}return t},Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}},function(e,t,n){var i=(n(1),n(0)),o=new $.Deferred,o=new $.Deferred;$.when(i.getSettingsAndService(),i.getLangAndMessageSettings(),i.getVisitosDisplay(),i.getTmpCode()).done(function(){o.resolve()}),e.exports=o.promise()},function(e,t){e.exports="/webpack//images/loading.gif"},function(e,t){e.exports="/webpack//images/loading.gif"},function(e,t){e.exports="data:image/gif;base64,R0lGODlhDwATAIABAJmZmQAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjAwMjc5REM0RDg5MTFFNkJDNDNDNEE0NTI5Q0U3NDEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjAwMjc5REI0RDg5MTFFNkJDNDNDNEE0NTI5Q0U3NDEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuZGlkOjg2ODc0NzZhLTkxZDctMjQ0MS05ODZlLWI2YTA2NzZjZDhiOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Njg3NDc2YS05MWQ3LTI0NDEtOTg2ZS1iNmEwNjc2Y2Q4YjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFDwABACwAAAAADwATAAACD4yPqcvtD6OctNqLs96tAAAh+QQJHgABACwEAAcAAwAHAAACBwRiZ6iZUQAAIfkEBS0AAQAsAAAAAA8AEwAAAiCMj6nL7Q7AO7HVEOXK5m7tKVeYjJpoMulEfhP2xvJUAAAh+QQFPAABACwIAAEABQARAAACEQSCdrmMYR5s0dn5Kt67qlsAADs="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAATCAYAAABPwleqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAylpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDI2OEFEMDQ0RDhBMTFFNkJEMEFCOEUwREEyQkVDMUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDI2OEFEMDM0RDhBMTFFNkJEMEFCOEUwREEyQkVDMUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuZGlkOjg2ODc0NzZhLTkxZDctMjQ0MS05ODZlLWI2YTA2NzZjZDhiOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Njg3NDc2YS05MWQ3LTI0NDEtOTg2ZS1iNmEwNjc2Y2Q4YjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5qmW4mAAABSElEQVR42mL8//8/A7mABcaYNWsWNnkOIL4BxH+AWAUmmJaWBqaZCBjOBcQyQKwMxJvRJXFprgXiQiB+B8TyQPwXiH2A2IuQZpBXmoC4D4j1gPgpEIdA5dYQ0gzyXzmUfRJKbwDiZ0DMCcQx2DQ/AuK3UHYXEO+GBlgzVCwbSldh0/wRiIWAeAmU7wal85BsBwFVbJp1gfg3EEcjiX8AYj4kNZ+Qoxfdz7eQoggE3qDJf8cXYLCE8A1KC6PJc+LSfBGI2YF4BRD/g4oJQsMCBvigcY6hWQHqzEgofw+U7ofSAWheQ3geCPiR2KDU5QzEP4C4ESo2FUo340sk4tDUBQKmUNofiKWgYbEcm80w8BqI5wPxTSC+AsSSQLwWKheGNUsiAVBgJUHZoETzGIiZgXgLEG8lpBkZfINmDFDi8UWXZKSkJAEIMACWLkALAjkkIAAAAABJRU5ErkJggg=="},function(e,t){e.exports="/webpack//images/player-graphics.gif"},function(e,t,n){!function(e,t,i){var o="./audio/audiojs.swf",a=n(44),s=n(45),r=n(46),c=n(47);i[e]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,imageLocation:c,swfLocation:o,useFlash:function(){var e=document.createElement("audio");return!(e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return!0;if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes["application/x-shockwave-flash"];return e&&e.enabledPlugin}try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(t){}return!1}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em><strong class="duration">0"</strong>           </div>           <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},css:"    audio[controls] { display:none; }         .audiojs audio { position: absolute; left: -1px; }         .audiojs { display:inline-block; height: 30px;position:relative;width: 110px; border:1px solid #d2d2d2;border-radius:7px; background: #b8e6f7; overflow: hidden; font-family: monospace; font-size: 12px;  }         .audiojs .play-pause { width: 100%; height: 20px; padding: 4px 0px 4px 6px; margin: 0px; position:absolute;left:0; overflow: hidden;  }         .audiojs p { display: none; width: 25px; height: 20px; margin: 0px; cursor: pointer;    margin-top: 2px; }         .audiojs .play { display: block; }         .audiojs .scrubber {display:none; position: absolute; left: 38px;right:89px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time {width:auto; position:absolute;left:10px; height: 30px; line-height: 30px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; font-size:14px;color: #999;  }         .audiojs .time em { display:none; padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message {  position: absolute; left: 38px;right:89px; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("+r+") -2px -1px no-repeat; }         .audiojs .loading { background: url("+a+') no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url('+s+") no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }",trackEnded:function(){},flashError:function(){var t=this.settings.createPlayer,n=l(t.errorMessageClass,this.wrapper),o='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';this.mp3&&(o+=' <a href="'+this.mp3+'">Download audio file</a>.'),i[e].helpers.removeClass(this.wrapper,t.loadingClass),i[e].helpers.addClass(this.wrapper,t.errorClass),n.innerHTML=o,
i[e].helpers.whenError()},loadError:function(){var t=this.settings.createPlayer,n=l(t.errorMessageClass,this.wrapper);i[e].helpers.removeClass(this.wrapper,t.loadingClass),i[e].helpers.addClass(this.wrapper,t.errorClass),n.innerHTML='Error loading: "'+this.mp3+'"',i[e].helpers.whenError()},init:function(){i[e].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var t=this.settings.createPlayer;l(t.durationClass,this.wrapper),Math.floor(this.duration/60),Math.floor(this.duration%60),Math.floor(this.duration)+'"';i[e].helpers.removeClass(this.wrapper,t.loadingClass)},showduration:function(){var e=this,t=l(e.settings.createPlayer.durationClass,this.wrapper);$(e.element).parents(".audiojs").parent().find("a[voiceTime]").length>0?t.innerHTML=$(e.element).parents(".audiojs").parent().find("a[voiceTime]").attr("voiceTime")+'"':(t.innerHTML=Math.round(e.element.duration)+'"',setTimeout(function(){e.settings.showduration.apply(e)},1e3));var n=parseInt(t.innerHTML)?parseInt(t.innerHTML):0;n=60+2*n,$(this.wrapper).width(n>160?160:n)},loadProgress:function(e){var t=this.settings.createPlayer,n=l(t.scrubberClass,this.wrapper);l(t.loaderClass,this.wrapper).style.width=n.offsetWidth*e+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){i[e].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){i[e].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(e){var t=this.settings.createPlayer,n=l(t.scrubberClass,this.wrapper);l(t.progressClass,this.wrapper).style.width=n.offsetWidth*e+"px",t=l(t.playedClass,this.wrapper)}},create:function(e,t){return t=t||{},e.length?this.createAll(t,e):this.newInstance(e,t)},createAll:function(e,t){var n=t||document.getElementsByTagName("audio"),i=[];e=e||{};for(var o=0,a=n.length;o<a;o++)i.push(this.newInstance(n[o],e));return i},newInstance:function(e,n){var o=this.helpers.clone(this.settings),a="audiojs"+this.instanceCount,s="audiojs_wrapper"+this.instanceCount;return this.instanceCount++,null!=e.getAttribute("autoplay")&&(o.autoplay=!0),null!=e.getAttribute("loop")&&(o.loop=!0),"none"==e.getAttribute("preload")&&(o.preload=!1),n&&this.helpers.merge(o,n),o.createPlayer.markup?e=this.createPlayer(e,o.createPlayer,s):e.parentNode.setAttribute("id",s),s=new i[t](e,o),o.css&&this.helpers.injectCss(s,o.css),o.useFlash&&o.hasFlash?(this.injectFlash(s,a),this.attachFlashEvents(s.wrapper,s)):o.useFlash&&!o.hasFlash&&this.settings.flashError.apply(s),(!o.useFlash||o.useFlash&&o.hasFlash)&&this.attachEvents(s.wrapper,s),s.settings.showduration.apply(s),this.instances[a]=s},createPlayer:function(e,t,n){var i=document.createElement("div"),o=e.cloneNode(!0);return i.setAttribute("class","audiojs"),i.setAttribute("className","audiojs"),i.setAttribute("id",n),o.outerHTML&&!document.createElement("audio").canPlayType?(o=this.helpers.cloneHtml5Node(e),i.innerHTML=t.markup,i.appendChild(o),e.outerHTML=i.outerHTML,i=document.getElementById(n)):(i.appendChild(o),i.innerHTML+=t.markup,e.parentNode.replaceChild(i,e)),i.getElementsByTagName("audio")[0]},attachEvents:function(t,n){if(n.settings.createPlayer){var o=n.settings.createPlayer,a=l(o.playPauseClass,t),s=l(o.scrubberClass,t);i[e].events.addListener(a,"click",function(){n.playPause.apply(n)}),i[e].events.addListener(s,"click",function(e){e=e.clientX;var t=this,i=0;if(t.offsetParent)do i+=t.offsetLeft;while(t=t.offsetParent);n.skipTo((e-i)/s.offsetWidth)}),n.settings.useFlash||(i[e].events.trackLoadProgress(n),i[e].events.addListener(n.element,"timeupdate",function(){n.updatePlayhead.apply(n)}),i[e].events.addListener(n.element,"ended",function(){n.trackEnded.apply(n)}),i[e].events.addListener(n.source,"error",function(){clearInterval(n.readyTimer),clearInterval(n.loadTimer),n.settings.loadError.apply(n)}))}},attachFlashEvents:function(e,t){t.swfReady=!1,t.load=function(e){t.mp3=e,t.swfReady&&t.element.load(e)},t.loadProgress=function(e,n){t.loadedPercent=e,t.duration=n,t.settings.loadStarted.apply(t),t.settings.loadProgress.apply(t,[e])},t.skipTo=function(e){e>t.loadedPercent||(t.updatePlayhead.call(t,[e]),t.element.skipTo(e))},t.updatePlayhead=function(e){t.settings.updatePlayhead.apply(t,[e])},t.play=function(){t.settings.preload||(t.settings.preload=!0,t.element.init(t.mp3)),t.playing=!0,t.element.pplay(),t.settings.play.apply(t)},t.pause=function(){t.playing=!1,t.element.ppause(),t.settings.pause.apply(t)},t.setVolume=function(e){t.element.setVolume(e)},t.loadStarted=function(){t.swfReady=!0,t.settings.preload&&t.element.init(t.mp3),t.settings.autoplay&&t.play.apply(t)}},injectFlash:function(e,t){var n=this.flashSource.replace(/\$1/g,t);n=n.replace(/\$2/g,e.settings.swfLocation),n=n.replace(/\$3/g,+new Date+Math.random());var i=e.wrapper.innerHTML,o=document.createElement("div");o.innerHTML=n+i,e.wrapper.innerHTML=o.innerHTML,e.element=this.helpers.getSwf(t)},helpers:{whenError:function(){},merge:function(e,t){for(attr in t)(e.hasOwnProperty(attr)||t.hasOwnProperty(attr))&&(e[attr]=t[attr])},clone:function(e){if(null==e||"object"!==("undefined"==typeof e?"undefined":_typeof(e)))return e;var t,n=new e.constructor;for(t in e)n[t]=arguments.callee(e[t]);return n},addClass:function(e,t){RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=" "+t)},removeClass:function(e,t){e.className=e.className.replace(RegExp("(\\s|^)"+t+"(\\s|$)")," ")},injectCss:function(e,t){for(var n="",i=document.getElementsByTagName("style"),o=t.replace(/\$1/g,e.settings.imageLocation),a=0,s=i.length;a<s;a++){var r=i[a].getAttribute("title");if(r&&~r.indexOf("audiojs")){if(s=i[a],s.innerHTML===o)return;n=s.innerHTML;break}}i=document.getElementsByTagName("head")[0],a=i.firstChild,s=document.createElement("style"),i&&(s.setAttribute("type","text/css"),s.setAttribute("title","audiojs"),s.styleSheet?s.styleSheet.cssText=n+o:s.appendChild(document.createTextNode(n+o)),a?i.insertBefore(s,a):i.appendChild(styleElement))},cloneHtml5Node:function(e){var t=document.createDocumentFragment(),n=t.createElement?t:document;return n.createElement("audio"),n=n.createElement("div"),t.appendChild(n),n.innerHTML=e.outerHTML,n.firstChild},getSwf:function(e){return e=document[e]||window[e],e.length>1?e[e.length-1]:e}},events:{memoryLeaking:!1,listeners:[],addListener:function(t,n,o){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent&&(this.listeners.push(t),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var t=0,n=this.listeners.length;t<n;t++)i[e].events.purge(this.listeners[t])}),this.memoryLeaking=!0),t.attachEvent("on"+n,function(){o.call(t,window.event)}))},trackLoadProgress:function(e){if(e.settings.preload){var t,n;e=e;var i=/(ipod|iphone|ipad)/i.test(navigator.userAgent);t=setInterval(function(){e.element.readyState>-1&&(i||e.init.apply(e)),e.element.readyState>1&&(e.settings.autoplay&&e.play.apply(e),clearInterval(t),n=setInterval(function(){e.loadProgress.apply(e),e.loadedPercent>=1&&clearInterval(n)}))},10),e.readyTimer=t,e.loadTimer=n}},purge:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t,n=e.attributes;if(n)for(t=0;t<n.length;t+=1)"function"==typeof e[n[t].name]&&(e[n[t].name]=null);if(n=e.childNodes)for(t=0;t<n.length;t+=1)purge(e.childNodes[t])}),ready:function(){return function(e){var t=window,n=!1,i=!0,o=t.document,a=o.documentElement,s=o.addEventListener?"addEventListener":"attachEvent",r=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",l=function p(i){"readystatechange"==i.type&&"complete"!=o.readyState||(("load"==i.type?t:o)[r](c+i.type,p,!1),!n&&(n=!0)&&e.call(t,i.type||i))},u=function f(){try{a.doScroll("left")}catch(e){return void setTimeout(f,50)}l("poll")};if("complete"==o.readyState)e.call(t,"lazy");else{if(o.createEventObject&&a.doScroll){try{i=!t.frameElement}catch(d){}i&&u()}o[s](c+"DOMContentLoaded",l,!1),o[s](c+"readystatechange",l,!1),t[s](c+"load",l,!1)}}}()}},i[t]=function(e,t){this.element=e,this.wrapper=e.parentNode,this.source=e.getElementsByTagName("source")[0]||e,this.mp3=function(e){var t=e.getElementsByTagName("source")[0];return e.getAttribute("src")||(t?t.getAttribute("src"):null)}(e),this.settings=t,this.loadStartedCalled=!1,this.loadedPercent=0,this.duration=1,this.playing=!1},i[t].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,[this.element.currentTime/this.duration])},skipTo:function(e){e>this.loadedPercent||(this.element.currentTime=this.duration*e,this.updatePlayhead())},load:function(t){this.loadStartedCalled=!1,this.source.setAttribute("src",t),this.element.load(),this.mp3=t,i[e].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){return!!this.element.duration&&(this.duration=this.element.duration,this.updatePlayhead(),void this.settings.loadStarted.apply(this))},loadProgress:function(){null!=this.element.buffered&&this.element.buffered.length&&(this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted()),this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent]))},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&0==this.element.readyState&&this.init.apply(this),this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),i[e].events.trackLoadProgress(this)),this.playing=!0,this.element.play(),this.settings.play.apply(this)},pause:function(){this.playing=!1,this.element.pause(),this.settings.pause.apply(this)},setVolume:function(e){this.element.volume=e},trackEnded:function(){this.skipTo.apply(this,[0]),this.settings.loop||this.pause.apply(this),this.settings.trackEnded.apply(this)}};var l=function(e,t){var n=[];if(t=t||document,t.getElementsByClassName)n=t.getElementsByClassName(e);else{var i,o,a=t.getElementsByTagName("*"),s=RegExp("(^|\\s)"+e+"(\\s|$)");for(i=0,o=a.length;i<o;i++)s.test(a[i].className)&&n.push(a[i])}return n.length>1?n:n[0]}}("audiojs","audiojsInstance",this),e.exports=this.audiojs},function(e,t,n){n(5);n(12),n(41),n(0),ucc=n(1),pageLoad=n(42),n(13),n(15),n(16),n(17),n(19),n(20),n(21),n(3),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(14),n(35),n(36),n(37),n(38),n(39),n(40),n(18),n(10),n(9),n(11),n(6),n(8),n(7),function(e,t,n){t(document).ready(function(){t("body").css("visibility","visible"),pageLoad.done(function(){uccH5Event=t.uccH5Event(),uccH5Logic=t.uccH5Logic(),uccH5Init=t.uccH5Init(),uccH5Init.initBasic(),uccH5Init.initData().done(function(){uccH5Init.initFunc(),dialogue.islive()||(workTime.iswork(),0==workTime.type?uccH5Logic.loadScheme():workTime.show()),uccH5Logic.initFace(),uccH5Event.binds(),uccH5Logic.viewFunc(),uccH5Init.initSatifaction(),uccH5Init.initLocalHistory(),uccH5Event.scrollToBottom(),t("img[defsrc]").each(function(e,n){t(this).attr("src",t(this).attr("defsrc"))})})})}),setTimeout(function(){e.scrollTo(0,1)},0)}(window,jQuery)},function(e,t){function n(e,t,o){function a(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}var s={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3};o||(o={});for(var r in s)"undefined"!=typeof o[r]?this[r]=o[r]:this[r]=s[r];this.url=e,this.reconnectAttempts=0,this.readyState=i.CONNECTING,this.protocol=null;var c,l=this,u=!1,d=!1,p=document.createElement("div");p.addEventListener("open",function(e){l.onopen(e)}),p.addEventListener("close",function(e){l.onclose(e)}),p.addEventListener("connecting",function(e){l.onconnecting(e)}),p.addEventListener("message",function(e){l.onmessage(e)}),p.addEventListener("error",function(e){l.onerror(e)}),this.addEventListener=p.addEventListener.bind(p),this.removeEventListener=p.removeEventListener.bind(p),this.dispatchEvent=p.dispatchEvent.bind(p),this.open=function(e){c=new i(l.url,t||[]),e||p.dispatchEvent(a("connecting")),(l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",l.url);var o=c,s=setTimeout(function(){(l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",l.url),d=!0,o.close(),d=!1},l.timeoutInterval);c.onopen=function(t){console.log("opened"),clearTimeout(s),(l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","onopen",l.url),l.protocol=c.protocol,l.readyState=i.OPEN,l.reconnectAttempts=0;var o=a("open");o.isReconnect=e,e=!1,p.dispatchEvent(o)},c.onclose=function(t){if(clearTimeout(s),console.log("event.code:"+t.code),console.log(t.reason),!t.code||"1004"!=t.code&&"1005"!=t.code&&"1006"!=t.code||(u=!0),c=null,u){l.readyState=i.CLOSED;var o=a("close");o.code=t.code,p.dispatchEvent(o)}else{l.readyState=i.CONNECTING;var o=a("connecting");o.code=t.code,o.reason=t.reason,o.wasClean=t.wasClean,p.dispatchEvent(o),e||d||((l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","onclose",l.url),p.dispatchEvent(a("close")));var s=l.reconnectInterval*Math.pow(l.reconnectDecay,l.reconnectAttempts);setTimeout(function(){l.reconnectAttempts++,l.open(!0)},s>l.maxReconnectInterval?l.maxReconnectInterval:s)}},c.onmessage=function(e){(l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",l.url,e.data);var t=a("message");t.data=e.data,p.dispatchEvent(t)},c.onerror=function(e){(l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","onerror",l.url,e),p.dispatchEvent(a("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(e){if(c)return(l.debug||n.debugAll)&&console.debug("ReconnectingWebSocket","send",l.url,e),c.send(e)},this.close=function(e,t){"undefined"==typeof e&&(e=1e3),console.log("debug: WebSocket closed. code="+e),u=!0,c&&c.close(e,t)},this.refresh=function(){c&&c.close()}}var i=window.WebSocket||window.MozWebSocket;n.prototype.onopen=function(e){},n.prototype.onclose=function(e){},n.prototype.onconnecting=function(e){},n.prototype.onmessage=function(e){},n.prototype.onerror=function(e){},n.debugAll=!1,n.CONNECTING=i.CONNECTING,n.OPEN=i.OPEN,n.CLOSING=i.CLOSING,n.CLOSED=i.CLOSED,e.exports=n}]);